/*! For license information please see main.adbea803.js.LICENSE.txt */
(()=>{var e={11:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],s=t(a);n.has(s)||n.set(s,a)}return Array.from(n.values())}},225:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},759:(e,t,n)=>{"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,i=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return o(function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})},[e,n,t]),i(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},830:(e,t,n)=>{e.exports=n(5497).sortBy},847:function(e,t){var n,r,a;r=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,s={},i=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=x(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(s=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,s)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(e))&&(e=s),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var s=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=s.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),s&&s.data&&(this._rowCount+=s.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,a)n.postMessage({results:s,workerId:o.WORKER_ID,finished:r});else if(w(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!r||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var a;this._config.chunkSize&&(a=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+a));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,a=(this._config.chunkSize&&(a=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,a)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=b(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=b(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=b(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(e){var t,n,r,a,s=Math.pow(2,53),i=-s,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,d=0,h=0,f=!1,g=!1,v=[],y={data:[],errors:[],meta:{}};function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function N(){if(y&&r&&(E("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(y.data=y.data.filter(function(e){return!b(e)})),S()){if(y)if(Array.isArray(y.data[0])){for(var t=0;S()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}function a(t,n){for(var r=e.header?{}:[],a=0;a<t.length;a++){var o=a,u=t[a];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),i<e&&e<s))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(o=e.header?a>=v.length?"__parsed_extra":v[a]:o,u=e.transform?e.transform(u,o):u),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(u)):r[o]=u}return e.header&&(a>v.length?E("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+a,h+n):a<v.length&&E("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+a,h+n)),r}var u;y&&(e.header||e.dynamicTyping||e.transform)&&(u=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(a),u=y.data.length):y.data=a(y.data,0),e.header&&y.meta&&(y.meta.fields=v),h+=u)}function S(){return e.header&&0===v.length}function E(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),y.errors.push(e)}w(e.step)&&(a=e.step,e.step=function(t){y=t,S()?N():(N(),0!==y.data.length&&(d+=t.data.length,e.preview&&d>e.preview?n.abort():(y.data=y.data[0],a(y,u))))}),this.parse=function(a,s,i){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(a,l)),r=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(a),y.meta.delimiter=e.delimiter):((l=((t,n,r,a,s)=>{var i,l,c,u;s=s||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<s.length;d++){for(var h,f=s[d],m=0,g=0,v=0,y=(c=void 0,new p({comments:a,delimiter:f,newline:n,preview:10}).parse(t)),x=0;x<y.data.length;x++)r&&b(y.data[x])?v++:(g+=h=y.data[x].length,void 0===c?c=h:0<h&&(m+=Math.abs(h-c),c=h));0<y.data.length&&(g/=y.data.length-v),(void 0===l||m<=l)&&(void 0===u||u<g)&&1.99<g&&(l=m,i=f,u=g)}return{successful:!!(e.delimiter=i),bestDelimiter:i}})(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),y.meta.delimiter=e.delimiter),l=x(e),e.preview&&e.header&&l.preview++,t=a,n=new p(l),y=n.parse(t,s,i),N(),f?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(f=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),y.meta.aborted=!0,w(e.complete)&&e.complete(y),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(m(t)+"([^]*?)"+m(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,a=0;a<n.length;a++)"\n"===n[a][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,a=e.step,s=e.preview,i=e.fastMode,l=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,d=u;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var h=0,f=!1;this.parse=function(o,p,g){if("string"!=typeof o)throw new Error("Input must be a string");var v=o.length,y=t.length,x=n.length,b=r.length,N=w(a),S=[],E=[],k=[],j=h=0;if(!o)return z();if(i||!1!==i&&-1===o.indexOf(u)){for(var T=o.split(n),_=0;_<T.length;_++){if(k=T[_],h+=k.length,_!==T.length-1)h+=n.length;else if(g)return z();if(!r||k.substring(0,b)!==r){if(N){if(S=[],D(k.split(t)),F(),f)return z()}else D(k.split(t));if(s&&s<=_)return S=S.slice(0,s),z(!0)}}return z()}for(var C=o.indexOf(t,h),A=o.indexOf(n,h),O=new RegExp(m(d)+m(u),"g"),I=o.indexOf(u,h);;)if(o[h]===u)for(I=h,h++;;){if(-1===(I=o.indexOf(u,I+1)))return g||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:h}),M();if(I===v-1)return M(o.substring(h,I).replace(O,u));if(u===d&&o[I+1]===d)I++;else if(u===d||0===I||o[I-1]!==d){-1!==C&&C<I+1&&(C=o.indexOf(t,I+1));var P=R(-1===(A=-1!==A&&A<I+1?o.indexOf(n,I+1):A)?C:Math.min(C,A));if(o.substr(I+1+P,y)===t){k.push(o.substring(h,I).replace(O,u)),o[h=I+1+P+y]!==u&&(I=o.indexOf(u,h)),C=o.indexOf(t,h),A=o.indexOf(n,h);break}if(P=R(A),o.substring(I+1+P,I+1+P+x)===n){if(k.push(o.substring(h,I).replace(O,u)),L(I+1+P+x),C=o.indexOf(t,h),I=o.indexOf(u,h),N&&(F(),f))return z();if(s&&S.length>=s)return z(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:h}),I++}}else if(r&&0===k.length&&o.substring(h,h+b)===r){if(-1===A)return z();h=A+x,A=o.indexOf(n,h),C=o.indexOf(t,h)}else if(-1!==C&&(C<A||-1===A))k.push(o.substring(h,C)),h=C+y,C=o.indexOf(t,h);else{if(-1===A)break;if(k.push(o.substring(h,A)),L(A+x),N&&(F(),f))return z();if(s&&S.length>=s)return z(!0)}return M();function D(e){S.push(e),j=h}function R(e){var t=0;return-1!==e&&(e=o.substring(I+1,e))&&""===e.trim()?e.length:t}function M(e){return g||(void 0===e&&(e=o.substring(h)),k.push(e),h=v,D(k),N&&F()),z()}function L(e){h=e,D(k),k=[],A=o.indexOf(n,h)}function z(r){if(e.header&&!p&&S.length&&!c){var a=S[0],s=Object.create(null),i=new Set(a);let t=!1;for(let n=0;n<a.length;n++){let r=a[n];if(s[r=w(e.transformHeader)?e.transformHeader(r,n):r]){let e,o=s[r];for(;e=r+"_"+o,o++,i.has(e););i.add(e),a[n]=e,s[r]++,t=!0,(l=null===l?{}:l)[e]=r}else s[r]=1,a[n]=r;i.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:S,errors:E,meta:{delimiter:t,linebreak:n,aborted:f,truncated:!!r,cursor:j+(p||0),renamedHeaders:l}}}function F(){a(z()),S=[],E=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return h}}function g(e){var t=e.data,n=s[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},a),!r);i++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=s[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function y(){throw new Error("Not implemented.")}function x(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=x(e[t]);return n}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return o.parse=function(t,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,!r.worker||!o.WORKERS_SUPPORTED)return a=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),a=new(r.download?c:d)(r)):!0===t.readable&&w(t.read)&&w(t.on)?a=new h(r):(n.File&&t instanceof File||t instanceof Object)&&(a=new u(r)),a.stream(t);(a=(()=>{var t;return!!o.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return o.BLOB_URL||(o.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=g,t.id=i++,s[t.id]=t)})()).userStep=r.step,a.userChunk=r.chunk,a.userComplete=r.complete,a.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,a.postMessage({input:t,config:r,workerId:a.id})},o.unparse=function(e,t){var n=!1,r=!0,a=",",s="\r\n",i='"',l=i+i,c=!1,u=null,d=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(a=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(i=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+i),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),new RegExp(m(i),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var i="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&r){for(var c=0;c<e.length;c++)0<c&&(i+=a),i+=p(e[c],c);0<t.length&&(i+=s)}for(var u=0;u<t.length;u++){var d=(o?e:t[u]).length,h=!1,f=o?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!o&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&o){for(var m=[],g=0;g<d;g++){var v=l?e[g]:g;m.push(t[u][v])}h=""===m.join("").trim()}if(!h){for(var y=0;y<d;y++){0<y&&!f&&(i+=a);var x=o&&l?e[y]:y;i+=p(t[u][x],y)}u<t.length-1&&(!n||0<d&&!f)&&(i+=s)}}return i}function p(e,t){var r,s;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(s=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,s=!0),r=e.toString().replace(h,l),(s=s||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,o.BAD_DELIMITERS)||-1<r.indexOf(a)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?i+r+i:r)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!n.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=p,o.ParserHandle=f,o.NetworkStreamer=c,o.FileStreamer=u,o.StringStreamer=d,o.ReadableStreamStreamer=h,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},a=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)a.push({file:this.files[s],inputElem:this,instanceConfig:t.extend({},r)})}),s(),this;function s(){if(0===a.length)w(e.complete)&&e.complete();else{var n,r,s,l,c=a[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",r=c.file,s=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:n},r,s,l));if("skip"===u.action)return void i();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void i()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(d)&&d(e,c.file,c.inputElem),i()},o.parse(c.file,c.instanceConfig)}}function i(){a.splice(0,1),s()}}),a&&(n.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&n.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,o},void 0===(a="function"===typeof n?n.apply(t,r):n)||(e.exports=a)},1047:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},1083:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},1085:(e,t,n)=>{"use strict";var r=n(5340),a=n(9950),s=n(7119);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var C=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=C&&e[C]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var P=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=L[z],L[z]=null,z--)}function q(e,t){z++,L[z]=e.current,e.current=t}var B,V,H=F(null),W=F(null),G=F(null),Q=F(null);function K(e,t){switch(q(G,t),q(W,e),q(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(H),q(H,e)}function Y(){U(H),U(W),U(G)}function X(e){null!==e.memoizedState&&q(Q,e);var t=H.current,n=yd(t,e.type);t!==n&&(q(W,e),q(H,n))}function $(e){W.current===e&&(U(H),U(W)),Q.current===e&&(U(Q),uh._currentValue=M)}function J(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",V=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+V}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ie=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,me=r.unstable_IdlePriority,pe=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function xe(e){if("function"===typeof pe&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/Ne|0)|0},we=Math.log,Ne=Math.LN2;var Se=256,Ee=262144,ke=4194304;function je(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=je(r):0!==(i&=o)?a=je(i):n||0!==(n=o&~e)&&(a=je(n)):0!==(o=r&~s)?a=je(o):0!==i?a=je(i):n||0!==(n=r&~e)&&(a=je(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Re(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:jh(e.type)}function Fe(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}var Ue=Math.random().toString(36).slice(2),qe="__reactFiber$"+Ue,Be="__reactProps$"+Ue,Ve="__reactContainer$"+Ue,He="__reactEvents$"+Ue,We="__reactListeners$"+Ue,Ge="__reactHandles$"+Ue,Qe="__reactResources$"+Ue,Ke="__reactMarker$"+Ue;function Ye(e){delete e[qe],delete e[Be],delete e[He],delete e[We],delete e[Ge]}function Xe(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[qe])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[qe]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,n){if(a=t,re.call(ot,a)||!re.call(it,a)&&(st.test(a)?ot[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?bt(e,i,dt(t)):null!=n?bt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function xt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ft(e)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(P(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&jt(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&jt(e,s,t[s])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Pt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Mt=null;function Lt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Be]||null;if(!a)throw Error(i(90));yt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ft(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Rt||null!==Mt)&&(Zc(),Rt&&(t=Rt,e=Mt,Mt=Rt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(qt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch($h){Bt=!1}var Ht=null,Wt=null,Gt=null;function Qt(){if(Gt)return Gt;var e,t,n=Wt,r=n.length,a="value"in Ht?Ht.value:Ht.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Gt=a.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),an=$t(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=$t(sn),ln=$t(f({},sn,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),un=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function vn(){return gn}var yn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=$t(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),wn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=$t(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=$t(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],kn=qt&&"CompositionEvent"in window,jn=null;qt&&"documentMode"in document&&(jn=document.documentMode);var Tn=qt&&"TextEvent"in window&&!jn,_n=qt&&(!kn||jn&&8<jn&&11>=jn),Cn=String.fromCharCode(32),An=!1;function On(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Mn(e,t,n,r){Rt?Mt?Mt.push(r):Mt=[r]:Rt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,zn=null;function Fn(e){Yu(e,0)}function Un(e){if(mt(Je(e)))return e}function qn(e,t){if("change"===e)return t}var Bn=!1;if(qt){var Vn;if(qt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}Vn=Hn}else Vn=!1;Bn=Vn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Qn),zn=Ln=null)}function Qn(e){if("value"===e.propertyName&&Un(zn)){var t=[];Mn(t,zn,e,Dt(e)),Ft(Fn,t)}}function Kn(e,t,n){"focusin"===e?(Gn(),zn=n,(Ln=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Gn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(zn)}function Xn(e,t){if("click"===e)return Un(t)}function $n(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=qt&&"documentMode"in document&&11>=document.documentMode,ir=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==pt(r)||("selectionStart"in(r=ir)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},mr={};function pr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return fr[e]=n[t];return e}qt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=pr("animationend"),vr=pr("animationiteration"),yr=pr("animationstart"),xr=pr("transitionrun"),br=pr("transitionstart"),wr=pr("transitioncancel"),Nr=pr("transitionend"),Sr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Sr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var jr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],_r=0,Cr=0;function Ar(){for(var e=_r,t=Cr=_r=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var a=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Dr(n,a,s)}}function Or(e,t,n,r){Tr[_r++]=e,Tr[_r++]=t,Tr[_r++]=n,Tr[_r++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Or(e,t,n,r),Rr(e)}function Pr(e,t){return Or(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-be(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Rr(e){if(50<Hc)throw Hc=0,Wc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,a,s){var o=0;if(r=e,"function"===typeof e)Fr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,a)).elementType=T,e.lanes=s,e;case v:return Vr(n.children,a,s,t);case y:o=8,a|=24;break;case x:return(e=zr(12,n,t,2|a)).elementType=x,e.lanes=s,e;case S:return(e=zr(13,n,t,a)).elementType=S,e.lanes=s,e;case E:return(e=zr(19,n,t,a)).elementType=E,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case b:o=9;break e;case N:o=11;break e;case k:o=14;break e;case j:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Vr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Wr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Kr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,$r=null,Jr=0,Zr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Yr[Xr++]=Jr,Yr[Xr++]=$r,$r=e,Jr=t}function sa(e,t,n){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-be(r)-1;r&=~(1<<a),n+=1;var s=32-be(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,na=1<<32-be(t)+a|n<<a|r,ra=s+e}else na=1<<s|n<<a|r,ra=e}function ia(e){null!==e.return&&(aa(e,1),sa(e,1,0))}function oa(e){for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null;for(;e===ta;)ta=Zr[--ea],Zr[ea]=null,ra=Zr[--ea],Zr[ea]=null,na=Zr[--ea],Zr[ea]=null}function la(e,t){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ca=null,ua=null,da=!1,ha=null,fa=!1,ma=Error(i(519));function pa(e){throw wa(Kr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ma}function ga(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[Be]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Xu(Qu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||pa(e,!0)}function va(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function ya(e){if(e!==ca)return!1;if(!da)return va(e),da=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xd(e.type,e.memoizedProps)),t=!t),t&&ua&&pa(e),va(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ua=Rd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ua=Rd(e)}else 27===n?(n=ua,jd(e.type)?(e=Dd,Dd=null,ua=e):ua=n):ua=ca?Pd(e.stateNode.nextSibling):null;return!0}function xa(){ua=ca=null,da=!1}function ba(){var e=ha;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),ha=null),e}function wa(e){null===ha?ha=[e]:ha.push(e)}var Na=F(null),Sa=null,Ea=null;function ka(e,t,n){q(Na,t._currentValue),t._currentValue=n}function ja(e){e._currentValue=Na.current,U(Na)}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ta(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ta(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ca(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Jn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===Q.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}a=a.return}null!==e&&_a(t,e,n,r),t.flags|=262144}function Aa(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oa(e){Sa=e,Ea=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ia(e){return Da(Sa,e)}function Pa(e,t){return null===Sa&&Oa(e),Da(e,t)}function Da(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ea){if(null===e)throw Error(i(308));Ea=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ea=Ea.next=t;return n}var Ra="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ma=r.unstable_scheduleCallback,La=r.unstable_NormalPriority,za={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fa(){return{controller:new Ra,data:new Map,refCount:0}}function Ua(e){e.refCount--,0===e.refCount&&Ma(La,function(){e.controller.abort()})}var qa=null,Ba=0,Va=0,Ha=null;function Wa(){if(0===--Ba&&null!==qa){null!==Ha&&(Ha.status="fulfilled");var e=qa;qa=null,Va=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ga=D.S;D.S=function(e,t){Pc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qa){var n=qa=[];Ba=0,Va=Bu(),Ha={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ba++,t.then(Wa,Wa)}(0,t),null!==Ga&&Ga(e,t)};var Qa=F(null);function Ka(){var e=Qa.current;return null!==e?e:mc.pooledCache}function Ya(e,t){q(Qa,null===t?Qa.current:t.pool)}function Xa(){var e=Ka();return null===e?null:{parent:za._currentValue,pool:e}}var $a=Error(i(460)),Ja=Error(i(474)),Za=Error(i(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e;default:if("string"===typeof t.status)t.then(It,It);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e}throw as=t,$a}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw as=t,$a;throw t}}var as=null;function ss(){if(null===as)throw Error(i(459));var e=as;return as=null,e}function is(e){if(e===$a||e===Za)throw Error(i(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),ns(os,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&rs(s)===t.type)?(us(t=a(t,n.props),n),t.return=e,t):(us(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return us(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case j:return h(e,t=rs(t),n)}if(P(t)||A(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,cs(t),n);if(t.$$typeof===w)return h(e,Pa(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case g:return n.key===a?u(e,t,n,r):null;case j:return f(e,t,n=rs(n),r)}if(P(n)||A(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,cs(n),r);if(n.$$typeof===w)return f(e,t,Pa(e,n),r);ds(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return m(e,t,n,r=rs(r),a)}if(P(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return m(e,t,n,cs(r),a);if(r.$$typeof===w)return m(e,t,n,Pa(t,r),a);ds(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===j&&rs(x)===c.type){n(l,c.sibling),us(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(us(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return o(l);case j:return y(l,c,u=rs(u),d)}if(P(u))return function(a,i,o,l){for(var c=null,u=null,d=i,p=i=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(a,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(a,d),da&&aa(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(i=s(d,i,p),null===u?c=d:u.sibling=d,u=d);return da&&aa(a,p),c}for(d=r(d);p<o.length;p++)null!==(g=m(d,a,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,p),c}(l,c,u,d);if(A(u)){if("function"!==typeof(x=A(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var x=f(a,p,y.value,c);if(null===x){null===p&&(p=v);break}e&&p&&null===x.alternate&&t(a,p),o=s(x,o,g),null===d?u=x:d.sibling=x,d=x,p=v}if(y.done)return n(a,p),da&&aa(a,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return da&&aa(a,g),u}for(p=r(p);!y.done;g++,y=l.next())null!==(y=m(p,a,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(a,e)}),da&&aa(a,g),u}(l,c,u=x.call(u),d)}if("function"===typeof u.then)return y(l,c,cs(u),d);if(u.$$typeof===w)return y(l,c,Pa(l,u),d);ds(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ls=0;var a=y(e,t,n,r);return os=null,a}catch(i){if(i===$a||i===Za)throw i;var s=zr(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=hs(!0),ms=hs(!1),ps=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ys(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Or(e,r,t,n),Rr(e)}function bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ns=!1;function Ss(){if(Ns){if(null!==Ha)throw Ha}}function Es(e,t,n,r){Ns=!1;var a=e.updateQueue;ps=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,m=h!==o.lane;if(m?(gc&h)===h:(r&h)===h){0!==h&&h===Va&&(Ns=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(v,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(v,d,h):p)||void 0===h)break e;d=f({},d,h);break e;case 2:ps=!0}}null!==(h=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),Ec|=i,e.lanes=i,e.memoizedState=d}}function ks(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function js(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ks(n[e],t)}var Ts=F(null),_s=F(0);function Cs(e,t){q(_s,e=Nc),q(Ts,t),Nc=e|t.baseLanes}function As(){q(_s,Nc),q(Ts,Ts.current)}function Os(){Nc=_s.current,U(Ts),U(_s)}var Is=F(null),Ps=null;function Ds(e){var t=e.alternate;q(Fs,1&Fs.current),q(Is,e),null===Ps&&(null===t||null!==Ts.current||null!==t.memoizedState)&&(Ps=e)}function Rs(e){q(Fs,Fs.current),q(Is,e),null===Ps&&(Ps=e)}function Ms(e){22===e.tag?(q(Fs,Fs.current),q(Is,e),null===Ps&&(Ps=e)):Ls()}function Ls(){q(Fs,Fs.current),q(Is,Is.current)}function zs(e){U(Is),Ps===e&&(Ps=null),U(Fs)}var Fs=F(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||Id(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,Bs=null,Vs=null,Hs=null,Ws=!1,Gs=!1,Qs=!1,Ks=0,Ys=0,Xs=null,$s=0;function Js(){throw Error(i(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ei(e,t,n,r,a,s){return qs=s,Bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?go:vo,Qs=!1,s=n(r,a),Qs=!1,Gs&&(s=ni(t,n,r,a)),ti(e),s}function ti(e){D.H=po;var t=null!==Vs&&null!==Vs.next;if(qs=0,Hs=Vs=Bs=null,Ws=!1,Ys=0,Xs=null,t)throw Error(i(300));null===e||Po||null!==(e=e.dependencies)&&Aa(e)&&(Po=!0)}function ni(e,t,n,r){Bs=e;var a=0;do{if(Gs&&(Xs=null),Ys=0,Gs=!1,25<=a)throw Error(i(301));if(a+=1,Hs=Vs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=yo,s=t(n,r)}while(Gs);return s}function ri(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Vs?Vs.memoizedState:null)!==e&&(Bs.flags|=1024),t}function ai(){var e=0!==Ks;return Ks=0,e}function si(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ii(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}qs=0,Hs=Vs=Bs=null,Gs=!1,Ys=Ks=0,Xs=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hs?Bs.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function li(){if(null===Vs){var e=Bs.alternate;e=null!==e?e.memoizedState:null}else e=Vs.next;var t=null===Hs?Bs.memoizedState:Hs.next;if(null!==t)Hs=t,Vs=e;else{if(null===e){if(null===Bs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Vs=e).memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},null===Hs?Bs.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function ci(e){var t=Ys;return Ys+=1,null===Xs&&(Xs=[]),e=ns(Xs,e,t),t=Bs,null===(null===Hs?t.memoizedState:Hs.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?go:vo),e}function ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===w)return Ia(e)}throw Error(i(438,String(e)))}function di(e){var t=null,n=Bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function hi(e,t){return"function"===typeof t?t(e):t}function fi(e){return mi(li(),Vs,e)}function mi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(qs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Va&&(d=!0);else{if((qs&f)===f){u=u.next,f===Va&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Bs.lanes|=f,Ec|=f}h=u.action,Qs&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Bs.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Jn(s,e.memoizedState)&&(Po=!0,d&&null!==(n=Ha)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function pi(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Jn(s,t.memoizedState)||(Po=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function gi(e,t,n){var r=Bs,a=li(),s=da;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Jn((Vs||a).memoizedState,n);if(o&&(a.memoizedState=n,Po=!0),a=a.queue,qi(xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==Hs&&1&Hs.memoizedState.tag){if(r.flags|=2048,Mi(9,{destroy:void 0},yi.bind(null,r,a,n,t),null),null===mc)throw Error(i(349));s||0!==(127&qs)||vi(r,t,n)}return n}function vi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function yi(e,t,n,r){t.value=n,t.getSnapshot=r,bi(t)&&wi(e)}function xi(e,t,n){return n(function(){bi(t)&&wi(e)})}function bi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function wi(e){var t=Pr(e,2);null!==t&&Kc(t,e,2)}function Ni(e){var t=oi();if("function"===typeof e){var n=e;if(e=n(),Qs){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t}function Si(e,t,n,r){return e.baseState=n,mi(e,Vs,"function"===typeof r?r:hi)}function Ei(e,t,n,r,a){if(ho(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,ki(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ki(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=D.T,i={};D.T=i;try{var o=n(a,r),l=D.S;null!==l&&l(i,o),ji(e,t,o)}catch(c){_i(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),D.T=s}}else try{ji(e,t,s=n(a,r))}catch(u){_i(e,t,u)}}function ji(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ti(e,t,n)},function(n){return _i(e,t,n)}):Ti(e,t,n)}function Ti(e,t,n){t.status="fulfilled",t.value=n,Ci(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ki(e,n)))}function _i(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ci(t),t=t.next}while(t!==r)}e.action=null}function Ci(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ai(e,t){return t}function Oi(e,t){if(da){var n=mc.formState;if(null!==n){e:{var r=Bs;if(da){if(ua){t:{for(var a=ua,s=fa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Pd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ua=Pd(a.nextSibling),r="F!"===a.data;break e}}pa(r)}r=!1}r&&(t=n[0])}}return(n=oi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n.queue=r,n=lo.bind(null,Bs,r),r.dispatch=n,r=Ni(!1),s=uo.bind(null,Bs,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=oi()).queue=a,n=Ei.bind(null,Bs,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ii(e){return Pi(li(),Vs,e)}function Pi(e,t,n){if(t=mi(e,t,Ai)[0],e=fi(hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ci(t)}catch(i){if(i===$a)throw Za;throw i}else r=t;var a=(t=li()).queue,s=a.dispatch;return n!==t.memoizedState&&(Bs.flags|=2048,Mi(9,{destroy:void 0},Di.bind(null,a,n),null)),[r,s,e]}function Di(e,t){e.action=t}function Ri(e){var t=li(),n=Vs;if(null!==n)return Pi(t,n,e);li(),t=t.memoizedState;var r=(n=li()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return li().memoizedState}function zi(e,t,n,r){var a=oi();Bs.flags|=e,a.memoizedState=Mi(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fi(e,t,n,r){var a=li();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Vs&&null!==r&&Zs(r,Vs.memoizedState.deps)?a.memoizedState=Mi(t,s,n,r):(Bs.flags|=e,a.memoizedState=Mi(1|t,s,n,r))}function Ui(e,t){zi(8390656,8,e,t)}function qi(e,t){Fi(2048,8,e,t)}function Bi(e){var t=li().memoizedState;return function(e){Bs.flags|=4;var t=Bs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Vi(e,t){return Fi(4,2,e,t)}function Hi(e,t){return Fi(4,4,e,t)}function Wi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4,4,Wi.bind(null,t,e),n)}function Qi(){}function Ki(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zs(t,r[1]))return r[0];if(r=e(),Qs){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function Xi(e,t,n){return void 0===n||0!==(1073741824&qs)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Bs.lanes|=e,Ec|=e,n)}function $i(e,t,n,r){return Jn(n,t)?n:null!==Ts.current?(e=Xi(e,n,r),Jn(e,t)||(Po=!0),e):0===(42&qs)||0!==(1073741824&qs)&&0===(261930&gc)?(Po=!0,e.memoizedState=n):(e=Qc(),Bs.lanes|=e,Ec|=e,t)}function Ji(e,t,n,r,a){var s=R.p;R.p=0!==s&&8>s?s:8;var i=D.T,o={};D.T=o,uo(e,!1,t,n);try{var l=a(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else co(e,t,r,Gc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{R.p=s,null!==i&&null!==o.types&&(i.types=o.types),D.T=i}}function Zi(){}function eo(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=to(e).queue;Ji(e,a,t,M,null===n?Zi:function(){return no(e),n(r)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Gc())}function ro(){return Ia(uh)}function ao(){return li().memoizedState}function so(){return li().memoizedState}function io(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=xs(t,e=ys(n),n);return null!==r&&(Kc(r,t,n),bs(r,t,n)),t={cache:Fa()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)?fo(t,n):null!==(n=Ir(e,t,n,r))&&(Kc(n,e,r),mo(n,t,r))}function lo(e,t,n){co(e,t,n,Gc())}function co(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ho(e))fo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Jn(o,i))return Or(e,t,a,0),null===mc&&Ar(),!1}catch(l){}if(null!==(n=Ir(e,t,a,r)))return Kc(n,e,r),mo(n,t,r),!0}return!1}function uo(e,t,n,r){if(r={lane:2,revertLane:Bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(i(479))}else null!==(t=Ir(e,n,r,2))&&Kc(t,e,2)}function ho(e){var t=e.alternate;return e===Bs||null!==t&&t===Bs}function fo(e,t){Gs=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var po={readContext:Ia,use:ui,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useLayoutEffect:Js,useInsertionEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useSyncExternalStore:Js,useId:Js,useHostTransitionStatus:Js,useFormState:Js,useActionState:Js,useOptimistic:Js,useMemoCache:Js,useCacheRefresh:Js};po.useEffectEvent=Js;var go={readContext:Ia,use:ui,useCallback:function(e,t){return oi().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Ui,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zi(4194308,4,Wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var n=oi();t=void 0===t?null:t;var r=e();if(Qs){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oi();if(void 0!==n){var a=n(t);if(Qs){xe(!0);try{n(t)}finally{xe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=oo.bind(null,Bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},oi().memoizedState=e},useState:function(e){var t=(e=Ni(e)).queue,n=lo.bind(null,Bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qi,useDeferredValue:function(e,t){return Xi(oi(),e,t)},useTransition:function(){var e=Ni(!1);return e=Ji.bind(null,Bs,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bs,a=oi();if(da){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===mc)throw Error(i(349));0!==(127&gc)||vi(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Ui(xi.bind(null,r,s,e),[e]),r.flags|=2048,Mi(9,{destroy:void 0},yi.bind(null,r,s,n,t),null),n},useId:function(){var e=oi(),t=mc.identifierPrefix;if(da){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-be(na)-1)).toString(32)+n),0<(n=Ks++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=$s++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ro,useFormState:Oi,useActionState:Oi,useOptimistic:function(e){var t=oi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:di,useCacheRefresh:function(){return oi().memoizedState=io.bind(null,Bs)},useEffectEvent:function(e){var t=oi(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Ia,use:ui,useCallback:Ki,useContext:Ia,useEffect:qi,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:Hi,useMemo:Yi,useReducer:fi,useRef:Li,useState:function(){return fi(hi)},useDebugValue:Qi,useDeferredValue:function(e,t){return $i(li(),Vs.memoizedState,e,t)},useTransition:function(){var e=fi(hi)[0],t=li().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:gi,useId:ao,useHostTransitionStatus:ro,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){return Si(li(),0,e,t)},useMemoCache:di,useCacheRefresh:so};vo.useEffectEvent=Bi;var yo={readContext:Ia,use:ui,useCallback:Ki,useContext:Ia,useEffect:qi,useImperativeHandle:Gi,useInsertionEffect:Vi,useLayoutEffect:Hi,useMemo:Yi,useReducer:pi,useRef:Li,useState:function(){return pi(hi)},useDebugValue:Qi,useDeferredValue:function(e,t){var n=li();return null===Vs?Xi(n,e,t):$i(n,Vs.memoizedState,e,t)},useTransition:function(){var e=pi(hi)[0],t=li().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:gi,useId:ao,useHostTransitionStatus:ro,useFormState:Ri,useActionState:Ri,useOptimistic:function(e,t){var n=li();return null!==Vs?Si(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:di,useCacheRefresh:so};function xo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}yo.useEffectEvent=Bi;var bo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),a=ys(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=xs(e,a,r))&&(Kc(t,e,r),bs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),a=ys(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=xs(e,a,r))&&(Kc(t,e,r),bs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=ys(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xs(e,r,n))&&(Kc(t,e,n),bs(t,e,n))}};function wo(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(a,s))}function No(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function So(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Eo(e){jr(e)}function ko(e){console.error(e)}function jo(e){jr(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _o(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Co(e,t,n){return(n=ys(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Ao(e){return(e=ys(e)).tag=3,e}function Oo(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){_o(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){_o(t,n,r),"function"!==typeof a&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Io=Error(i(461)),Po=!1;function Do(e,t,n,r){t.child=null===e?ms(t,null,n,r):fs(t,e.child,n,r)}function Ro(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Oa(t),r=ei(e,t,n,i,s,a),o=ai(),null===e||Po?(da&&o&&ia(t),t.flags|=1,Do(e,t,r,a),t.child):(si(e,t,a),al(e,t,a))}function Mo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Lo(e,t,s,r,a))}if(s=e.child,!sl(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return al(e,t,a)}return t.flags|=1,(e=Ur(s,r)).ref=t.ref,e.return=t,t.child=e}function Lo(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Po=!1,t.pendingProps=r=s,!sl(e,a))return t.lanes=e.lanes,al(e,t,a);0!==(131072&e.flags)&&(Po=!0)}}return Ho(e,t,n,r,a)}function zo(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Uo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Uo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ya(0,null!==s?s.cachePool:null),null!==s?Cs(t,s):As(),Ms(t)}else null!==s?(Ya(0,s.cachePool),Cs(t,s),Ls(),t.memoizedState=null):(null!==e&&Ya(0,null),As(),Ls());return Do(e,t,a,n),t.child}function Fo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,r,a){var s=Ka();return s=null===s?null:{parent:za._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ya(0,null),As(),Ms(t),null!==e&&Ca(e,t,r,!0),t.childLanes=a,null}function qo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bo(e,t,n){return fs(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,zs(t),t.memoizedState=null,e}function Vo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ho(e,t,n,r,a){return Oa(t),n=ei(e,t,n,r,void 0,a),r=ai(),null===e||Po?(da&&r&&ia(t),t.flags|=1,Do(e,t,n,a),t.child):(si(e,t,a),al(e,t,a))}function Wo(e,t,n,r,a,s){return Oa(t),t.updateQueue=null,n=ni(t,r,n,a),ti(e),r=ai(),null===e||Po?(da&&r&&ia(t),t.flags|=1,Do(e,t,n,s),t.child):(si(e,t,s),al(e,t,s))}function Go(e,t,n,r,a){if(Oa(t),null===t.stateNode){var s=Mr,i=n.contextType;"object"===typeof i&&null!==i&&(s=Ia(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=bo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),i=n.contextType,s.context="object"===typeof i&&null!==i?Ia(i):Mr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(xo(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&bo.enqueueReplaceState(s,s.state,null),Es(t,r,s,a),Ss(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=So(n,o);s.props=l;var c=s.context,u=n.contextType;i=Mr,"object"===typeof u&&null!==u&&(i=Ia(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&No(t,s,r,i),ps=!1;var h=t.memoizedState;s.state=h,Es(t,r,s,a),Ss(),c=t.memoizedState,o||h!==c||ps?("function"===typeof d&&(xo(t,n,d,r),c=t.memoizedState),(l=ps||wo(t,n,l,r,h,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=So(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ia(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&No(t,s,r,l),ps=!1,h=t.memoizedState,s.state=h,Es(t,r,s,a),Ss();var f=t.memoizedState;i!==d||h!==f||ps||null!==e&&null!==e.dependencies&&Aa(e.dependencies)?("function"===typeof o&&(xo(t,n,o,r),f=t.memoizedState),(u=ps||wo(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Aa(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Vo(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,a),t.child=fs(t,null,n,a)):Do(e,t,n,a),t.memoizedState=s.state,e=t.child):e=al(e,t,a),e}function Qo(e,t,n,r){return xa(),t.flags|=256,Do(e,t,n,r),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Xa()}}function Xo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function $o(e,t,n){var r,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(s?Ds(t):Ls(),(e=ua)?null!==(e=null!==(e=Ad(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw pa(t);return Id(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ls(),l=Zo({mode:"hidden",children:l},s=t.mode),a=Vr(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Yo(n),a.childLanes=Xo(e,r,n),t.memoizedState=Ko,Fo(null,a)):(Ds(t),Jo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ds(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ls(),t.child=e.child,t.flags|=128,t=null):(Ls(),l=a.fallback,s=t.mode,a=Zo({mode:"visible",children:a.children},s),(l=Vr(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,fs(t,e.child,null,n),(a=t.child).memoizedState=Yo(n),a.childLanes=Xo(e,r,n),t.memoizedState=Ko,t=Fo(null,a));else if(Ds(t),Id(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,wa({value:a,source:null,stack:null}),t=el(e,t,n)}else if(Po||Ca(e,t,n,!1),r=0!==(n&e.childLanes),Po||r){if(null!==(r=mc)&&(0!==(a=Re(r,n))&&a!==c.retryLane))throw c.retryLane=a,Pr(e,a),Kc(r,e,a),Io;Od(l)||iu(),t=el(e,t,n)}else Od(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ua=Pd(l.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Jo(t,a.children)).flags|=4096);return t}return s?(Ls(),l=a.fallback,s=t.mode,u=(c=e.child).sibling,(a=Ur(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=Vr(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=za._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Xa(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Xo(e,r,n),t.memoizedState=Ko,Fo(e.child,a)):(Ds(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Jo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fs(t,e.child,null,n),(e=Jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function nl(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=Fs.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,q(Fs,i),Do(e,t,r,n),r=da?Jr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Us(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),nl(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Us(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ca(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Aa(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Po=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Po=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ka(0,za,e.memoizedState.cache),xa();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ka(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Rs(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ds(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(Ds(t),null!==(e=al(e,t,n))?e.sibling:null);Ds(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ca(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return rl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(Fs,Fs.current),r)break;return null;case 22:return t.lanes=0,zo(e,t,n,t.pendingProps);case 24:ka(0,za,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Po=0!==(131072&e.flags)}else Po=!1,da&&0!==(1048576&t.flags)&&sa(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===N){t.tag=11,t=Ro(null,t,e,r,n);break e}if(a===k){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=I(e)||e,Error(i(306,t,""))}Fr(e)?(r=So(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Ho(null,t,e,r,n))}return t;case 0:return Ho(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,a=So(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,vs(e,t),Es(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ka(0,za,r),r!==s.cache&&_a(t,[za],n,!0),Ss(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==a){wa(a=Kr(Error(i(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ua=Pd(e.firstChild),ca=t,da=!0,ha=null,fa=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xa(),r===a){t=al(e,t,n);break e}Do(e,t,r,n)}t=t.child}return t;case 26:return Vo(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:da||(n=t.type,e=t.pendingProps,(r=gd(G.current).createElement(n))[qe]=t,r[Be]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&da&&(r=t.stateNode=Ld(t.type,t.pendingProps,G.current),ca=t,fa=!0,a=ua,jd(t.type)?(Dd=a,ua=Pd(r.firstChild)):ua=a),Do(e,t,t.pendingProps.children,n),Vo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=r=ua)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Pd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fa))?(t.stateNode=r,ca=t,ua=Pd(r.firstChild),fa=!1,a=!0):a=!1),a||pa(t)),X(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,xd(a,s)?r=null:null!==o&&xd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ei(e,t,ri,null,null,n),uh._currentValue=a),Vo(e,t),Do(e,t,r,n),t.child;case 6:return null===e&&da&&((e=n=ua)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Pd(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ca=t,ua=null,e=!0):e=!1),e||pa(t)),null;case 13:return $o(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):Do(e,t,r,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ka(0,t.type,r.value),Do(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Oa(t),r=r(a=Ia(a)),t.flags|=1,Do(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Lo(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Fo(null,e);if(Rs(t),(e=ua)?null!==(e=null!==(e=Ad(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw pa(t);return t.lanes=536870912,null}return qo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Rs(t),a)if(256&t.flags)t.flags&=-257,t=Bo(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Po||Ca(e,t,n,!1),a=0!==(n&e.childLanes),Po||a){if(null!==(r=mc)&&0!==(o=Re(r,n))&&o!==s.retryLane)throw s.retryLane=o,Pr(e,o),Kc(r,e,o),Io;iu(),t=Bo(e,t,n)}else e=s.treeContext,ua=Pd(o.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zo(e,t,n,t.pendingProps);case 24:return Oa(t),r=Ia(za),null===e?(null===(a=Ka())&&(a=mc,s=Fa(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},gs(t),ka(0,za,a)):(0!==(e.lanes&n)&&(vs(e,t),Es(t,null,null,n),Ss()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ka(0,za,r)):(r=s.cache,ka(0,za,r),r!==a.cache&&_a(t,[za],n,!0))),Do(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw as=es,Ja;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!ru())throw as=es,Ja;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,_c|=t)}function dl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(oa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ja(za),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ya(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ba())),hl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,a,0,0,n))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ol(t),hl(t),ll(t,a,0,0,n)),null;case 27:if($(t),n=G.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}e=H.current,ya(t)?ga(t):(e=Ld(a,r,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if($(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}if(s=H.current,ya(t))ga(t);else{var o=gd(G.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(a,{is:r.is}):o.createElement(a)}}s[qe]=t,s[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hd(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=G.current,ya(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ca))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||pa(t,!0)}else(e=gd(e).createTextNode(r))[qe]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=ya(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[qe]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=ba(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zs(t),t):(zs(t),null);if(0!==(128&t.flags))throw Error(i(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ya(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[qe]=t}else xa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),a=!1}else a=ba(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(zs(t),t):(zs(t),null)}return zs(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return ja(t.type),hl(t),null;case 19:if(U(Fs),null===(r=t.memoizedState))return hl(t),null;if(a=0!==(128&t.flags),null===(s=r.rendering))if(a)dl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Us(e))){for(t.flags|=128,dl(r,!1),e=s.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Fs,1&Fs.current|2),da&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Dc&&(t.flags|=128,a=!0,dl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Us(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!da)return hl(t),null}else 2*le()-r.renderingStartTime>Dc&&536870912!==n&&(t.flags|=128,a=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Fs.current,q(Fs,a?1&n|2:1&n),da&&aa(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return zs(t),Os(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ja(za),hl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ml(e,t){switch(oa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ja(za),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(zs(t),null===t.alternate)throw Error(i(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));xa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Fs),null;case 4:return Y(),null;case 10:return ja(t.type),null;case 22:case 23:return zs(t),Os(),null!==e&&U(Qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ja(za),null;default:return null}}function pl(e,t){switch(oa(t),t.tag){case 3:ja(za),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&zs(t);break;case 13:zs(t);break;case 19:U(Fs);break;case 10:ja(t.type);break;case 22:case 23:zs(t),Os(),null!==e&&U(Qa);break;case 24:ja(za)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){Su(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){Su(a,l,u)}}}r=r.next}while(r!==s)}}catch(u){Su(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{js(t,n)}catch(r){Su(e,e.return,r)}}}function xl(e,t,n){n.props=So(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function bl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Su(e,t,a)}}function wl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){Su(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Su(e,t,s)}else n.current=null}function Nl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Su(e,e.return,a)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||ud(e,t,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":s=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==h&&ud(e,t,f,m,r,h)}}return void yt(e,o,l,c,u,d,s,a);case"select":for(s in m=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||ud(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ud(e,t,a,s,r,c)}return t=l,n=o,r=m,void(null!=f?wt(e,!!n,f,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&ud(e,t,o,a,r,s)}return void Nt(e,f,m);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ud(e,t,p,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:ud(e,t,u,f,r,m)}return;default:if(_t(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||dd(e,t,d,f,r,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||null==f&&null==m||ud(e,t,h,f,r,m)}(r,e.type,n,t),r[Be]=t}catch(a){Su(e,e.return,a)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&jd(e.type)||4===e.tag}function kl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&jd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function jl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&jd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&jd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function _l(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);hd(t,r,n),t[qe]=e,t[Be]=n}catch(s){Su(e,e.return,s)}}var Cl=!1,Al=!1,Ol=!1,Il="function"===typeof WeakSet?WeakSet:Set,Pl=null;function Dl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&gl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Su(n,n.return,i)}else{var a=So(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Su(n,n.return,o)}}64&r&&yl(n),512&r&&bl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{js(e,t)}catch(i){Su(n,n.return,i)}}break;case 27:null===t&&4&r&&_l(n);case 26:case 5:Kl(e,n),null===t&&4&r&&Nl(n),512&r&&bl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&Ul(e,n);break;case 13:Kl(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Cl)){t=null!==t&&null!==t.memoizedState||Al,a=Cl;var s=Al;Cl=r,(Al=t)&&!s?Xl(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),Cl=a,Al=s}break;case 30:break;default:Kl(e,n)}}function Rl(e){var t=e.alternate;null!==t&&(e.alternate=null,Rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Ll=!1;function zl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(s){}switch(n.tag){case 26:Al||wl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||wl(n,t);var r=Ml,a=Ll;jd(n.type)&&(Ml=n.stateNode,Ll=!1),zl(e,t,n),zd(n.stateNode),Ml=r,Ll=a;break;case 5:Al||wl(n,t);case 6:if(r=Ml,a=Ll,Ml=null,zl(e,t,n),Ll=a,null!==(Ml=r))if(Ll)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(i){Su(n,t,i)}else try{Ml.removeChild(n.stateNode)}catch(i){Su(n,t,i)}break;case 18:null!==Ml&&(Ll?(Td(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hh(e)):Td(Ml,n.stateNode));break;case 4:r=Ml,a=Ll,Ml=n.stateNode.containerInfo,Ll=!0,zl(e,t,n),Ml=r,Ll=a;break;case 0:case 11:case 14:case 15:vl(2,n,t),Al||vl(4,n,t),zl(e,t,n);break;case 1:Al||(wl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,zl(e,t,n),Al=r;break;default:zl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hh(e)}catch(n){Su(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hh(e)}catch(n){Su(t,t.return,n)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Il),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Il),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=_u.bind(null,e,t);t.then(r,r)}})}function Vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(jd(l.type)){Ml=l.stateNode,Ll=!1;break e}break;case 5:Ml=l.stateNode,Ll=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Ml)throw Error(i(160));Fl(s,o,a),Ml=null,Ll=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Hl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Gl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Gl(e),512&r&&(Al||null===n||wl(n,n.return)),64&r&&Cl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Hl;if(Vl(t,e),Gl(e),512&r&&(Al||null===n||wl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Ke]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),hd(s,r,n),s[qe]=e,et(s),r=s;break e;case"link":var o=nh("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}hd(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=nh("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}hd(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[qe]=e,et(s),r=s}e.stateNode=r}else rh(a,e.type,e.stateNode);else e.stateNode=$d(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rh(a,e.type,e.stateNode):$d(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vl(t,e),Gl(e),512&r&&(Al||null===n||wl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vl(t,e),Gl(e),512&r&&(Al||null===n||wl(n,n.return)),32&e.flags){a=e.stateNode;try{Et(a,"")}catch(p){Su(e,e.return,p)}}4&r&&null!=e.stateNode&&Sl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Ol=!0);break;case 6:if(Vl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){Su(e,e.return,p)}}break;case 3:if(th=null,a=Hl,Hl=qd(t.containerInfo),Vl(t,e),Hl=a,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hh(t.containerInfo)}catch(p){Su(e,e.return,p)}Ol&&(Ol=!1,Ql(e));break;case 4:r=Hl,Hl=qd(e.stateNode.containerInfo),Vl(t,e),Gl(e),Hl=r;break;case 12:default:Vl(t,e),Gl(e);break;case 31:case 19:Vl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 13:Vl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ic=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Cl,d=Al;if(Cl=u||a,Al=d||c,Vl(t,e),Al=d,Cl=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Cl||Al||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){Su(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){Su(c,c.return,p)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;a?_d(m,!0):_d(c.stateNode,!1)}catch(p){Su(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Tl(e,kl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(Et(s,""),n.flags&=-33),Tl(e,kl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;jl(e,kl(e),o);break;default:throw Error(i(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:wl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Yl(t);break;case 27:zd(t.stateNode);case 26:case 5:wl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Xl(a,s,n),gl(4,s);break;case 1:if(Xl(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Su(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)ks(l[a],o)}catch(c){Su(r,r.return,c)}}n&&64&i&&yl(s),bl(s,s.return);break;case 27:_l(s);case 26:case 5:Xl(a,s,n),n&&null===r&&4&i&&Nl(s),bl(s,s.return);break;case 12:Xl(a,s,n);break;case 31:Xl(a,s,n),n&&4&i&&Ul(a,s);break;case 13:Xl(a,s,n),n&&4&i&&ql(a,s);break;case 22:null===s.memoizedState&&Xl(a,s,n),bl(s,s.return);break;case 30:break;default:Xl(a,s,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ua(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&a&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ua(e)));break;case 12:if(2048&a){Zl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,r):nc(e,t):2&s._visibility?Zl(e,t,n,r):(s._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&$l(i,t);break;case 24:Zl(e,t,n,r),2048&a&&Jl(t.alternate,t)}}function tc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(s,i,o,l,a),gl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?tc(s,i,o,l,a):nc(s,i):(u._visibility|=2,tc(s,i,o,l,a)),a&&2048&c&&$l(i.alternate,i);break;case 24:tc(s,i,o,l,a),a&&2048&c&&Jl(i.alternate,i);break;default:tc(s,i,o,l,a)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:nc(n,r),2048&a&&$l(r.alternate,r);break;case 24:nc(n,r),2048&a&&Jl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ac(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Gd(r.href),s=t.querySelector(Qd(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ih.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Kd(r),(a=Fd.get(a))&&Zd(r,a),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ih.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Hl;Hl=qd(e.stateNode.containerInfo),ac(e,t,n),Hl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ac(e,t,n),rc=r):ac(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,uc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,uc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Pl;){var n=Pl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ua(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Pl=r;else e:for(n=e;null!==Pl;){var a=(r=Pl).sibling,s=r.return;if(Rl(r),r===n){Pl=null;break e}if(null!==a){a.return=s,Pl=a;break e}Pl=s}}}var dc={getCacheForType:function(e){var t=Ia(za),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ia(za).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,mc=null,pc=null,gc=0,vc=0,yc=null,xc=!1,bc=!1,wc=!1,Nc=0,Sc=0,Ec=0,kc=0,jc=0,Tc=0,_c=0,Cc=null,Ac=null,Oc=!1,Ic=0,Pc=0,Dc=1/0,Rc=null,Mc=null,Lc=0,zc=null,Fc=null,Uc=0,qc=0,Bc=null,Vc=null,Hc=0,Wc=null;function Gc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==D.T?Bu():ze()}function Qc(){if(0===Tc)if(0===(536870912&gc)||da){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Tc=e}else Tc=536870912;return null!==(e=Is.current)&&(e.flags|=32),Tc}function Kc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,gc,Tc,!1)),Ie(e,n),0!==(2&fc)&&e===mc||(e===mc&&(0===(2&fc)&&(kc|=n),4===Sc&&Jc(e,gc,Tc,!1)),Ru(e))}function Yc(e,t,n){if(0!==(6&fc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||_e(e,t),a=r?function(e,t){var n=fc;fc|=2;var r=au(),a=su();mc!==e||gc!==t?(Rc=null,Dc=le()+500,tu(e,t)):bc=_e(e,t);e:for(;;)try{if(0!==vc&&null!==pc){t=pc;var s=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Ru(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ts(s)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,s,7));break;case 5:var o=null;switch(pc.tag){case 26:o=pc.memoizedState;case 5:case 27:var l=pc;if(o?ah(o):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)pc=c;else{var u=l.return;null!==u?(pc=u,fu(u)):pc=null}break t}}vc=0,yc=null,hu(e,t,s,5);break;case 6:vc=0,yc=null,hu(e,t,s,6);break;case 8:eu(),Sc=6;break e;default:throw Error(i(462))}}cu();break}catch(d){nu(e,d)}return Ea=Sa=null,D.H=r,D.A=a,fc=n,null!==pc?0:(mc=null,gc=0,Ar(),Sc)}(e,t):ou(e,t,!0),s=r;;){if(0===a){bc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!s||$c(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Cc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,o).flags|=256),2!==(o=ou(l,o,!1))){if(wc&&!c){l.errorRecoveryDisabledLanes|=s,kc|=s,a=4;break e}s=Ac,Ac=a,null!==s&&(null===Ac?Ac=s:Ac.push.apply(Ac,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){tu(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Tc,!xc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Ic+300-le())){if(Jc(r,t,Tc,!xc),0!==Te(r,0,!0))break e;Uc=t,r.timeoutHandle=wd(Xc.bind(null,r,n,Ac,Rc,Oc,t,Tc,kc,_c,xc,s,"Throttled",-0,0),a)}else Xc(r,n,Ac,Rc,Oc,t,Tc,kc,_c,xc,s,null,-0,0)}break}a=ou(e,t,!1),s=!1}Ru(e)}function Xc(e,t,n,r,a,s,i,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var m=(62914560&s)===s?Ic-le():(4194048&s)===s?Pc-le():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&fd(i)){for(i=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(i+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,m)))return Uc=s,e.cancelPendingCommit=m(pu.bind(null,e,t,s,n,r,a,i,o,l,u,d,null,h,f)),void Jc(e,s,i,!c)}pu(e,t,s,n,r,a,i,o,l)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Jn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~jc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-be(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Pe(e,n,t)}function Zc(){return 0!==(6&fc)||(Mu(0,!1),!1)}function eu(){if(null!==pc){if(0===vc)var e=pc.return;else Ea=Sa=null,ii(e=pc),os=null,ls=0,e=pc;for(;null!==e;)pl(e.alternate,e),e=e.return;pc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,eu(),mc=e,pc=n=Ur(e.current,null),gc=t,vc=0,yc=null,xc=!1,bc=_e(e,t),wc=!1,_c=Tc=jc=kc=Ec=Sc=0,Ac=Cc=null,Oc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-be(r),s=1<<a;t|=e[a],r&=~s}return Nc=t,Ar(),n}function nu(e,t){Bs=null,D.H=po,t===$a||t===Za?(t=ss(),vc=3):t===Ja?(t=ss(),vc=4):vc=t===Io?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===pc&&(Sc=1,To(e,Kr(t,e.current)))}function ru(){var e=Is.current;return null===e||((4194048&gc)===gc?null===Ps:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ps)}function au(){var e=D.H;return D.H=po,null===e?po:e}function su(){var e=D.A;return D.A=dc,e}function iu(){Sc=4,xc||(4194048&gc)!==gc&&null!==Is.current||(bc=!0),0===(134217727&Ec)&&0===(134217727&kc)||null===mc||Jc(mc,gc,Tc,!1)}function ou(e,t,n){var r=fc;fc|=2;var a=au(),s=su();mc===e&&gc===t||(Rc=null,tu(e,t)),t=!1;var i=Sc;e:for(;;)try{if(0!==vc&&null!==pc){var o=pc,l=yc;switch(vc){case 8:eu(),i=6;break e;case 3:case 2:case 9:case 6:null===Is.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,o,l,c),n&&bc){i=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,o,l,c)}}lu(),i=Sc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Ea=Sa=null,fc=r,D.H=a,D.A=s,null===pc&&(mc=null,gc=0,Ar()),i}function lu(){for(;null!==pc;)uu(pc)}function cu(){for(;null!==pc&&!ie();)uu(pc)}function uu(e){var t=il(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?fu(e):pc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wo(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Wo(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ii(t);default:pl(n,t),t=il(n,t=pc=qr(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?fu(e):pc=t}function hu(e,t,n,r){Ea=Sa=null,ii(t),os=null,ls=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ca(t,n,a,!0),null!==(n=Is.current)){switch(n.tag){case 31:case 13:return null===Ps?iu():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,a)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,a)),!1}throw Error(i(435,n.tag))}return Eu(e,r,a),iu(),!1}if(da)return null!==(t=Is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ma&&wa(Kr(e=Error(i(422),{cause:r}),n))):(r!==ma&&wa(Kr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Kr(r,n),ws(e,a=Co(e.stateNode,r,a)),4!==Sc&&(Sc=2)),!1;var s=Error(i(520),{cause:r});if(s=Kr(s,n),null===Cc?Cc=[s]:Cc.push(s),4!==Sc&&(Sc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ws(n,e=Co(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Mc||!Mc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Oo(a=Ao(a),e,n,r),ws(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,gc))return Sc=1,To(e,Kr(n,e.current)),void(pc=null)}catch(s){if(null!==a)throw pc=a,s;return Sc=1,To(e,Kr(n,e.current)),void(pc=null)}32768&t.flags?(da||1===r?e=!0:bc||0!==(536870912&gc)?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Is.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,xc);e=t.return;var n=fl(t.alternate,t,Nc);if(null!==n)return void(pc=n);if(null!==(t=t.sibling))return void(pc=t);pc=t=e}while(null!==t);0===Sc&&(Sc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(pc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(pc=e);pc=e=n}while(null!==e);Sc=6,pc=null}function pu(e,t,n,r,a,s,o,l,c){e.cancelPendingCommit=null;do{bu()}while(0!==Lc);if(0!==(6&fc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-be(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Cr,o,l,c),e===mc&&(pc=mc=null,gc=0),Fc=t,zc=e,Uc=n,qc=s,Bc=a,Vc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return wu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,a=R.p,R.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,md=xh,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:e,selectionRange:n},xh=!1,Pl=t;null!==Pl;)if(e=(t=Pl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Pl=e;else for(;null!==Pl;){switch(s=(t=Pl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var p=So(n.type,a);e=r.getSnapshotBeforeUpdate(p,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Su(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Cd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Pl=e;break}Pl=t.return}}(e,t)}finally{fc=o,R.p=a,D.T=r}}Lc=1,gu(),vu(),yu()}}function gu(){if(1===Lc){Lc=0;var e=zc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=R.p;R.p=2;var a=fc;fc|=4;try{Wl(t,e);var s=pd,i=rr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ar(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(i=g,g=p,p=i);var v=tr(o,p),y=tr(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var x=d.createRange();x.setStart(v.node,v.offset),f.removeAllRanges(),p>g?(f.addRange(x),f.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var b=d[o];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xh=!!md,pd=md=null}finally{fc=a,R.p=r,D.T=n}}e.current=t,Lc=2}}function vu(){if(2===Lc){Lc=0;var e=zc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=R.p;R.p=2;var a=fc;fc|=4;try{Dl(e,t.alternate,t)}finally{fc=a,R.p=r,D.T=n}}Lc=3}}function yu(){if(4===Lc||3===Lc){Lc=0,oe();var e=zc,t=Fc,n=Uc,r=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Lc=5:(Lc=0,Fc=zc=null,xu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Mc=null),Le(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,a=R.p,R.p=2,D.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{D.T=t,R.p=a}}0!==(3&Uc)&&bu(),Ru(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Wc?Hc++:(Hc=0,Wc=e):Hc=0,Mu(0,!1)}}function xu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ua(t)))}function bu(){return gu(),vu(),yu(),wu()}function wu(){if(5!==Lc)return!1;var e=zc,t=qc;qc=0;var n=Le(Uc),r=D.T,a=R.p;try{R.p=32>n?32:n,D.T=null,n=Bc,Bc=null;var s=zc,o=Uc;if(Lc=0,Fc=zc=null,Uc=0,0!==(6&fc))throw Error(i(331));var l=fc;if(fc|=4,lc(s.current),ec(s,s.current,o,n),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,s)}catch(c){}return!0}finally{R.p=a,D.T=r,xu(e,t)}}function Nu(e,t,n){t=Kr(n,t),null!==(e=xs(e,t=Co(e.stateNode,t,2),2))&&(Ie(e,2),Ru(e))}function Su(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Kr(n,e),null!==(r=xs(t,n=Ao(2),2))&&(Oo(n,r,t,e),Ie(r,2),Ru(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(wc=!0,a.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(gc&n)===n&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>le()-Ic?0===(2&fc)&&tu(e,0):jc|=n,_c===gc&&(_c=0)),Ru(e)}function ju(e,t){0===t&&(t=Ae()),null!==(e=Pr(e,t))&&(Ie(e,t),Ru(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ju(e,n)}function _u(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),ju(e,n)}var Cu=null,Au=null,Ou=!1,Iu=!1,Pu=!1,Du=0;function Ru(e){e!==Au&&null===e.next&&(null===Au?Cu=Au=e:Au=Au.next=e),Iu=!0,Ou||(Ou=!0,Ed(function(){0!==(6&fc)?ae(ue,Lu):zu()}))}function Mu(e,t){if(!Pu&&Iu){Pu=!0;do{for(var n=!1,r=Cu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qu(r,s))}else s=gc,0===(3&(s=Te(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,s)||(n=!0,qu(r,s));r=r.next}}while(n);Pu=!1}}function Lu(){zu()}function zu(){Iu=Ou=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==bd&&(bd=e,!0);return bd=null,!1}()&&(e=Du);for(var t=le(),n=null,r=Cu;null!==r;){var a=r.next,s=Fu(r,t);0===s?(r.next=null,null===n?Cu=a:n.next=a,null===a&&(Au=n)):(n=r,(0!==e||0!==(3&s))&&(Iu=!0)),r=a}0!==Lc&&5!==Lc||Mu(e,!1),0!==Du&&(Du=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-be(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=Ce(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=gc,n=Te(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=me}return r=Uu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Lc&&5!==Lc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Te(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function qu(e,t){if(bu())return null;Yc(e,t,!0)}function Bu(){if(0===Du){var e=Va;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Du=e}return Du}function Vu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Er.length;Wu++){var Gu=Er[Wu];kr(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}kr(gr,"onAnimationEnd"),kr(vr,"onAnimationIteration"),kr(yr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(xr,"onTransitionRun"),kr(br,"onTransitionStart"),kr(wr,"onTransitionCancel"),kr(Nr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){jr(u)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){jr(u)}a.currentTarget=null,s=l}}}}function Xu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ju]){e[Ju]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,$u("selectionchange",!1,t))}}function ed(e,t,n,r){switch(jh(t)){case 2:var a=bh;break;case 8:a=wh;break;default:a=Nh}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function td(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Xe(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}Ft(function(){var r=s,a=Dt(n),i=[];e:{var o=Sr.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case gr:case vr:case yr:c=un;break;case Nr:c=wn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=r;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Ut(p,f))&&d.push(nd(p,g,m)),h)break;p=p.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[Ve])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=xn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?o:Je(c),m=null==u?o:Je(u),(o=new d(g,p+"leave",c,n,a)).target=h,o.relatedTarget=m,g=null,Xe(a)===r&&((d=new d(f,p+"enter",u,n,a)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,p=u,m=0,g=f=c;g;g=d(g))m++;g=0;for(var v=p;v;v=d(v))g++;for(;0<m-g;)f=d(f),m--;for(;0<g-m;)p=d(p),g--;for(;m--;){if(f===p||null!==p&&f===p.alternate){d=f;break e}f=d(f),p=d(p)}d=null}else d=null;null!==c&&sd(i,o,c,d,!1),null!==u&&null!==h&&sd(i,h,u,d,!0)}if("select"===(c=(o=r?Je(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=qn;else if(Rn(o))if(Bn)y=$n;else{y=Yn;var x=Kn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(y=qn):y=Xn;switch(y&&(y=y(e,r))?Mn(i,y,n,a):(x&&x(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&bt(o,"number",o.value)),x=r?Je(r):window,e){case"focusin":(Rn(x)||"true"===x.contentEditable)&&(ir=x,or=r,lr=null);break;case"focusout":lr=or=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(i,n,a);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(i,n,a)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Pn?On(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(_n&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Pn&&(b=Qt()):(Wt="value"in(Ht=a)?Ht.value:Ht.textContent,Pn=!0)),0<(x=rd(r,w)).length&&(w=new hn(w,e,null,n,a),i.push({event:w,listeners:x}),b?w.data=b:null!==(b=In(n))&&(w.data=b))),(b=Tn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(An=!0,Cn);case"textInput":return(e=t.data)===Cn&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!kn&&On(e,t)?(e=Qt(),Gt=Wt=Ht=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=rd(r,"onBeforeInput")).length&&(x=new hn("onBeforeInput","beforeinput",null,n,a),i.push({event:x,listeners:w}),x.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Vu((a[Be]||null).action),i=r.submitter;i&&null!==(t=(t=i[Be]||null)?Vu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new nn("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Du){var e=i?Hu(a,i):new FormData(a);eo(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Hu(a,i):new FormData(a),eo(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Yu(i,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Ut(e,n))&&r.unshift(nd(e,a,s)),null!=(a=Ut(e,t))&&r.push(nd(e,a,s))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Ut(n,s))&&i.unshift(nd(n,c,l)):a||null!=(c=Ut(n,s))&&i.push(nd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var id=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(id,"\n").replace(od,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",a.name,a,null),ud(e,t,"formEncType",a.formEncType,a,null),ud(e,t,"formMethod",a.formMethod,a,null),ud(e,t,"formTarget",a.formTarget,a,null)):(ud(e,t,"encType",a.encType,a,null),ud(e,t,"method",a.method,a,null),ud(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=It);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Ct.get(n)||n,r)}}function dd(e,t,n,r,a,s){switch(n){case"style":Tt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ud(e,t,r,o,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(a&&ud(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:ud(e,t,a,d,n,null)}}return void xt(e,r,l,c,u,o,s,!1);case"select":for(s in Xu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ud(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(o in Xu("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:ud(e,t,o,l,n,null)}return void St(e,a,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else ud(e,t,c,a,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(a=0;a<Qu.length;a++)Xu(Qu[a],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ud(e,t,u,a,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&dd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&ud(e,t,l,a,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,pd=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bd=null;var wd="function"===typeof setTimeout?setTimeout:void 0,Nd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(kd)}:wd;function kd(e){setTimeout(function(){throw e})}function jd(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Hh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Ke]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&zd(e.ownerDocument.body);n=a}while(n);Hh(t)}function _d(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Cd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Pd(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function Id(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Pd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Rd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Pd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Ld(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Fd=new Map,Ud=new Set;function qd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=R.d;R.d={f:function(){var e=Bd.f(),t=Zc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Bd.r(e)},D:function(e){Bd.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var r=Vd;if(r&&e&&t){var a='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+vt(n.imageSizes)+'"]')):a+='[href="'+vt(e)+'"]';var s=a;switch(t){case"style":s=Gd(e);break;case"script":s=Yd(e)}Fd.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Qd(s))||"script"===t&&r.querySelector(Xd(s))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=Vd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yd(e)}if(!Fd.has(s)&&(e=f({rel:"modulepreload",href:e},t),Fd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(s)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Bd.X(e,t);var n=Vd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),s=r.get(a);s||((s=n.querySelector(Xd(a)))||(e=f({src:e,async:!0},t),(t=Fd.get(a))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Bd.S(e,t,n);var r=Vd;if(r&&e){var a=Ze(r).hoistableStyles,s=Gd(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Qd(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(s))&&Zd(e,n);var l=i=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Jd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Bd.M(e,t);var n=Vd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),s=r.get(a);s||((s=n.querySelector(Xd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Fd.get(a))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Vd="undefined"===typeof document?null:document;function Hd(e,t,n){var r=Vd;if(r&&"string"===typeof t&&t){var a=vt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Ud.has(a)||(Ud.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wd(e,t,n,r){var a,s,o,l,c=(c=G.current)?qd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hd(s,"link",o),et(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Gd(e){return'href="'+vt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function Xd(e){return"script[async]"+e}function $d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",a),Jd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Gd(n.href);var s=e.querySelector(Qd(a));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Kd(n),(a=Fd.get(a))&&Zd(r,a),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",r),t.state.loading|=4,Jd(s,n.precedence,e),t.instance=s;case"script":return s=Yd(n.src),(a=e.querySelector(Xd(s)))?(t.instance=a,et(a),a):(r=n,(a=Fd.get(s))&&eh(r=f({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),hd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jd(r,n.precedence,e));return t.instance}function Jd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,a=th=new Map;a.set(n,r)}else(r=(a=th).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Ke]||s[qe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ih(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ih.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=oh.get(e);if(n)var r=n.get(null);else{n=new Map,oh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=ih.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var uh={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dh(e,t,n,r,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,a,s,i,o,l,c,u,d){return e=new dh(e,t,n,i,l,c,u,d,o),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=Fa()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function fh(e){return e?e=Mr:Mr}function mh(e,t,n,r,a,s){a=fh(a),null===r.context?r.context=a:r.pendingContext=a,(r=ys(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=xs(e,r,t))&&(Kc(n,0,t),bs(n,e,t))}function ph(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){ph(e,t),(e=e.alternate)&&ph(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&Kc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Pr(e,t=Me(t));null!==n&&Kc(n,0,t),gh(e,t)}}var xh=!0;function bh(e,t,n,r){var a=D.T;D.T=null;var s=R.p;try{R.p=2,Nh(e,t,n,r)}finally{R.p=s,D.T=a}}function wh(e,t,n,r){var a=D.T;D.T=null;var s=R.p;try{R.p=8,Nh(e,t,n,r)}finally{R.p=s,D.T=a}}function Nh(e,t,n,r){if(xh){var a=Sh(r);if(null===a)td(e,t,r,Eh,n),Rh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _h=Mh(_h,e,t,n,r,a),!0;case"dragenter":return Ch=Mh(Ch,e,t,n,r,a),!0;case"mouseover":return Ah=Mh(Ah,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Oh.set(s,Mh(Oh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ih.set(s,Mh(Ih.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rh(e,r),4&t&&-1<Dh.indexOf(e)){for(;null!==a;){var s=$e(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=je(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-be(i);o.entanglements[1]|=l,i&=~l}Ru(s),0===(6&fc)&&(Dc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Pr(s,2))&&Kc(o,0,2),Zc(),gh(s,2)}if(null===(s=Sh(r))&&td(e,t,r,Eh,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else td(e,t,r,null,n)}}function Sh(e){return kh(e=Dt(e))}var Eh=null;function kh(e){if(Eh=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function jh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Th=!1,_h=null,Ch=null,Ah=null,Oh=new Map,Ih=new Map,Ph=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rh(e,t){switch(e){case"focusin":case"focusout":_h=null;break;case"dragenter":case"dragleave":Ch=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":Oh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(t.pointerId)}}function Mh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=$e(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lh(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Fe(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Fe(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Fh(e,t,n){zh(e)&&n.delete(t)}function Uh(){Th=!1,null!==_h&&zh(_h)&&(_h=null),null!==Ch&&zh(Ch)&&(Ch=null),null!==Ah&&zh(Ah)&&(Ah=null),Oh.forEach(Fh),Ih.forEach(Fh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}var Bh=null;function Vh(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===kh(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Hh(e){function t(t){return qh(t,e)}null!==_h&&qh(_h,e),null!==Ch&&qh(Ch,e),null!==Ah&&qh(Ah,e),Oh.forEach(t),Ih.forEach(t);for(var n=0;n<Ph.length;n++){var r=Ph[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ph.length&&null===(n=Ph[0]).blockedOn;)Lh(n),null===n.blockedOn&&Ph.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Be]||null;if("function"===typeof s)i||Vh(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Be]||null)o=i.formAction;else if(null!==kh(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Vh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),Zc(),t[Ve]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ph.length&&0!==t&&t<Ph[n].priority;n++);Ph.splice(n,0,e),0===n&&Lh(e)}};var Kh=a.version;if("19.2.0"!==Kh)throw Error(i(527,Kh,"19.2.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return d(a),e;if(s===r)return d(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ve=Xh.inject(Yh),ye=Xh}catch(Jh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=Eo,s=ko,l=jo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,a,s,l,Wh),e[Ve]=t.current,Zu(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",s=Eo,l=ko,c=jo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,a,u,s,l,c,Wh)).context=fh(null),n=t.current,(a=ys(r=Me(r=Gc()))).callback=null,xs(n,a,r),n=r,t.current.lanes=n,Ie(t,n),Ru(t),e[Ve]=t.current,Zu(e),new Qh(t)},t.version="19.2.0"},1098:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},1111:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},1214:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},1311:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=n(3539),s=n(1214),i=n(9115);function o(e,t,n,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return l(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,s]of t.entries()){if(!1===n(e.get(a),s,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return c(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(null!==r&&void 0!==r&&r.has(t))return r.get(t)===e;null===r||void 0===r||r.set(t,e);try{for(let i=0;i<a.length;i++){const o=a[i];if(!s.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,r))return!1}return!0}finally{null===r||void 0===r||r.delete(t)}}(e,t,n,u);case"function":return Object.keys(t).length>0?o(e,r({},t),n,u):i.eq(e,t);default:return a.isObject(e)?"string"!==typeof t||""===t:i.eq(e,t)}}function l(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let s=0;s<t.length;s++){const i=t[s];let o=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],i,s,e,t,r)&&(c=!0),c){a.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,n,r){return 0===t.size||e instanceof Set&&l([...e],[...t],n,r)}t.isMatchWith=function e(t,n,r){return"function"!==typeof r?e(t,n,()=>{}):o(t,n,function e(t,n,a,s,i,l){const c=r(t,n,a,s,i,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},t.isSetMatch=c},1352:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1085)},1558:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},1640:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1810),a=n(5825),s=n(3679),i=n(4090);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):s.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},1810:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},1863:(e,t,n)=>{"use strict";var r=n(9950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},1921:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},1983:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var w=b.prototype=new x;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var N=Array.isArray;function S(){}var E={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+C(e,0):s,N(i)?(a="",null!=u&&(a=u.replace(_,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(T(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+u,i=j(l.type,c,l.props)),t.push(i)),1;u=0;var d,f=""===s?".":s+":";if(N(e))for(var p=0;p<e.length;p++)u+=A(s=e[p],t,a,o=f+C(s,p),i);else if("function"===typeof(p=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=m&&d[m]||d["@@iterator"])?d:null))for(e=p.call(e),p=0;!(s=e.next()).done;)u+=A(s=s.value,t,a,o=f+C(s,p++),i);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return j(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return j(e,s,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),a=E.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,P)}catch(s){P(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.0"},2239:(e,t,n)=>{e.exports=n(7384).uniqBy},2540:(e,t,n)=>{e.exports=n(3177).isPlainObject},2718:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7431),a=n(7740),s=n(3539),i=n(9115);t.isIterateeCall=function(e,t,n){return!!s.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&i.eq(n[t],e))}},2742:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6907);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});const{leading:a=!1,trailing:s=!0,maxWait:i}=n,o=Array(2);let l;a&&(o[0]="leading"),s&&(o[1]="trailing");let c=null;const u=r.debounce(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];l=e.apply(this,n),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(l=e.apply(this,n),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,n),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},2897:(e,t,n)=>{var r=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3044:(e,t,n)=>{"use strict";e.exports=n(9940)},3177:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},3470:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},3539:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},3679:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),a=n(9358);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3787:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7740),a=n(8316);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},3916:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},4090:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5399),a=n(1083),s=n(5573),i=n(8146),o=n(5942);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=s.cloneDeep(t),function(n){const a=i.get(n,e);return void 0===a?o.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},4195:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},4414:(e,t,n)=>{"use strict";e.exports=n(3916)},4441:function(e,t,n){var r;!function(){"use strict";var a,s=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,p=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,a,s,i,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?_(t,h):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=i,l=c.length),s>(l=(i=Math.ceil(h/7))>l?i+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=u.length)<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/m|0,c[s]%=m;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?_(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=k(n)),s+=r;(n=7-(r=(i=e[t])+"").length)&&(s+=k(n))}else if(0===i)return"0";for(;i%10===0;)i/=10;return s+i}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return w(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(o=!1,t=w(j(n,i),j(e,i),i),o=!0,_(t,s))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=w(n,e,0,1).times(e),o=!0,n.minus(t)):_(new r(n),a)},v.naturalExponential=v.exp=function(){return N(this)},v.naturalLogarithm=v.ln=function(){return j(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):C(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,a,s,i,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=i=(n=u.precision)+3;;)if(r=(s=r).plus(w(c,s,i+2)).times(.5),b(s.d).slice(0,i)===(t=b(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(_(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;i+=4}return o=!0,_(r,n)},v.times=v.mul=function(e){var t,n,r,a,s,i,l,c,u,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=p.length)&&(s=f,f=p,p=s,i=c,c=u,u=i),s=[],r=i=c+u;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+p[r]*f[a-r-1]+t,s[a--]=l%m|0,t=l/m|0;s[a]=(s[a]+t)%m|0}for(;!s[--i];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,o?_(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,s),void 0===t?t=r.rounding:x(t,0,8),_(n,e+S(n)+1,t))},v.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=A(r,!0):(x(e,0,s),void 0===t?t=a.rounding:x(t,0,8),n=A(r=_(new a(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?A(a):(x(e,0,s),void 0===t?t=i.rounding:x(t,0,8),n=A((r=_(new i(a),e+S(a)+1,t)).abs(),!1,e+S(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return _(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,s,i,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return _(u,r);if(c=(t=e.e)>=(n=e.d.length-1),i=u.s,c){if((n=f<0?-f:f)<=p){for(s=new h(a),t=Math.ceil(r/7+4),o=!1;n%2&&O((s=s.times(u)).d,t),0!==(n=d(n/2));)O((u=u.times(u)).d,t);return o=!0,e.s<0?new h(a).div(s):_(s,r)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,o=!1,s=e.times(j(u,r+12)),o=!0,(s=N(s)).s=i,s},v.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=A(a,(n=S(a))<=i.toExpNeg||n>=i.toExpPos):(x(e,1,s),void 0===t?t=i.rounding:x(t,0,8),r=A(a=_(new i(a),e,t),e<=(n=S(a))||n<=i.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,s),void 0===t?t=n.rounding:x(t,0,8)),_(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),n=e.constructor;return A(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,i){var o,c,u,d,h,f,p,g,v,y,x,b,w,N,E,k,j,T,C=r.constructor,A=r.s==a.s?1:-1,O=r.d,I=a.d;if(!r.s)return new C(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,j=I.length,E=O.length,g=(p=new C(A)).d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--c,(b=null==s?s=C.precision:i?s+(S(r)-S(a))+1:s)<0)return new C(0);if(b=b/7+2|0,u=0,1==j)for(d=0,I=I[0],b++;(u<E||d)&&b--;u++)w=d*m+(O[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=m/(I[0]+1)|0)>1&&(I=e(I,d),O=e(O,d),j=I.length,E=O.length),N=j,y=(v=O.slice(0,j)).length;y<j;)v[y++]=0;(T=I.slice()).unshift(0),k=I[0],I[1]>=m/2&&++k;do{d=0,(o=t(I,v,j,y))<0?(x=v[0],j!=y&&(x=x*m+(v[1]||0)),(d=x/k|0)>1?(d>=m&&(d=m-1),1==(o=t(h=e(I,d),v,f=h.length,y=v.length))&&(d--,n(h,j<f?T:I,f))):(0==d&&(o=d=1),h=I.slice()),(f=h.length)<y&&h.unshift(0),n(v,h,y),-1==o&&(o=t(I,v,j,y=v.length))<1&&(d++,n(v,j<y?T:I,y)),y=v.length):0===o&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[y++]=O[N]||0:(v=[O[N]],y=1)}while((N++<E||void 0!==v[0])&&b--)}return g[0]||g.shift(),p.e=c,_(p,i?s+S(p)+1:s)}}();function N(e,t){var n,r,s,i,l,c=0,d=0,f=e.constructor,m=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(a);for(null==t?(o=!1,l=m):l=t,i=new f(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=s=new f(a),f.precision=l;;){if(r=_(r.times(e),l),n=n.times(++c),b((i=s.plus(w(r,n,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;d--;)s=_(s.times(s),l);return f.precision=m,null==t?(o=!0,_(s,m)):s}s=i}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,s,i,c,u,d,h,f,m=1,p=e,g=p.d,v=p.constructor,y=v.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(a))return new v(0);if(null==t?(o=!1,h=y):h=t,p.eq(10))return null==t&&(o=!0),E(v,h);if(h+=10,v.precision=h,r=(n=b(g)).charAt(0),i=S(p),!(Math.abs(i)<15e14))return d=E(v,h+2,y).times(i+""),p=j(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(o=!0,_(p,y)):p;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((p=p.times(e)).d)).charAt(0),m++;for(i=S(p),r>1?(p=new v("0."+n),i++):p=new v(r+"."+n.slice(1)),u=c=p=w(p.minus(a),p.plus(a),h),f=_(p.times(p),h),s=3;;){if(c=_(c.times(f),h),b((d=u.plus(w(c,new v(s),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==i&&(u=u.plus(E(v,h+2,y).times(i+""))),u=w(u,new v(m),h),v.precision=y,null==t?(o=!0,_(u,y)):u;u=d,s+=2}}function T(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,n){var r,a,s,i,l,c,f,p,v=e.d;for(i=1,s=v[0];s>=10;s/=10)i++;if((r=t-i)<0)r+=7,a=t,f=v[p=0];else{if((p=Math.ceil((r+1)/7))>=(s=v.length))return e;for(f=s=v[p],i=1;s>=10;s/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(l=f/(s=h(10,i-a-1))%10|0,c=t<0||void 0!==v[p+1]||f%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,i-a):0:v[p-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(s=S(e),v.length=1,t=t-s-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=p,s=1,p--):(v.length=p+1,s=h(10,7-r),v[p]=a>0?(f/h(10,i-a)%h(10,a)|0)*s:0),c)for(;;){if(0==p){(v[0]+=s)==m&&(v[0]=1,++e.e);break}if(v[p]+=s,v[p]!=m)break;v[p--]=0,s=1}for(r=v.length;0===v[--r];)v.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function C(e,t){var n,r,a,s,i,l,c,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?_(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),i=u-r){for((d=i<0)?(n=c,i=-i,l=h.length):(n=h,r=u,l=c.length),i>(a=Math.max(Math.ceil(p/7),l)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}i=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>i;){if(c[--a]<h[a]){for(s=a;s&&0===c[--s];)c[s]=m-1;--c[s],c[a]+=m}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?_(t,p):t):new f(0)}function A(e,t,n){var r,a=S(e),s=b(e.d),i=s.length;return t?(n&&(r=n-i)>0?s=s.charAt(0)+"."+s.slice(1)+k(r):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+k(-a-1)+s,n&&(r=n-i)>0&&(s+=k(r))):a>=i?(s+=k(a+1-i),n&&(r=n-a-1)>0&&(s=s+"."+k(r))):((r=a+1)<i&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(s+="."),s+=k(r))),e.s<0?"-"+s:s}function O(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}i=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);T(t,e)}if(s.prototype=v,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}(i),i.default=i.Decimal=i,a=new i(1),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},4879:(e,t,n)=>{e.exports=n(8146).get},5031:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6301),a=n(1083);t.toPath=function(e){if(Array.isArray(e))return e.map(a.toKey);if("symbol"===typeof e)return[e];const t=[],n=(e=r.toString(e)).length;if(0===n)return t;let s=0,i="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),s++);s<n;){const r=e[s];o?"\\"===r&&s+1<n?(s++,i+=e[s]):r===o?o="":i+=r:l?'"'===r||"'"===r?o=r:"]"===r?(l=!1,t.push(i),i=""):i+=r:"["===r?(l=!0,i&&(t.push(i),i="")):"."===r?i&&(t.push(i),i=""):i+=r,s++}return i&&t.push(i),t}},5230:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9223);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},5340:(e,t,n)=>{"use strict";e.exports=n(9487)},5399:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1311);t.isMatch=function(e,t){return r.isMatchWith(e,t,()=>{})}},5497:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9363),a=n(8897),s=n(2718);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const o=n.length;return o>1&&s.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&s.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},5573:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6537);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},5698:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),s=n(t);if(a===s&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?s-a:a-s}return 0}},5825:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8146);t.property=function(e){return function(t){return r.get(t,e)}}},5942:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1098),a=n(7431),s=n(5230),i=n(5031);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?i.toPath(t):[t],0===n.length)return!1;let o=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||s.isArguments(o))&&a.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},6135:(e,t,n)=>{e.exports=n(6633).throttle},6150:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new a(r,s||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,i=new Array(s);a<s;a++)i[a]=r[a].fn;return i},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,s,i){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,s),!0;case 6:return u.fn.call(u.context,t,r,a,s,i),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||i(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},6301:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}},6429:(e,t,n)=>{"use strict";e.exports=n(8577)},6537:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690),a=n(3470);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,(n,s,i,o)=>{const l=null===t||void 0===t?void 0:t(n,s,i,o);if(void 0!==l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},6538:(e,t,n)=>{"use strict";e.exports=n(759)},6567:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1921);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},6633:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2742);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:s=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:s})}},6667:(e,t,n)=>{e.exports=n(6928).last},6907:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let n,{signal:r,edges:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null;const i=null!=a&&a.includes("leading"),o=null==a||a.includes("trailing"),l=()=>{null!==s&&(e.apply(n,s),n=void 0,s=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,s=null},h=function(){if(null!==r&&void 0!==r&&r.aborted)return;n=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];s=t;const o=null==c;u(),i&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===r||void 0===r||r.addEventListener("abort",d,{once:!0}),h}},6928:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1047),a=n(225),s=n(7740);t.last=function(e){if(s.isArrayLike(e))return r.last(a.toArray(e))}},7108:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(1863)},7254:(e,t,n)=>{"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,i=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue},7256:(e,t,n)=>{"use strict";n(7254)},7384:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(11),a=n(1810),s=n(3787),i=n(1640);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return s.isArrayLikeObject(e)?r.uniqBy(Array.from(e),i.iteratee(t)):[]}},7431:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},7736:(e,t,n)=>{var r=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7740:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1111);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},7774:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2718),a=n(6567);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const s=Math.max(Math.ceil((t-e)/(n||1)),0),i=new Array(s);for(let r=0;r<s;r++)i[r]=e,e+=n;return i}},8146:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4195),a=n(1098),s=n(1083),i=n(5031);t.get=function e(t,n,o){if(null==t)return o;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return o;const s=t[n];return void 0===s?a.isDeepKey(n)?e(t,i.toPath(n),o):o:s}case"number":case"symbol":{"number"===typeof n&&(n=s.toKey(n));const e=t[n];return void 0===e?o:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let s=0;s<t.length;s++){if(null==a)return n;if(r.isUnsafeProperty(t[s]))return n;a=a[t[s]]}if(void 0===a)return n;return a}(t,n,o);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return o;const e=t[n];return void 0===e?o:e}}}},8316:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},8354:(e,t,n)=>{e.exports=n(7774).range},8577:(e,t)=>{"use strict";var n=60103,r=60106,a=60107,s=60108,i=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,m=60121,p=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),a=x("react.fragment"),s=x("react.strict_mode"),i=x("react.profiler"),o=x("react.provider"),l=x("react.context"),c=x("react.forward_ref"),u=x("react.suspense"),d=x("react.suspense_list"),h=x("react.memo"),f=x("react.lazy"),m=x("react.block"),p=x("react.server.block"),g=x("react.fundamental"),v=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case s:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case r:return t}}}t.isFragment=function(e){return b(e)===a}},8897:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(i)&&t<r?a(i,t+1):n.push(i)}};return a(e,0),n}},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9115:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},9190:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},9223:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},9358:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9690);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},9363:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5698),a=n(9696),s=n(5031);t.orderBy=function(e,t,n,i){if(null==e)return[];n=i?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map(e=>String(e));const o=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:s.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let a=0;a<l.length;a++){const s=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==s)return s}return 0}).map(e=>e.original)}},9487:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function N(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,E||(E=!0,S());else{var t=r(u);null!==t&&I(N,t.startTime-e)}}var S,E=!1,k=-1,j=5,T=-1;function _(){return!!v||!(t.unstable_now()-T<j)}function C(){if(v=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{p=!1,g&&(g=!1,x(k),k=-1),m=!0;var s=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&I(N,l.startTime-e),n=!1}}break e}finally{h=null,f=s,m=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof b)S=function(){b(C)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=C,S=function(){O.postMessage(null)}}else S=function(){y(C,0)};function I(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(x(k),k=-1):g=!0,I(N,s-i))):(e.sortIndex=o,n(c,e),p||m||(p=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},9690:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9190),a=n(9223),s=n(3470),i=n(1214),o=n(1558);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(void 0!==d)return d;if(i.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,s]of e)t.set(a,l(s,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof String){const t=new String(e.valueOf());return r.set(e,t),c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const i=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<i.length;r++){const o=i[r],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,n,a,s))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},9696:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7108),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(s.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},9940:(e,t,n)=>{"use strict";var r=n(9950),a=n(6538);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,o=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,s(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,o=n)}var i,o,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var f=i(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9950:(e,t,n)=>{"use strict";e.exports=n(1983)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".ed544132.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="iquizu:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkiquizu=self.webpackChunkiquizu||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>zz,scaleDiverging:()=>IV,scaleDivergingLog:()=>PV,scaleDivergingPow:()=>RV,scaleDivergingSqrt:()=>MV,scaleDivergingSymlog:()=>DV,scaleIdentity:()=>jU,scaleImplicit:()=>Mz,scaleLinear:()=>kU,scaleLog:()=>RU,scaleOrdinal:()=>Lz,scalePoint:()=>Uz,scalePow:()=>HU,scaleQuantile:()=>nq,scaleQuantize:()=>rq,scaleRadial:()=>QU,scaleSequential:()=>kV,scaleSequentialLog:()=>jV,scaleSequentialPow:()=>_V,scaleSequentialQuantile:()=>AV,scaleSequentialSqrt:()=>CV,scaleSequentialSymlog:()=>TV,scaleSqrt:()=>WU,scaleSymlog:()=>FU,scaleThreshold:()=>aq,scaleTime:()=>wV,scaleUtc:()=>NV,tickFormat:()=>SU});var t=n(9950),r=n.t(t,2),a=n(1352);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=["sri"],h=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return k(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return N("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",l=null,u=d();function d(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:o,location:m.location,delta:t})}function f(e){return j(e)}null==u&&(u=0,i.replaceState(c(c({},i.state),{},{idx:u}),""));let m={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(v,h),l=e,()=>{a.removeEventListener(v,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=N(m.location,e,t);n&&n(r,e),u=d()+1;let c=w(r,u),h=m.createHref(r);try{i.pushState(c,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let r=N(m.location,e,t);n&&n(r,e),u=d();let a=w(r,u),c=m.createHref(r);i.replaceState(a,"",c),s&&l&&l({action:o,location:m.location,delta:0})},go:e=>i.go(e)};return m}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,n,r){let a=V(("string"===typeof t?E(t):t).pathname||"/",n);if(null==a)return null;let s=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=B(a);i=F(s[o],e,r)}return i}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;x(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=K([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),C(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))s(e,t,!0,r);else s(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=A(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var O=/^:[\w-]+$/,I=3,P=2,D=1,R=10,M=-2,L=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=M),t&&(r+=P),n.filter(e=>!L(e)).reduce((e,t)=>e+(O.test(t)?I:""===t?D:R),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:K([s,u.pathname]),pathnameBase:Y(K([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=K([s,u.pathnameBase]))}return i}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function G(e){let t=W(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=c({},e),x(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?E(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:X(r),hash:J(a)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ee=["POST","PUT","PATCH","DELETE"],te=(new Set(ee),["GET",...ee]);new Set(te),Symbol("ResetLoaderData");var ne=t.createContext(null);ne.displayName="DataRouter";var re=t.createContext(null);re.displayName="DataRouterState";var ae=t.createContext(!1);var se=t.createContext({isTransitioning:!1});se.displayName="ViewTransition";var ie=t.createContext(new Map);ie.displayName="Fetchers";var oe=t.createContext(null);oe.displayName="Await";var le=t.createContext(null);le.displayName="Navigation";var ce=t.createContext(null);ce.displayName="Location";var ue=t.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var de=t.createContext(null);de.displayName="RouteError";function he(){return null!=t.useContext(ce)}function fe(){return x(he(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ce).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){t.useContext(le).static||t.useLayoutEffect(e)}function ge(){let{isDataRoute:e}=t.useContext(ue);return e?function(){let{router:e}=Te("useNavigate"),n=Ce("useNavigate"),r=t.useRef(!1);pe(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,me),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},a)))},[e,n]);return a}():function(){x(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ne),{basename:n,navigator:r}=t.useContext(le),{matches:a}=t.useContext(ue),{pathname:s}=fe(),i=JSON.stringify(G(a)),o=t.useRef(!1);pe(()=>{o.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(o.current,me),!o.current)return;if("number"===typeof t)return void r.go(t);let l=Q(t,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:K([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[n,r,i,s,e]);return l}()}var ve=t.createContext(null);function ye(){let{matches:e}=t.useContext(ue),n=e[e.length-1];return n?n.params:{}}function xe(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ue),{pathname:a}=fe(),s=JSON.stringify(G(r));return t.useMemo(()=>Q(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function be(e,n,r,a,s){x(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(le),{matches:o}=t.useContext(ue),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ie(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let m,p=fe();if(n){var g;let e="string"===typeof n?E(n):n;x("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),m=e}else m=p;let v=m.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=T(e,{pathname:y});b(f||null!=w,'No routes matched location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" ')),b(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(m.pathname).concat(m.search).concat(m.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let N=ke(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:K([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:K([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,r,a,s);return n&&N?t.createElement(ce.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:"POP"}},N):N}function we(){let e=Ae(),n=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,o)}var Ne=t.createElement(we,null),Se=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ue.Provider,{value:this.props.routeContext},t.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ee(e){let{routeContext:n,match:r,children:a}=e,s=t.useContext(ne);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ue.Provider,{value:n},a)}function ke(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let d,h=!1,f=null,m=null;r&&(d=i&&c.route.id?i[c.route.id]:void 0,f=c.route.errorElement||Ne,o&&(l<0&&0===u?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===u&&(h=!0,m=c.route.hydrateFallbackElement||null)));let p=n.concat(s.slice(0,u+1)),g=()=>{let n;return n=d?f:h?m:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(Ee,{match:c,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?t.createElement(Se,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},unstable_onError:a}):g()},null)}function je(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Te(e){let n=t.useContext(ne);return x(n,je(e)),n}function _e(e){let n=t.useContext(re);return x(n,je(e)),n}function Ce(e){let n=function(e){let n=t.useContext(ue);return x(n,je(e)),n}(e),r=n.matches[n.matches.length-1];return x(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ae(){var e;let n=t.useContext(de),r=_e("useRouteError"),a=Ce("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[a]}var Oe={};function Ie(e,t,n){t||Oe[e]||(Oe[e]=!0,b(!1,n))}var Pe={};function De(e,t){e||Pe[t]||(Pe[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:a}=e;return be(t,void 0,r,a,n)});function Re(e){let{to:n,replace:r,state:a,relative:s}=e;x(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(le);b(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(ue),{pathname:l}=fe(),c=ge(),u=Q(n,G(o),l,"path"===s),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:r,state:a,relative:s})},[c,d,s,r,a]),null}function Me(e){return function(e){let n=t.useContext(ue).outlet;return t.useMemo(()=>n&&t.createElement(ve.Provider,{value:e},n),[n,e])}(e.context)}function Le(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ze(e){let{basename:n="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}=e;x(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof a&&(a=E(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=a,p=t.useMemo(()=>{let e=V(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:m},navigationType:s}},[l,u,d,h,f,m,s]);return b(null!=p,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:t.createElement(le.Provider,{value:c},t.createElement(ce.Provider,{children:r,value:p}))}function Fe(e){let{children:t,location:n}=e;return be(Ue(t),n)}t.Component;function Ue(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Ue(e.props.children,s));x(e.type===Le,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ue(e.props.children,s)),r.push(i)}),r}var qe="get",Be="application/x-www-form-urlencoded";function Ve(e){return null!=e&&"string"===typeof e.tagName}function He(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var We=null;var Ge=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qe(e){return null==e||Ge.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Be,'"')),null)}function Ke(e,t){let n,r,a,s,i;if(function(e){return Ve(e)&&"form"===e.tagName.toLowerCase()}(e)){let i=e.getAttribute("action");r=i?V(i,t):null,n=e.getAttribute("method")||qe,a=Qe(e.getAttribute("enctype"))||Be,s=new FormData(e)}else if(function(e){return Ve(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ve(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?V(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||qe,a=Qe(e.getAttribute("formenctype"))||Qe(i.getAttribute("enctype"))||Be,s=new FormData(i,e),!function(){if(null===We)try{new FormData(document.createElement("form"),0),We=!1}catch(e){We=!0}return We}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Ve(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qe,r=null,a=Be,i=e}return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ye(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Xe(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===V(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function $e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Je(e){return null!=e&&"string"===typeof e.page}function Ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function et(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function tt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function nt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Je(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function rt(e,t){return"lazy"===e.mode&&!0===t}function at(){let e=t.useContext(ne);return Ye(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function st(){let e=t.useContext(re);return Ye(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=t.createContext(void 0);function ot(){let e=t.useContext(it);return Ye(e,"You must render this element inside a <HydratedRouter> element"),e}function lt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ct(e,t,n){if(n&&!ft)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function ut(e){let{page:n}=e,r=u(e,h),{router:a}=at(),s=t.useMemo(()=>T(a.routes,n,a.basename),[a.routes,n,a.basename]);return s?t.createElement(ht,c({page:n,matches:s},r)):null}function dt(e){let{manifest:n,routeModules:r}=ot(),[a,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return nt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await $e(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ze).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||s(e)}),()=>{t=!0}},[e,n,r]),a}function ht(e){let{page:n,matches:r}=e,a=u(e,f),s=fe(),{manifest:i,routeModules:o}=ot(),{basename:l}=at(),{loaderData:d,matches:h}=st(),m=t.useMemo(()=>et(n,r,h,i,s,"data"),[n,r,h,i,s]),p=t.useMemo(()=>et(n,r,h,i,s,"assets"),[n,r,h,i,s]),g=t.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let a=i.routes[n.route.id];a&&a.hasLoader&&(!m.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=o[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=Xe(n,l,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,d,s,i,m,r,n,o]),v=t.useMemo(()=>tt(p,i),[p,i]),y=dt(p);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},a))),y.map(e=>{let{key:n,link:r}=e;return t.createElement("link",c({key:n,nonce:a.nonce},r))}))}var ft=!1;function mt(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:s,routeDiscovery:i,ssr:o}=ot(),{router:l,static:h,staticContext:f}=at(),{matches:m}=st(),p=t.useContext(ae),g=rt(i,o);s&&(s.didRenderScripts=!0);let v=ct(m,null,a);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var a;if(p)return null;let s=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=h?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];Ye(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=u(e,d),a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(s.pop();s.length>0;)i.push("/".concat(s.join("/"))),s.pop();i.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:o,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),x=ft||p?[]:function(e){return[...new Set(e)]}(n.entry.imports.concat(tt(v,n,{includeHydrateFallback:!0}))),b="object"===typeof n.sri?n.sri:{};return De(!p,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ft||p?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:b[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:b[n.entry.module],suppressHydrationWarning:!0}),x.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:b[n],suppressHydrationWarning:!0})),y)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function gt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(n))return t.createElement(vt,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(vt,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function vt(e){var n;let{title:r,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=ot();return null!==o.root&&void 0!==n&&n.Layout&&!s?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?t.createElement(mt,null):null)))}var yt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{yt&&(window.__reactRouterVersion="7.9.4")}catch(G5){}function xt(e){let{basename:n,children:r,window:a}=e,s=t.useRef();null==s.current&&(s.current=y({window:a,v5Compat:!0}));let i=s.current,[o,l]=t.useState({action:i.action,location:i.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(c),[i,c]),t.createElement(ze,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:i})}var bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=t.forwardRef(function(e,n){let r,{onClick:a,discover:s="render",prefetch:i="none",relative:o,reloadDocument:l,replace:d,state:h,target:f,to:p,preventScrollReset:g,viewTransition:v}=e,y=u(e,m),{basename:w}=t.useContext(le),N="string"===typeof p&&bt.test(p),E=!1;if("string"===typeof p&&N&&(r=p,yt))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=V(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:E=!0}catch(G5){b(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(le),{hash:s,pathname:i,search:o}=xe(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:K([r,i])),a.createHref({pathname:l,search:o,hash:s})}(p,{relative:o}),[j,T,_]=function(e,n){let r=t.useContext(it),[a,s]=t.useState(!1),[i,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let m=()=>{s(!0)},p=()=>{s(!1),o(!1)};return r?"intent"!==e?[i,f,{}]:[i,f,{onFocus:lt(l,m),onBlur:lt(c,p),onMouseEnter:lt(u,m),onMouseLeave:lt(d,p),onTouchStart:lt(h,m)}]:[!1,f,{}]}(i,y),C=function(e){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ge(),c=fe(),u=xe(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:S(c)===S(u);l(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,a,n,e,s,i,o])}(p,{replace:d,state:h,target:f,preventScrollReset:g,relative:o,viewTransition:v});let A=t.createElement("a",c(c(c({},y),_),{},{href:r||k,onClick:E||l?a:function(e){a&&a(e),e.defaultPrevented||C(e)},ref:pt(n,T),target:f,"data-discover":N||"render"!==s?void 0:"true"}));return j&&!N?t.createElement(t.Fragment,null,A,t.createElement(ut,{page:k})):A});wt.displayName="Link";var Nt=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:l,viewTransition:d,children:h}=e,f=u(e,p),m=xe(l,{relative:f.relative}),g=fe(),v=t.useContext(re),{navigator:y,basename:b}=t.useContext(le),w=null!=v&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(se);x(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kt("useViewTransitionState"),s=xe(e,{relative:n});if(!r.isTransitioning)return!1;let i=V(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=V(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=U(s.pathname,o)||null!=U(s.pathname,i)}(m)&&!0===d,N=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,S=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(S=S.toLowerCase(),E=E?E.toLowerCase():null,N=N.toLowerCase()),E&&b&&(E=V(E,b)||E);const k="/"!==N&&N.endsWith("/")?N.length-1:N.length;let j,T=S===N||!i&&S.startsWith(N)&&"/"===S.charAt(k),_=null!=E&&(E===N||!i&&E.startsWith(N)&&"/"===E.charAt(N.length)),C={isActive:T,isPending:_,isTransitioning:w},A=T?r:void 0;j="function"===typeof s?s(C):[s,T?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof o?o(C):o;return t.createElement(wt,c(c({},f),{},{"aria-current":A,className:j,ref:n,style:O,to:l,viewTransition:d}),"function"===typeof h?h(C):h)});Nt.displayName="NavLink";var St=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:o,state:l,method:d=qe,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:v}=e,y=u(e,g),b=Ct(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(le),a=t.useContext(ue);x(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=c({},xe(e||".",{relative:n})),o=fe();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:K([r,i.pathname]));return S(i)}(h,{relative:m}),N="get"===d.toLowerCase()?"get":"post",E="string"===typeof h&&bt.test(h);return t.createElement("form",c(c({ref:n,method:N,action:w,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;b(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:o,state:l,relative:m,preventScrollReset:p,viewTransition:v})}},y),{},{"data-discover":E||"render"!==r?void 0:"true"}))});function Et(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let n=t.useContext(ne);return x(n,Et(e)),n}function jt(e){b("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=t.useRef(He(e)),r=t.useRef(!1),a=fe(),s=t.useMemo(()=>function(e,t){let n=He(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(a.search,r.current?null:n.current),[a.search]),i=ge(),o=t.useCallback((e,t)=>{const n=He("function"===typeof e?e(new URLSearchParams(s)):e);r.current=!0,i("?"+n,t)},[i,s]);return[s,o]}St.displayName="Form";var Tt=0,_t=()=>"__".concat(String(++Tt),"__");function Ct(){let{router:e}=kt("useSubmit"),{basename:n}=t.useContext(le),r=Ce("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Ke(t,n);if(!1===a.navigate){let t=a.fetcherKey||_t();await e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}const At=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},Ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const t=e[a],s=a+1<e.length,i=s?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(At(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const t=n[e.charAt(a++)],s=a<e.length?n[e.charAt(a)]:0;++a;const i=a<e.length?n[e.charAt(a)]:64;++a;const o=a<e.length?n[e.charAt(a)]:64;if(++a,null==t||null==s||null==i||null==o)throw new It;const l=t<<2|s>>4;if(r.push(l),64!==i){const e=s<<4&240|i>>2;if(r.push(e),64!==o){const e=i<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class It extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pt=function(e){return function(e){const t=At(e);return Ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Dt=function(e){try{return Ot.decodeString(e,!0)}catch(G5){console.error("base64Decode failed: ",G5)}return null};function Rt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Mt=()=>{try{return Rt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB3TTTUISQvYONjgoFaosNH__2Jk2YGTRs",REACT_APP_FIREBASE_APP_ID:"1:12089675643:web:ab483135352d71ebe977de",REACT_APP_FIREBASE_AUTH_DOMAIN:"iquizu-29da7.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"12089675643",REACT_APP_FIREBASE_PROJECT_ID:"iquizu-29da7",REACT_APP_FIREBASE_STORAGE_BUCKET:"iquizu-29da7.firebasestorage.app",REACT_APP_GEMINI_API_KEY:"AIzaSyDNUrZCkDGD7pWODktEr7d9c7VgbeQGn60"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(G5){return}const t=e&&Dt(e[1]);return t&&JSON.parse(t)})()}catch(G5){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(G5))}},Lt=e=>{var t;return null===(t=Mt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},zt=()=>{var e;return null===(e=Mt())||void 0===e?void 0:e.config},Ft=e=>{var t;return null===(t=Mt())||void 0===t?void 0:t["_".concat(e)]};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function qt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Bt(e){return(await fetch(e,{credentials:"include"})).ok}const Vt={};let Ht=!1;function Wt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!qt(window.location.host)||Vt[e]===t||Vt[e]||Ht)return;function n(e){return"__firebase__banner__".concat(e)}Vt[e]=t;const r="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vt))Vt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ht=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),i=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,i,l,n),document.body.appendChild(t)}a?(i.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function Gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qt(){var e;const t=null===(e=Mt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(G5){return!1}}function Kt(){return!Qt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yt(){try{return"object"===typeof indexedDB}catch(G5){return!1}}class Xt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?function(e,t){return e.replace(Jt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(a," (").concat(n,").");return new Xt(n,s,t)}}const Jt=/\{\$([^}]+)}/g;function Zt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const n=e[a],s=t[a];if(en(n)&&en(s)){if(!Zt(n,s))return!1}else if(n!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function en(e){return null!==e&&"object"===typeof e}function tn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function rn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class an{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=sn),void 0===r.error&&(r.error=sn),void 0===r.complete&&(r.complete=sn);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(G5){}}),this.observers.push(r),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(G5){"undefined"!==typeof console&&console.error&&console.error(G5)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}function on(e){return e&&e._delegate?e._delegate:e}class ln{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cn="[DEFAULT]";class un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ut;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(G5){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(G5){if(r)return null;throw G5}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cn})}catch(G5){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(G5){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(a)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(a=t,a===cn?void 0:a),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var a;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return this.component?this.component.multipleInstances?e:cn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hn=[];var fn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fn||(fn={}));const mn={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},pn=fn.INFO,gn={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},vn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=gn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class yn{constructor(e){this.name=e,this._logLevel=pn,this._logHandler=vn,this._userLogHandler=null,hn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...t),this._logHandler(this,fn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...t),this._logHandler(this,fn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.INFO,...t),this._logHandler(this,fn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.WARN,...t),this._logHandler(this,fn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...t),this._logHandler(this,fn.ERROR,...t)}}let xn,bn;const wn=new WeakMap,Nn=new WeakMap,Sn=new WeakMap,En=new WeakMap,kn=new WeakMap;let jn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Tn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bn||(bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(An(this),n),Cn(wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cn(e.apply(An(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const s=e.call(An(this),t,...r);return Sn.set(s,t.sort?t.sort():[t]),Cn(s)}}function _n(e){return"function"===typeof e?Tn(e):(e instanceof IDBTransaction&&function(e){if(Nn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Nn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,xn||(xn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jn):e)}function Cn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{t(Cn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&wn.set(t,e)}).catch(()=>{}),kn.set(t,e),t}(e);if(En.has(e))return En.get(e);const t=_n(e);return t!==e&&(En.set(e,t),kn.set(t,e)),t}const An=e=>kn.get(e);const On=["get","getKey","getAll","getAllKeys","count"],In=["put","add","delete","clear"],Pn=new Map;function Dn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Pn.get(t))return Pn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=In.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!a&&!On.includes(n))return;const s=async function(e){const t=this.transaction(e,a?"readwrite":"readonly");let s=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),a&&t.done]))[0]};return Pn.set(t,s),s}jn=(e=>c(c({},e),{},{get:(t,n,r)=>Dn(t,n)||e.get(t,n,r),has:(t,n)=>!!Dn(t,n)||e.has(t,n)}))(jn);class Rn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Mn="@firebase/app",Ln="0.14.4",zn=new yn("@firebase/app"),Fn="@firebase/app-compat",Un="@firebase/analytics-compat",qn="@firebase/analytics",Bn="@firebase/app-check-compat",Vn="@firebase/app-check",Hn="@firebase/auth",Wn="@firebase/auth-compat",Gn="@firebase/database",Qn="@firebase/data-connect",Kn="@firebase/database-compat",Yn="@firebase/functions",Xn="@firebase/functions-compat",$n="@firebase/installations",Jn="@firebase/installations-compat",Zn="@firebase/messaging",er="@firebase/messaging-compat",tr="@firebase/performance",nr="@firebase/performance-compat",rr="@firebase/remote-config",ar="@firebase/remote-config-compat",sr="@firebase/storage",ir="@firebase/storage-compat",or="@firebase/firestore",lr="@firebase/ai",cr="@firebase/firestore-compat",ur="firebase",dr="[DEFAULT]",hr={[Mn]:"fire-core",[Fn]:"fire-core-compat",[qn]:"fire-analytics",[Un]:"fire-analytics-compat",[Vn]:"fire-app-check",[Bn]:"fire-app-check-compat",[Hn]:"fire-auth",[Wn]:"fire-auth-compat",[Gn]:"fire-rtdb",[Qn]:"fire-data-connect",[Kn]:"fire-rtdb-compat",[Yn]:"fire-fn",[Xn]:"fire-fn-compat",[$n]:"fire-iid",[Jn]:"fire-iid-compat",[Zn]:"fire-fcm",[er]:"fire-fcm-compat",[tr]:"fire-perf",[nr]:"fire-perf-compat",[rr]:"fire-rc",[ar]:"fire-rc-compat",[sr]:"fire-gcs",[ir]:"fire-gcs-compat",[or]:"fire-fst",[cr]:"fire-fst-compat",[lr]:"fire-vertex","fire-js":"fire-js",[ur]:"fire-js-all"},fr=new Map,mr=new Map,pr=new Map;function gr(e,t){try{e.container.addComponent(t)}catch(G5){zn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),G5)}}function vr(e){const t=e.name;if(pr.has(t))return zn.debug("There were multiple attempts to register component ".concat(t,".")),!1;pr.set(t,e);for(const n of fr.values())gr(n,e);for(const n of mr.values())gr(n,e);return!0}function yr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function xr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const br=new $t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wr{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const Nr="12.4.0";function Sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:dr,automaticDataCollectionEnabled:!0},t),a=r.name;if("string"!==typeof a||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=zt()),!n)throw br.create("no-options");const s=fr.get(a);if(s){if(Zt(n,s.options)&&Zt(r,s.config))return s;throw br.create("duplicate-app",{appName:a})}const i=new dn(a);for(const l of pr.values())i.addComponent(l);const o=new wr(n,r,i);return fr.set(a,o),o}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;const t=fr.get(e);if(!t&&e===dr&&zt())return Sr();if(!t)throw br.create("no-app",{appName:e});return t}function kr(e,t,n){var r;let a=null!==(r=hr[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void zn.warn(e.join(" "))}vr(new ln("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const jr="firebase-heartbeat-store";let Tr=null;function _r(){return Tr||(Tr=function(e,t){let{blocked:n,upgrade:r,blocking:a,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=Cn(i);return r&&i.addEventListener("upgradeneeded",e=>{r(Cn(i.result),e.oldVersion,e.newVersion,Cn(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(jr)}catch(G5){console.warn(G5)}}}).catch(e=>{throw br.create("idb-open",{originalErrorMessage:e.message})})),Tr}async function Cr(e,t){try{const n=(await _r()).transaction(jr,"readwrite"),r=n.objectStore(jr);await r.put(t,Ar(e)),await n.done}catch(G5){if(G5 instanceof Xt)zn.warn(G5.message);else{const t=br.create("idb-set",{originalErrorMessage:null===G5||void 0===G5?void 0:G5.message});zn.warn(t.message)}}}function Ar(e){return"".concat(e.name,"!").concat(e.options.appId)}class Or{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ir();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(G5){zn.warn(G5)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ir(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const a of e){const e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),Dr(n)>t){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Dr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),a=Pt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(G5){return zn.warn(G5),""}}}function Ir(){return(new Date).toISOString().substring(0,10)}class Pr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Yt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await _r()).transaction(jr),n=await t.objectStore(jr).get(Ar(e));return await t.done,n}catch(G5){if(G5 instanceof Xt)zn.warn(G5.message);else{const t=br.create("idb-get",{originalErrorMessage:null===G5||void 0===G5?void 0:G5.message});zn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Cr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Cr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Dr(e){return Pt(JSON.stringify({version:2,heartbeats:e})).length}var Rr;Rr="",vr(new ln("platform-logger",e=>new Rn(e),"PRIVATE")),vr(new ln("heartbeat",e=>new Or(e),"PRIVATE")),kr(Mn,Ln,Rr),kr(Mn,Ln,"esm2020"),kr("fire-js","");kr("firebase","12.4.0","app");const Mr=["providerId"],Lr=["uid","auth","stsTokenManager"],zr=["providerId","signInMethod"];function Fr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ur=Fr,qr=new $t("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Br=new yn("@firebase/auth");function Vr(e){if(Br.logLevel<=fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Br.error("Auth (".concat(Nr,"): ").concat(e),...n)}}function Hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kr(e,...n)}function Wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kr(e,...n)}function Gr(e,t,n){const r=c(c({},Ur()),{},{[t]:n});return new $t("auth","Firebase",r).create(t,{appName:e.name})}function Qr(e){return Gr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qr.create(e,...n)}function Yr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw Kr(t,...r)}}function Xr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Vr(t),new Error(t)}function $r(e,t){e||Xr(t)}function Jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zr(){return"http:"===ea()||"https:"===ea()}function ea(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ta(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class na{constructor(e,t){this.shortDelay=e,this.longDelay=t,$r(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return ta()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ra(e,t){$r(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class aa{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ia=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oa=new na(3e4,6e4);function la(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function ca(e,t,n,r){return ua(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let a={},s={};r&&("GET"===t?s=r:a={body:JSON.stringify(r)});const i=tn(c({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:o},a);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&qt(e.emulatorConfig.host)&&(l.credentials="include"),aa.fetch()(await ha(e,e.config.apiHost,n,i),l)})}async function ua(e,t,n){e._canInitEmulator=!1;const r=c(c({},sa),t);try{const t=new ma(e),a=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw pa(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const t=a.ok?s.errorMessage:s.error.message,[n,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw pa(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw pa(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw pa(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw Gr(e,o,i);Hr(e,o)}}catch(G5){if(G5 instanceof Xt)throw G5;Hr(e,"network-request-failed",{message:String(G5)})}}async function da(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ca(e,t,n,r,a);return"mfaPendingCredential"in s&&Hr(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ha(e,t,n,r){const a="".concat(t).concat(n,"?").concat(r),s=e,i=s.config.emulator?ra(e.config,a):"".concat(e.config.apiScheme,"://").concat(a);if(ia.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(i).toString()}return i}function fa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ma{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Wr(this.auth,"network-request-failed")),oa.get())})}}function pa(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Wr(e,t,r);return a.customData._tokenResponse=n,a}function ga(e){return void 0!==e&&void 0!==e.enterprise}class va{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fa(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ya(e,t){return ca(e,"GET","/v2/recaptchaConfig",la(e,t))}async function xa(e,t){return ca(e,"POST","/v1/accounts:lookup",t)}function ba(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(G5){}}function wa(e){return 1e3*Number(e)}function Na(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Vr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Dt(n);return e?JSON.parse(e):(Vr("Failed to decode base64 JWT payload"),null)}catch(G5){return Vr("Caught error parsing JWT payload as JSON",null===G5||void 0===G5?void 0:G5.toString()),null}}function Sa(e){const t=Na(e);return Yr(t,"internal-error"),Yr("undefined"!==typeof t.exp,"internal-error"),Yr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Ea(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(G5){throw G5 instanceof Xt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(G5)&&e.auth.currentUser===e&&await e.auth.signOut(),G5}}class ka{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(G5){return void((null===G5||void 0===G5?void 0:G5.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ja{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ba(this.lastLoginAt),this.creationTime=ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ta(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Ea(e,xa(n,{idToken:r}));Yr(null===a||void 0===a?void 0:a.users.length,n,"internal-error");const s=a.users[0];e._notifyReloadListener(s);const i=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?_a(s.providerUserInfo):[],o=function(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,i),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null!==o&&void 0!==o&&o.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ja(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function _a(e){return e.map(e=>{let{providerId:t}=e,n=u(e,Mr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yr(e.idToken,"internal-error"),Yr("undefined"!==typeof e.idToken,"internal-error"),Yr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Sa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Yr(0!==e.length,"internal-error");const t=Sa(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Yr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:a}=await async function(e,t){const n=await ua(e,{},async()=>{const n=tn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,s=await ha(e,r,"/v1/token","key=".concat(a)),i=await e._getAdditionalHeaders();i["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:i,body:n};return e.emulatorConfig&&qt(e.emulatorConfig.host)&&(o.credentials="include"),aa.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:a}=t,s=new Ca;return n&&(Yr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Yr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),a&&(Yr("number"===typeof a,"internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Xr("not implemented")}}function Aa(e,t){Yr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Oa{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,a=u(e,Lr);this.providerId="firebase",this.proactiveRefresh=new ka(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ja(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return Yr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=on(e),r=await n.getIdToken(t),a=Na(r);Yr(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s="object"===typeof a.firebase?a.firebase:void 0,i=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:ba(wa(a.auth_time)),issuedAtTime:ba(wa(a.iat)),expirationTime:ba(wa(a.exp)),signInProvider:i||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=on(e);await Ta(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Yr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Oa(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Yr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ta(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Ea(this,async function(e,t){return ca(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,a,s,i,o,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,m=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(i=t.tenantId)&&void 0!==i?i:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:N,stsTokenManager:S}=t;Yr(x&&S,e,"internal-error");const E=Ca.fromJSON(this.name,S);Yr("string"===typeof x,e,"internal-error"),Aa(d,e.name),Aa(h,e.name),Yr("boolean"===typeof b,e,"internal-error"),Yr("boolean"===typeof w,e,"internal-error"),Aa(f,e.name),Aa(m,e.name),Aa(p,e.name),Aa(g,e.name),Aa(v,e.name),Aa(y,e.name);const k=new Oa({uid:x,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:w,photoURL:m,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:v,lastLoginAt:y});return N&&Array.isArray(N)&&(k.providerData=N.map(e=>c({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ca;r.updateFromServerResponse(t);const a=new Oa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ta(a),a}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Yr(void 0!==r.localId,"internal-error");const a=void 0!==r.providerUserInfo?_a(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null!==a&&void 0!==a&&a.length),i=new Ca;i.updateFromIdToken(n);const o=new Oa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ja(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==a&&void 0!==a&&a.length)};return Object.assign(o,l),o}}const Ia=new Map;function Pa(e){$r(e instanceof Function,"Expected a class definition");let t=Ia.get(e);return t?($r(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ia.set(e,t),t)}class Da{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Da.type="NONE";const Ra=Da;function Ma(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class La{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=Ma(this.userKey,r.apiKey,a),this.fullPersistenceKey=Ma("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await xa(this.auth,{idToken:e}).catch(()=>{});return t?Oa._fromGetAccountInfoResponse(this.auth,t,e):null}return Oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new La(Pa(Ra),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=r[0]||Pa(Ra);const s=Ma(n,e.config.apiKey,e.name);let i=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await xa(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Oa._fromGetAccountInfoResponse(e,r,t)}else n=Oa._fromJSON(e,t);c!==a&&(i=n),a=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&o.length?(a=o[0],i&&await a._set(s,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(s)}catch(t){}})),new La(a,e,n)):new La(a,e,n)}}function za(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ba(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ha(t))return"Blackberry";if(Wa(t))return"Webos";if(Ua(t))return"Safari";if((t.includes("chrome/")||qa(t))&&!t.includes("edge/"))return"Chrome";if(Va(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/firefox\//i.test(e)}function Ua(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/crios\//i.test(e)}function Ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iemobile/i.test(e)}function Va(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/android/i.test(e)}function Ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/blackberry/i.test(e)}function Wa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/webos/i.test(e)}function Ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Qa(){return function(){const e=Gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return Ga(e)||Va(e)||Wa(e)||Ha(e)||/windows phone/i.test(e)||Ba(e)}function Ya(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=za(Gt());break;case"Worker":t="".concat(za(Gt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Nr,"/").concat(r)}class Xa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(G5){r(G5)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(G5){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===G5||void 0===G5?void 0:G5.message})}}}class $a{constructor(e){var t,n,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(a=e.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,a,s,i;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsUppercaseLetter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNonAlphanumericCharacter)||void 0===i||i),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Ja{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new es(this),this.idTokenSubscription=new es(this),this.beforeStateQueue=new Xa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pa(t)),this._initializationPromise=this.queue(async()=>{var n,r,a;if(!this._deleted&&(this.persistenceManager=await La.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(G5){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(a=this.currentUser)||void 0===a?void 0:a.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await xa(this,{idToken:e}),n=await Oa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var a,s;await this.getOrInitRedirectPersistenceManager();const t=null===(a=this.redirectUser)||void 0===a?void 0:a._redirectEventId,i=null===(s=n)||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==i||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(G5){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(G5))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Yr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(G5){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ta(e)}catch(G5){if((null===G5||void 0===G5?void 0:G5.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(Qr(this));const t=e?on(e):null;return t&&Yr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Yr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pa(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ca(e,"GET","/v2/passwordPolicy",la(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new $a(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $t("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ca(e,"POST","/v2/accounts:revokeToken",la(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pa(e)||this._popupRedirectResolver;Yr(t,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Pa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const a="function"===typeof t?t:t.next.bind(t);let s=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yr(i,this,"internal-error"),i.then(()=>{s||a(this.currentUser)}),"function"===typeof t){const a=e.addObserver(t,n,r);return()=>{s=!0,a()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ya(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Br.logLevel<=fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Br.warn("Auth (".concat(Nr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Za(e){return on(e)}class es{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new an(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Yr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ts={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ns(e){return ts.loadJS(e)}function rs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class as{constructor(){this.enterprise=new ss}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ss{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const is="NO_RECAPTCHA";class os{constructor(e){this.type="recaptcha-enterprise",this.auth=Za(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const a=window.grecaptcha;ga(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(is)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new as).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ya(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new va(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(a=>{if(!t&&ga(window.grecaptcha))n(a,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ts.recaptchaEnterpriseScript;0!==t.length&&(t+=a),ns(t).then(()=>{n(a,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ls(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new os(e);let i;if(a)i=is;else try{i=await s.verify(n)}catch(l){i=await s.verify(n,!0)}const o=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function cs(e,t,n,r,a){if("EMAIL_PASSWORD_PROVIDER"===a){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ls(e,t,n,"getOobCode"===n);return r(e,a)}return r(e,t).catch(async a=>{if(a.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const a=await ls(e,t,n,"getOobCode"===n);return r(e,a)}return Promise.reject(a)})}if("PHONE_PROVIDER"===a){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("PHONE_PROVIDER")){const a=await ls(e,t,n);return r(e,a).catch(async a=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(a.code==="auth/".concat("missing-recaptcha-token")||a.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const a=await ls(e,t,n,!1,!0);return r(e,a)}return Promise.reject(a)})}{const a=await ls(e,t,n,!1,!0);return r(e,a)}}return Promise.reject(a+" provider is not supported.")}async function us(e){const t=Za(e),n=await ya(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new va(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new os(t).verify()}}function ds(e,t,n){const r=Za(e);Yr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!(null===n||void 0===n||!n.disableWarnings),s=hs(t),{host:i,port:o}=function(e){const t=hs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const e=a[1];return{host:e,port:fs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:fs(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(s,"//").concat(i).concat(l,"/")},u=Object.freeze({host:i,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator)return Yr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Yr(Zt(c,r.config.emulator)&&Zt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,qt(i)?(Bt("".concat(s,"//").concat(i).concat(l)),Wt("Auth",!0)):a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ms{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function ps(e,t){return ca(e,"POST","/v1/accounts:signUp",t)}async function gs(e,t){return da(e,"POST","/v1/accounts:signInWithPassword",la(e,t))}async function vs(e,t){return ca(e,"POST","/v1/accounts:sendOobCode",la(e,t))}async function ys(e,t){return vs(e,t)}class xs extends ms{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new xs(e,t,"password")}static _fromEmailAndCode(e,t){return new xs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return cs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gs,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return da(e,"POST","/v1/accounts:signInWithEmailLink",la(e,t))}(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return cs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ps,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return da(e,"POST","/v1/accounts:signInWithEmailLink",la(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bs(e,t){return da(e,"POST","/v1/accounts:signInWithIdp",la(e,t))}class ws extends ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,a=u(t,zr);if(!n||!r)return null;const s=new ws(n,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){return bs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tn(t)}return e}}async function Ns(e,t){return ca(e,"POST","/v1/accounts:sendVerificationCode",la(e,t))}const Ss={USER_NOT_FOUND:"user-not-found"};class Es extends ms{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Es({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Es({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return da(e,"POST","/v1/accounts:signInWithPhoneNumber",la(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await da(e,"POST","/v1/accounts:signInWithPhoneNumber",la(e,t));if(n.temporaryProof)throw pa(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return da(e,"POST","/v1/accounts:signInWithPhoneNumber",la(e,c(c({},t),{},{operation:"REAUTH"})),Ss)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}=e;return n||t||r||a?new Es({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:a}):null}}class ks{constructor(e){var t,n,r,a,s,i;const o=nn(rn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Yr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(a=o.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(s=o.lang)&&void 0!==s?s:null,this.tenantId=null!==(i=o.tenantId)&&void 0!==i?i:null}static parseLink(e){const t=function(e){const t=nn(rn(e)).link,n=t?nn(rn(t)).deep_link_id:null,r=nn(rn(e)).deep_link_id;return(r?nn(rn(r)).link:null)||r||n||t||e}(e);try{return new ks(t)}catch(n){return null}}}class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(e,t){return xs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ks.parseLink(t);return Yr(n,"argument-error"),xs._fromEmailAndCode(e,n.code,n.tenantId)}}js.PROVIDER_ID="password",js.EMAIL_PASSWORD_SIGN_IN_METHOD="password",js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _s extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cs extends _s{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Cs.credential(t.oauthAccessToken)}catch(n){return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cs.PROVIDER_ID="facebook.com";class As extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ws._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return As.credential(n,r)}catch(a){return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com",As.PROVIDER_ID="google.com";class Os extends _s{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Os.credential(t.oauthAccessToken)}catch(n){return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com",Os.PROVIDER_ID="github.com";class Is extends _s{constructor(){super("twitter.com")}static credential(e,t){return ws._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Is.credential(n,r)}catch(a){return null}}}async function Ps(e,t){return da(e,"POST","/v1/accounts:signUp",la(e,t))}Is.TWITTER_SIGN_IN_METHOD="twitter.com",Is.PROVIDER_ID="twitter.com";class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=await Oa._fromIdTokenResponse(e,n,r),s=Rs(n);return new Ds({user:a,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Rs(n);return new Ds({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Rs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ms extends Xt{constructor(e,t,n,r){var a;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ms.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ms(e,t,n,r)}}function Ls(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ms._fromErrorAndOperation(e,n,t,r);throw n})}async function zs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ea(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ds._forOperation(e,"link",r)}async function Fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(xr(r.app))return Promise.reject(Qr(r));const a="reauthenticate";try{const s=await Ea(e,Ls(r,a,t,e),n);Yr(s.idToken,r,"internal-error");const i=Na(s.idToken);Yr(i,r,"internal-error");const{sub:o}=i;return Yr(e.uid===o,r,"user-mismatch"),Ds._forOperation(e,a,s)}catch(G5){throw(null===G5||void 0===G5?void 0:G5.code)==="auth/".concat("user-not-found")&&Hr(r,"user-mismatch"),G5}}async function Us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xr(e.app))return Promise.reject(Qr(e));const r="signIn",a=await Ls(e,r,t),s=await Ds._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}async function qs(e,t){return Us(Za(e),t)}function Bs(e,t,n){var r;Yr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Yr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),Yr("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Yr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Yr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Vs(e){const t=Za(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Hs(e,t,n){const r=Za(e),a={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Bs(r,a,n),await cs(r,a,"getOobCode",ys,"EMAIL_PASSWORD_PROVIDER")}async function Ws(e,t,n){if(xr(e.app))return Promise.reject(Qr(e));const r=Za(e),a=cs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ps,"EMAIL_PASSWORD_PROVIDER"),s=await a.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Vs(e),t}),i=await Ds._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function Gs(e,t,n){return xr(e.app)?Promise.reject(Qr(e)):qs(on(e),js.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Vs(e),t})}function Qs(e){return on(e).signOut()}function Ks(e,t){return ca(e,"POST","/v2/accounts/mfaEnrollment:start",la(e,t))}new WeakMap;const Ys="__sak";class Xs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ys,"1"),this.storage.removeItem(Ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $s extends Xs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ka(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},a=this.storage.getItem(n);Qa()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$s.type="LOCAL";const Js=$s;function Zs(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(a))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function ei(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ti{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ei(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Zs(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ei(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ei(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Zs(n);const a=setInterval(()=>{const e=Zs(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(a))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ti.type="COOKIE";class ni extends Xs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ni.type="SESSION";const ri=ni;class ai{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ai(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:a}=t.data,s=this.handlersMap[r];if(null===s||void 0===s||!s.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const i=Array.from(s).map(async e=>e(t.origin,a)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(i);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ai.receivers=[];class ii{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((i,o)=>{const l=si("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function oi(){return window}function li(){return"undefined"!==typeof oi().WorkerGlobalScope&&"function"===typeof oi().importScripts}const ci="firebaseLocalStorageDb",ui="firebaseLocalStorage",di="fbase_key";class hi{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fi(e,t){return e.transaction([ui],t?"readwrite":"readonly").objectStore(ui)}function mi(){const e=indexedDB.open(ci,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(ui,{keyPath:di})}catch(G5){n(G5)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ui)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ci);return new hi(e).toPromise()}(),t(await mi()))})})}async function pi(e,t,n){const r=fi(e,!0).put({[di]:t,value:n});return new hi(r).toPromise()}function gi(e,t){const n=fi(e,!0).delete(t);return new hi(n).toPromise()}class vi{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await mi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(G5){if(t++>3)throw G5;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return li()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ai._getInstance(li()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ii(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mi();return await pi(e,Ys,"1"),await gi(e,Ys),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>pi(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=fi(e,!1).get(t),r=await new hi(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gi(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=fi(e,!1).getAll();return new hi(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vi.type="LOCAL";const yi=vi;function xi(e,t){return ca(e,"POST","/v2/accounts/mfaSignIn:start",la(e,t))}rs("rcb"),new na(3e4,6e4);const bi="recaptcha";async function wi(e,t,n){if(!e._getRecaptchaConfig())try{await us(e)}catch(a){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){Yr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=cs(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===is){Yr((null===n||void 0===n?void 0:n.type)===bi,e,"argument-error");return Ks(e,await Ni(e,t,n))}return Ks(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Yr("signin"===t.type,e,"internal-error");const s=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;Yr(s,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=cs(e,i,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===is){Yr((null===n||void 0===n?void 0:n.type)===bi,e,"argument-error");return xi(e,await Ni(e,t,n))}return xi(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=cs(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===is){Yr((null===n||void 0===n?void 0:n.type)===bi,e,"argument-error");return Ns(e,await Ni(e,t,n))}return Ns(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ni(e,t,n){Yr(n.type===bi,e,"argument-error");const r=await n.verify();Yr("string"===typeof r,e,"argument-error");const a=c({},t);if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.captchaResponse,n=a.phoneEnrollmentInfo.clientType,s=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),a}if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.captchaResponse,t=a.phoneSignInInfo.clientType,n=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),a}return Object.assign(a,{recaptchaToken:r}),a}class Si{constructor(e){this.providerId=Si.PROVIDER_ID,this.auth=Za(e)}verifyPhoneNumber(e,t){return wi(this.auth,e,on(t))}static credential(e,t){return Es._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Si.credentialFromTaggedObject(t)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Es._fromTokenResponse(n,r):null}}function Ei(e,t){return t?Pa(t):(Yr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Si.PROVIDER_ID="phone",Si.PHONE_SIGN_IN_METHOD="phone";class ki extends ms{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ji(e){return Us(e.auth,new ki(e),e.bypassAuthState)}function Ti(e){const{auth:t,user:n}=e;return Yr(n,t,"internal-error"),Fs(n,new ki(e),e.bypassAuthState)}async function _i(e){const{auth:t,user:n}=e;return Yr(n,t,"internal-error"),zs(n,new ki(e),e.bypassAuthState)}class Ci{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(G5){this.reject(G5)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:a,error:s,type:i}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(G5){this.reject(G5)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ji;case"linkViaPopup":case"linkViaRedirect":return _i;case"reauthViaPopup":case"reauthViaRedirect":return Ti;default:Hr(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ai=new na(2e3,1e4);class Oi extends Ci{constructor(e,t,n,r,a){super(e,t,r,a),this.provider=n,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yr(e,this.auth,"internal-error"),e}async onExecution(){$r(1===this.filter.length,"Popup operations only handle one event");const e=si();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Ai.get())};e()}}Oi.currentPopupAction=null;const Ii=new Map;class Pi extends Ci{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ii.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mi(t),r=Ri(e);if(!await r._isAvailable())return!1;const a="true"===await r._get(n);return await r._remove(n),a}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(G5){e=()=>Promise.reject(G5)}Ii.set(this.auth._key(),e)}return this.bypassAuthState||Ii.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Di(e,t){Ii.set(e._key(),t)}function Ri(e){return Pa(e._redirectPersistence)}function Mi(e){return Ma("pendingRedirect",e.config.apiKey,e.name)}async function Li(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(xr(e.app))return Promise.reject(Qr(e));const r=Za(e),a=Ei(r,t),s=new Pi(r,a,n),i=await s.execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}class zi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ui(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ui(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fi(e))}saveEventToCache(e){this.cachedEventUids.add(Fi(e)),this.lastProcessedEventTime=Date.now()}}function Fi(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ui(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bi=/^https?/;async function Vi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ca(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Hi(r))return}catch(n){}Hr(e,"unauthorized-domain")}function Hi(e){const t=Jr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!Bi.test(n))return!1;if(qi.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Wi=new na(3e4,6e4);function Gi(){const e=oi().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qi(e){return new Promise((t,n)=>{var r,a;function s(){Gi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gi(),n(Wr(e,"network-request-failed"))},timeout:Wi.get()})}if(null!==(r=oi().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(a=oi().gapi)||void 0===a||!a.load){const t=rs("iframefcb");return oi()[t]=()=>{gapi.load?s():n(Wr(e,"network-request-failed"))},ns("".concat(ts.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw Ki=null,e})}let Ki=null;const Yi=new na(5e3,15e3),Xi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$i=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ji(e){const t=e.config;Yr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ra(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Nr},a=$i.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(tn(r).slice(1))}async function Zi(e){const t=await function(e){return Ki=Ki||Qi(e),Ki}(e),n=oi().gapi;return Yr(n,e,"internal-error"),t.open({where:document.body,url:Ji(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xi,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const a=Wr(e,"network-request-failed"),s=oi().setTimeout(()=>{r(a)},Yi.get());function i(){oi().clearTimeout(s),n(t)}t.ping(i).then(i,()=>{r(a)})}))}const eo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class to{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(G5){}}}function no(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=c(c({},eo),{},{width:r.toString(),height:a.toString(),top:s,left:i}),u=Gt().toLowerCase();n&&(o=qa(u)?"_blank":n),Fa(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Ga(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new to(null);const h=window.open(t||"",o,d);Yr(h,e,"popup-blocked");try{h.focus()}catch(G5){}return new to(h)}const ro="__/auth/handler",ao="emulator/auth/handler",so=encodeURIComponent("fac");async function io(e,t,n,r,a,s){Yr(e.config.authDomain,e,"auth-domain-config-required"),Yr(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nr,eventId:a};if(t instanceof Ts){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))i[e]=t}if(t instanceof _s){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(so,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ro);return ra(t,ao)}(e),"?").concat(tn(o).slice(1)).concat(c)}const oo="webStorageSupport";const lo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ri,this._completeRedirectFn=Li,this._overrideRedirectResult=Di}async _openPopup(e,t,n,r){var a;$r(null===(a=this.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");return no(e,await io(e,t,n,Jr(),r),si())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){oi().location.href=e}(await io(e,t,n,Jr(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):($r(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Zi(e),n=new zi(e);return t.register("authEvent",t=>{Yr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(oo,{type:oo},n=>{var r;const a=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[oo];void 0!==a&&t(!!a),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ka()||Ua()||Ga()}};var co="@firebase/auth",uo="1.11.0";class ho{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Yr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fo=Ft("authIdTokenMaxAge")||300;let mo=null;var po;ts={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},po="Browser",vr(new ln("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:o}=r.options;Yr(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:o,clientPlatform:po,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ya(po)},c=new Ja(r,a,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pa);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),vr(new ln("auth-internal",e=>(e=>new ho(e))(Za(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),kr(co,uo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(po)),kr(co,uo,"esm2020");var go,vo,yo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},xo={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var a=0;a<16;++a)r[a]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(a=0;a<16;++a)r[a]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],a=e.g[2];let s,i=e.g[3];s=t+(i^n&(a^i))+r[0]+3614090360&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[1]+3905402710&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[2]+606105819&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[3]+3250441966&4294967295,s=t+(i^(n=a+(s<<22&4294967295|s>>>10))&(a^i))+r[4]+4118548399&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[5]+1200080426&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[7]+4249261313&4294967295,s=t+(i^(n=a+(s<<22&4294967295|s>>>10))&(a^i))+r[8]+1770035416&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[9]+2336552879&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[11]+2304563134&4294967295,s=t+(i^(n=a+(s<<22&4294967295|s>>>10))&(a^i))+r[12]+1804603682&4294967295,s=i+(a^(t=n+(s<<7&4294967295|s>>>25))&(n^a))+r[13]+4254626195&4294967295,i=t+(s<<12&4294967295|s>>>20),s=a+(n^i&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(a=i+(s<<17&4294967295|s>>>15))&(i^t))+r[15]+1236535329&4294967295,s=t+(a^i&((n=a+(s<<22&4294967295|s>>>10))^a))+r[1]+4129170786&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[11]+643717713&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[0]+3921069994&4294967295,s=t+(a^i&((n=a+(s<<20&4294967295|s>>>12))^a))+r[5]+3593408605&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[15]+3634488961&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[4]+3889429448&4294967295,s=t+(a^i&((n=a+(s<<20&4294967295|s>>>12))^a))+r[9]+568446438&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[3]+4107603335&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[8]+1163531501&4294967295,s=t+(a^i&((n=a+(s<<20&4294967295|s>>>12))^a))+r[13]+2850285829&4294967295,s=i+(n^a&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,i=t+(s<<9&4294967295|s>>>23),s=a+(t^n&(i^t))+r[7]+1735328473&4294967295,s=n+(i^t&((a=i+(s<<14&4294967295|s>>>18))^i))+r[12]+2368359562&4294967295,s=t+((n=a+(s<<20&4294967295|s>>>12))^a^i)+r[5]+4294588738&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[8]+2272392833&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[11]+1839030562&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[14]+4259657740&4294967295,s=t+((n=a+(s<<23&4294967295|s>>>9))^a^i)+r[1]+2763975236&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[4]+1272893353&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[7]+4139469664&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[10]+3200236656&4294967295,s=t+((n=a+(s<<23&4294967295|s>>>9))^a^i)+r[13]+681279174&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[0]+3936430074&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[3]+3572445317&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[6]+76029189&4294967295,s=t+((n=a+(s<<23&4294967295|s>>>9))^a^i)+r[9]+3654602809&4294967295,s=i+((t=n+(s<<4&4294967295|s>>>28))^n^a)+r[12]+3873151461&4294967295,i=t+(s<<11&4294967295|s>>>21),s=a+(i^t^n)+r[15]+530742520&4294967295,s=n+((a=i+(s<<16&4294967295|s>>>16))^i^t)+r[2]+3299628645&4294967295,s=t+(a^((n=a+(s<<23&4294967295|s>>>9))|~i))+r[0]+4096336452&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[7]+1126891415&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[14]+2878612391&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(a^((n=a+(s<<21&4294967295|s>>>11))|~i))+r[12]+1700485571&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[3]+2399980690&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[10]+4293915773&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(a^((n=a+(s<<21&4294967295|s>>>11))|~i))+r[8]+1873313359&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[15]+4264355552&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[6]+2734768916&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(a^((n=a+(s<<21&4294967295|s>>>11))|~i))+r[4]+4149444226&4294967295,s=i+(n^((t=n+(s<<6&4294967295|s>>>26))|~a))+r[11]+3174756917&4294967295,i=t+(s<<10&4294967295|s>>>22),s=a+(t^(i|~n))+r[2]+718787259&4294967295,s=n+(i^((a=i+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(a+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+a&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let a=e.length-1;a>=0;a--){const s=0|e[a];r&&s==t||(n[a]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,a=this.C;let s=this.h,i=0;for(;i<t;){if(0==s)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(a[s++]=e.charCodeAt(i++),s==this.blockSize){n(this,a),s=0;break}}else for(;i<t;)if(a[s++]=e[i++],s==this.blockSize){n(this,a),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var a={};function s(e){return-128<=e&&e<128?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(i(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var a=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(a=a.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,a.j(t)),new p(a,t)}for(a=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=i(n)).j(t);d(c)||c.l(e)>0;)c=(s=i(n-=r)).j(t);u(s)&&(s=l),a=a.add(s),e=f(e,c)}return new p(a,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const a=e.g.length-n,s=[];for(let r=0;r<a;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=i(Math.pow(e,6));var n=this;let r="";for(;;){const a=g(n,t).g;let s=(((n=f(n,a.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=a))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let a=0;for(let r=0;r<=t;r++){let t=a+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);a=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return i(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var a=0;a<2*t;a++)n[a]=0;for(a=0;a<this.g.length;a++)for(let t=0;t<e.g.length;t++){const r=this.i(a)>>>16,s=65535&this.i(a),i=e.i(t)>>>16,o=65535&e.i(t);n[2*a+2*t]+=s*o,m(n,2*a+2*t),n[2*a+2*t+1]+=r*o,m(n,2*a+2*t+1),n[2*a+2*t+1]+=s*i,m(n,2*a+2*t+1),n[2*a+2*t+2]+=r*i,m(n,2*a+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,vo=xo.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=i,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=i(Math.pow(n,8));let a=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=i(Math.pow(n,s)),a=a.j(s).add(i(e))):(a=a.j(r),a=a.add(i(e)))}return a},go=xo.Integer=r}).apply("undefined"!==typeof yo?yo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var bo,wo,No,So,Eo,ko,jo,To,_o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Co={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _o&&_o];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var a=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var i=e[s];if(!(i in a))break e;a=a[i]}(r=r(s=a[e=e[e.length-1]]))!=s&&null!=r&&t(a,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var a=a||{},s=this||self;function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return t.prototype[n].apply(e,a)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let a=0;a<r;a++)e[n+a]=t[a]}else e.push(t)}}function m(e){s.setTimeout(()=>{throw e},0)}function p(){var e=b;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,x=!1,b=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(N)}};function N(){for(var e;e=p();){try{e.h.call(e.g)}catch(P2){m(P2)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}x=!1}function S(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(P2){}return e}();function j(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,E),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _="closure_listenable_"+(1e6*Math.random()|0),C=0;function A(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=a,this.key=++C,this.da=this.fa=!1}function O(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function M(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,a=e.g[n],s=Array.prototype.indexOf.call(a,t,void 0);(r=s>=0)&&Array.prototype.splice.call(a,s,1),r&&(O(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function z(e,t,n,r){for(let a=0;a<e.length;++a){const s=e[a];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return a}return-1}M.prototype.add=function(e,t,n,r,a){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const i=z(e,t,r,a);return i>-1?(t=e[i],n||(t.fa=!1)):((t=new A(t,this.src,s,!!r,a)).fa=n,e.push(t)),t};var F="closure_lm_"+(1e6*Math.random()|0),U={};function q(e,t,n,r,a){if(r&&r.once)return V(e,t,n,r,a);if(Array.isArray(t)){for(let s=0;s<t.length;s++)q(e,t[s],n,r,a);return null}return n=X(n),e&&e[_]?e.J(t,n,i(r)?!!r.capture:!!r,a):B(e,t,n,!1,r,a)}function B(e,t,n,r,a,s){if(!t)throw Error("Invalid event type");const o=i(a)?!!a.capture:!!a;let l=K(e);if(l||(e[F]=l=new M(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Q;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function V(e,t,n,r,a){if(Array.isArray(t)){for(let s=0;s<t.length;s++)V(e,t[s],n,r,a);return null}return n=X(n),e&&e[_]?e.K(t,n,i(r)?!!r.capture:!!r,a):B(e,t,n,!0,r,a)}function H(e,t,n,r,a){if(Array.isArray(t))for(var s=0;s<t.length;s++)H(e,t[s],n,r,a);else r=i(r)?!!r.capture:!!r,n=X(n),e&&e[_]?(e=e.i,(s=String(t).toString())in e.g&&((n=z(t=e.g[s],n,r,a))>-1&&(O(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=K(e))&&(t=e.g[t.toString()],e=-1,t&&(e=z(t,n,r,a)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[_])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=K(t))?(L(n,e),0==n.h&&(n.src=null,t[F]=null)):O(e)}}}function G(e){return e in U?U[e]:U[e]="on"+e}function Q(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function K(e){return(e=e[F])instanceof M?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){S.call(this),this.i=new M(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var a=t;R(t=new E(r,e),a)}let s,i;if(a=!0,n)for(i=n.length-1;i>=0;i--)s=t.g=n[i],a=Z(s,r,!0,t)&&a;if(s=t.g=e,a=Z(s,r,!0,t)&&a,a=Z(s,r,!1,t)&&a,n)for(i=0;i<n.length;i++)s=t.g=n[i],a=Z(s,r,!1,t)&&a}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let a=!0;for(let s=0;s<t.length;++s){const i=t[s];if(i&&!i.da&&i.capture==n){const t=i.listener,n=i.ha||i.src;i.fa&&L(e.i,i),a=!1!==t.call(n,r)&&a}}return a&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,S),$.prototype[_]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)O(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ae(e){I(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ae(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=s.JSON.stringify,ie=s.JSON.parse,oe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var fe={},me=null;function pe(){return me=me||new $}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=pe();J(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function xe(e){const t=pe();J(t,new ye(t,e))}function be(e,t){E.call(this,fe.Ja,e),this.size=t}function we(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(let e=1;e<r.length;e++)r[e]=""}}}return se(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(be,E),Ne.prototype.ua=function(){this.g=!1},Ne.prototype.info=function(){};var Ee,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},je={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function _e(e){return encodeURIComponent(String(e))}function Ce(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ee=new Te;var Ie={},Pe={};function De(e,t,n){e.M=1,e.A=st(et(t)),e.u=n,e.R=!0,Re(e,null)}function Re(e,t){e.F=Date.now(),ze(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),xt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Oe,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var a="readystatechange";Array.isArray(a)||(a&&(re[0]=a.toString()),a=re);for(let s=0;s<a.length;s++){const e=q(n,a[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,a,s){e.info(function(){if(e.g)if(s){var i="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");i=t.length>=2&&"type"==t[1]?i+(e+"=")+l+"&":i+(e+"=redacted&")}}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+i})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Me(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Ie:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function Ue(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function qe(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ae(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Ve(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ke(n.h,e)))if(!e.L&&Ke(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Vt(n)}Xt(n),xe(18)}}else n.xa=a[1],0<n.xa-n.K&&a[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Qe(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!j(t))for(a=n.Ba.g.parse(t),t=0;t<a.length;t++){let l=a[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const a=l[4];null!=a&&(n.za=a,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ye(s,s.h),s.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,at(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var i=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),i.L){Xe(r.h,i);var o=i,c=r.O;c&&(o.H=c),o.D&&(Ue(o),ze(o)),r.g=i}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==zt(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=zt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||ve(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Me(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,a=4==zt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),qe(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(a&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,a,s,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+s+" "+i})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,a=this.g;if((r=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(r)){var i=r;break t}}i=null}if(!(e=i)){this.o=!1,this.m=3,xe(12),Be(this),qe(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ve(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==Pe){4==l&&(this.m=4,xe(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ie){this.m=4,xe(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),Ve(this,t)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,xe(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(o),o.P=!0,xe(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),qe(this)}else Se(this.i,this.l,n,null),Ve(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&zt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(j(e[r]))continue;var n=Ce(e[r]);const a=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[a]||[];t[a]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Be(this),qe(this)}}}catch(cl){}},Ae.prototype.cancel=function(){this.K=!0,Be(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),xe(17)),Be(this),this.m=2,qe(this)):Fe(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qe(e){return e.h?1:e.g?e.g.size:0}function Ke(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=it(t[2]||""),this.g=it(t[3]||"",!0),nt(this,t[4]),this.h=it(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=it(t[7]||"")):(this.l=!1,this.i=new mt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?it(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof mt?(e.i=t,function(e,t){t&&!e.j&&(pt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),xt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new mt(t,e.l))}function at(e,t,n){e.i.set(t,n)}function st(e){return at(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(_e(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var a=t.h.lastIndexOf("/");-1!=a&&(r=t.h.slice(0,a+1)+r)}if(".."==(a=r)||"."==a)r="";else if(-1!=a.indexOf("./")||-1!=a.indexOf("/.")){r=0==a.lastIndexOf("/",0),a=a.split("/");const e=[];for(let t=0;t<a.length;){const n=a[t++];"."==n?r&&t==a.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==a.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=a}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function mt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let a,s=null;r>=0?(a=e[n].substring(0,r),s=e[n].substring(r+1)):a=e[n],t(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){pt(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return pt(e),t=wt(e,t),e.g.has(t)}function yt(e,t){pt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function xt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new mt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,a){try{a&&(a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null),r(n)}catch(s){}}function St(){this.g=new oe}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function jt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,_t(e)}function _t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ct(e){let t="";return I(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ct(n),"string"===typeof e?null!=n&&_e(n):at(e,t,n))}function Ot(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=mt.prototype).add=function(e,t){pt(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return pt(this),this.i=null,vt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const a=_e(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=a;""!==n[t]&&(r+="="+_e(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new kt(this.i,this.h)},u(kt,$),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,_t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;jt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):_t(this),3==this.readyState&&jt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ot,$);var It=/^https?$/i,Pt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Rt(e),Lt(e)}function Rt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof a)if(e.v&&4==zt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==zt(e)){e.h=!1;try{const a=e.ca();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){let t=String(e.D).match(Je)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!It.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var i=zt(e)>2?e.g.statusText:""}catch(o){i=""}e.l=i+" ["+e.ca()+"]",Rt(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function zt(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qt(e){this.za=0,this.i=[],this.j=new Ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(at(n,"SID",e.M),at(n,"RID",t),at(n,"TYPE","terminate"),Qt(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=st(et(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ze(t)}rn(e)}function Vt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){Vt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&s.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||w(),x||(y(),x=!0),b.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);at(r,"SID",e.M),at(r,"RID",n),at(r,"AID",e.K),Qt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Kt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),De(n,r,t)}function Qt(e,t){e.H&&I(e.H,function(e,n){at(t,n,e)}),e.l&&I({},function(e,n){at(t,n,e)})}function Kt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var a=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=a[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var s=a[c].g;const n=a[c].map;if((s-=t)<0)t=Math.max(0,a[c].g-100),l=!1;else try{s="req"+s+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;i(n)&&(r=se(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(Oo){throw e.push(s+"type="+encodeURIComponent("_badmap")),Oo}}catch(Oo){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||w(),x||(y(),x=!0),b.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);at(t,"RID","rpc"),at(t,"SID",e.M),at(t,"AID",e.K),at(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&at(t,"TO",e.ia),at(t,"TYPE","xmlhttp"),Qt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=st(et(t)),n.u=null,n.R=!0,Re(n,e)}function Zt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Ke(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var a=e.D;J(r=pe(),new be(r,n)),Wt(e)}else Yt(e);else if(3==(a=t.m)||0==a&&t.X>0||!(1==r&&function(e,t){return!(Qe(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),a){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||tt(r,"https"),st(r),t?function(e,t){const n=new Ne;if(s.Image){const r=new Image;r.onload=c(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Nt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var a=s.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),a&&nt(e,a),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&at(r,n,t),at(r,"VER",e.ka),Qt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ot(new Et({ab:n})):new Ot(e.ma)).Fa(e.L),t}function on(){}function ln(){}function cn(e,t){$.call(this),this.g=new qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!j(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!j(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Ot.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Dt(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(i){Dt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),Ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mt(this):this.Xa())},e.Xa=function(){Mt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return zt(this)>2?this.g.status:-1}catch(M2){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(M2){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ie(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=qt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const a=new Ae(this,this.j,e);let s=this.o;if(this.U&&(s?(s=P(s),R(s,this.U)):s=this.U),null!==this.u||this.R||(a.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kt(this,a,t),at(n=et(this.J),"RID",e),at(n,"CVER",22),this.G&&at(n,"X-HTTP-Session-Id",this.G),Qt(this,n),s&&(this.R?t="headers="+_e(Ct(s))+"&"+t:this.u&&At(n,this.u,s)),Ye(this.h,a),this.Ra&&at(n,"TYPE","init"),this.S?(at(n,"$req",t),at(n,"SID","null"),a.U=!0,De(a,n,null)):De(a,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),Vt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Vt(this),Xt(this),xe(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=se(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,on),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,To=Co.createWebChannelTransport=function(){return new ln},jo=Co.getStatEventTarget=function(){return pe()},ko=Co.Event=fe,Eo=Co.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,So=Co.ErrorCode=ke,je.COMPLETE="complete",No=Co.EventType=je,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,wo=Co.WebChannel=ce,Co.FetchXmlHttpFactory=Et,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,bo=Co.XhrIo=Ot}).apply("undefined"!==typeof _o?_o:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ao="@firebase/firestore",Oo="4.9.2";class Io{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");let Po="12.3.0";const Do=new yn("@firebase/firestore");function Ro(){return Do.logLevel}function Mo(e){if(Do.logLevel<=fn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Fo);Do.debug("Firestore (".concat(Po,"): ").concat(e),...a)}}function Lo(e){if(Do.logLevel<=fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Fo);Do.error("Firestore (".concat(Po,"): ").concat(e),...a)}}function zo(e){if(Do.logLevel<=fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(Fo);Do.warn("Firestore (".concat(Po,"): ").concat(e),...a)}}function Fo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Uo(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,qo(e,r,n)}function qo(e,t,n){let r="FIRESTORE (".concat(Po,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Lo(r),new Error(r)}function Bo(e,t,n,r){let a="Unexpected state";"string"==typeof n?a=n:r=n,e||qo(t,a,r)}function Vo(e,t){return e}const Ho={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wo extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Go{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Qo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ko{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Io.UNAUTHENTICATED))}shutdown(){}}class Yo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xo{constructor(e){this.t=e,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bo(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let a=new Go;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Go,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=a;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},i=e=>{Mo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(Mo("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Go)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Mo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Bo("string"==typeof t.accessToken,31837,{l:t}),new Qo(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bo(null===e||"string"==typeof e,2055,{h:e}),new Io(e)}}class $o{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Io.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jo{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new $o(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class el{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Bo(void 0===this.o,3512);const n=e=>{null!=e.error&&Mo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Mo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Mo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Mo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zo(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Bo("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Zo(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class nl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=tl(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function rl(e,t){return e<t?-1:e>t?1:0}function al(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),a=t.charAt(r);if(n!==a)return ol(n)===ol(a)?rl(n,a):ol(n)?1:-1}return rl(e.length,t.length)}const sl=55296,il=57343;function ol(e){const t=e.charCodeAt(0);return t>=sl&&t<=il}function ll(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const cl="__name__";class ul{constructor(e,t,n){void 0===t?t=0:t>e.length&&Uo(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Uo(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ul.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ul?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ul.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return rl(e.length,t.length)}static compareSegments(e,t){const n=ul.isNumericId(e),r=ul.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ul.extractNumericId(e).compare(ul.extractNumericId(t)):al(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return go.fromString(e.substring(4,e.length-2))}}class dl extends ul{construct(e,t,n){return new dl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n){if(a.indexOf("//")>=0)throw new Wo(Ho.INVALID_ARGUMENT,"Invalid segment (".concat(a,"). Paths must not contain // in them."));e.push(...a.split("/").filter(e=>e.length>0))}return new dl(e)}static emptyPath(){return new dl([])}}const hl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fl extends ul{construct(e,t,n){return new fl(e,t,n)}static isValidIdentifier(e){return hl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===cl}static keyField(){return new fl([cl])}static fromServerFormat(e){const t=[];let n="",r=0;const a=()=>{if(0===n.length)throw new Wo(Ho.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Wo(Ho.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wo(Ho.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(a(),r++)}if(a(),s)throw new Wo(Ho.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fl(t)}static emptyPath(){return new fl([])}}class ml{constructor(e){this.path=e}static fromPath(e){return new ml(dl.fromString(e))}static fromName(e){return new ml(dl.fromString(e).popFirst(5))}static empty(){return new ml(dl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ml(new dl(e.slice()))}}function pl(e,t,n){if(!n)throw new Wo(Ho.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gl(e){if(!ml.isDocumentKey(e))throw new Wo(Ho.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vl(e){if(ml.isDocumentKey(e))throw new Wo(Ho.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function yl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function xl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Uo(12329,{type:typeof e})}function bl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wo(Ho.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xl(e);throw new Wo(Ho.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function wl(e,t){const n={typeString:e};return t&&(n.value=t),n}function Nl(e,t){if(!yl(e))throw new Wo(Ho.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const i=e[r];if(a&&typeof i!==a){n="JSON field '".concat(r,"' must be a ").concat(a,".");break}if(void 0!==s&&i!==s.value){n="Expected '".concat(r,"' field to equal '").concat(s.value,"'");break}}if(n)throw new Wo(Ho.INVALID_ARGUMENT,n);return!0}const Sl=-62135596800,El=1e6;class kl{static now(){return kl.fromMillis(Date.now())}static fromDate(e){return kl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*El);return new kl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wo(Ho.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wo(Ho.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sl)throw new Wo(Ho.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wo(Ho.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/El}_compareTo(e){return this.seconds===e.seconds?rl(this.nanoseconds,e.nanoseconds):rl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nl(e,kl._jsonSchema))return new kl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kl._jsonSchemaVersion="firestore/timestamp/1.0",kl._jsonSchema={type:wl("string",kl._jsonSchemaVersion),seconds:wl("number"),nanoseconds:wl("number")};class jl{static fromTimestamp(e){return new jl(e)}static min(){return new jl(new kl(0,0))}static max(){return new jl(new kl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tl=-1;class _l{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_l.UNKNOWN_ID=-1;function Cl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=jl.fromTimestamp(1e9===r?new kl(n+1,0):new kl(n,r));return new Ol(a,ml.empty(),t)}function Al(e){return new Ol(e.readTime,e.key,Tl)}class Ol{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ol(jl.min(),ml.empty(),Tl)}static max(){return new Ol(jl.max(),ml.empty(),Tl)}}function Il(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ml.comparator(e.documentKey,t.documentKey),0!==n?n:rl(e.largestBatchId,t.largestBatchId))}const Pl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Rl(e){if(e.code!==Ho.FAILED_PRECONDITION||e.message!==Pl)throw e;Mo("LocalStore","Unexpectedly lost primary lease")}class Ml{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Uo(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ml((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ml?t:Ml.resolve(t)}catch(e){return Ml.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ml.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ml.reject(t)}static resolve(e){return new Ml((t,n)=>{t(e)})}static reject(e){return new Ml((t,n)=>{n(e)})}static waitFor(e){return new Ml((t,n)=>{let r=0,a=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++a,s&&a===r&&t()},e=>n(e))}),s=!0,a===r&&t()})}static or(e){let t=Ml.resolve(!1);for(const n of e)t=t.next(e=>e?Ml.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ml((n,r)=>{const a=e.length,s=new Array(a);let i=0;for(let o=0;o<a;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++i,i===a&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ml((n,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):n()};a()})}}function Ll(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zl(e){return"IndexedDbTransactionError"===e.name}class Fl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fl.ce=-1;const Ul=-1;function ql(e){return null==e}function Bl(e){return 0===e&&1/e==-1/0}function Vl(e){return"number"==typeof e&&Number.isInteger(e)&&!Bl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Hl="\x01";function Wl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ql(t)),t=Gl(e.get(n),t);return Ql(t)}function Gl(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const t=e.charAt(a);switch(t){case"\0":n+="\x01\x10";break;case Hl:n+="\x01\x11";break;default:n+=t}}return n}function Ql(e){return e+Hl+"\x01"}const Kl="remoteDocuments",Yl="owner",Xl="mutationQueues",$l="mutations";const Jl="documentMutations",Zl="remoteDocumentsV14",ec="remoteDocumentGlobal",tc="targets",nc="targetDocuments",rc="targetGlobal",ac="collectionParents",sc="clientMetadata",ic="bundles",oc="namedQueries",lc="indexConfiguration",cc="indexState",uc="indexEntries",dc="documentOverlays",hc="globals",fc=[Xl,$l,Jl,Kl,tc,Yl,rc,nc,sc,ec,ac,ic,oc],mc=[Xl,$l,Jl,Zl,tc,Yl,rc,nc,sc,ec,ac,ic,oc,dc],pc=mc,gc=[...pc,lc,cc,uc];function vc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bc{constructor(e,t){this.comparator=e,this.root=t||Nc.EMPTY}insert(e,t){return new bc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nc.BLACK,null,null))}remove(e){return new bc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nc{constructor(e,t,n,r,a){this.key=e,this.value=t,this.color=null!=n?n:Nc.RED,this.left=null!=r?r:Nc.EMPTY,this.right=null!=a?a:Nc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,a){return new Nc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const a=n(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Uo(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Uo(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Uo(27949);return e+(this.isRed()?0:1)}}Nc.EMPTY=null,Nc.RED=!0,Nc.BLACK=!1,Nc.EMPTY=new class{constructor(){this.size=0}get key(){throw Uo(57766)}get value(){throw Uo(16141)}get color(){throw Uo(16727)}get left(){throw Uo(29726)}get right(){throw Uo(36894)}copy(e,t,n,r,a){return this}insert(e,t,n){return new Nc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sc{constructor(e){this.comparator=e,this.data=new bc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ec(this.data.getIterator())}getIteratorFrom(e){return new Ec(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Sc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sc(this.comparator);return t.data=e,t}}class Ec{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kc{constructor(e){this.fields=e,e.sort(fl.comparator)}static empty(){return new kc([])}unionWith(e){let t=new Sc(fl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class jc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new jc("Invalid base64 string: "+e):e}}(e);return new Tc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tc.EMPTY_BYTE_STRING=new Tc("");const _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(e){if(Bo(!!e,39018),"string"==typeof e){let t=0;const n=_c.exec(e);if(Bo(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ac(e.seconds),nanos:Ac(e.nanos)}}function Ac(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Oc(e){return"string"==typeof e?Tc.fromBase64String(e):Tc.fromUint8Array(e)}const Ic="server_timestamp",Pc="__type__",Dc="__previous_value__",Rc="__local_write_time__";function Mc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Pc])||void 0===t?void 0:t.stringValue)===Ic}function Lc(e){const t=e.mapValue.fields[Dc];return Mc(t)?Lc(t):t}function zc(e){const t=Cc(e.mapValue.fields[Rc].timestampValue);return new kl(t.seconds,t.nanos)}class Fc{constructor(e,t,n,r,a,s,i,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=i,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Uc="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||Uc}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}const Bc="__type__",Vc="__max__",Hc={mapValue:{fields:{__type__:{stringValue:Vc}}}},Wc="__vector__",Gc="value";function Qc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mc(e)?4:uu(e)?9007199254740991:lu(e)?10:11:Uo(28295,{value:e})}function Kc(e,t){if(e===t)return!0;const n=Qc(e);if(n!==Qc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zc(e).isEqual(zc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cc(e.timestampValue),r=Cc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Oc(e.bytesValue).isEqual(Oc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ac(e.geoPointValue.latitude)===Ac(t.geoPointValue.latitude)&&Ac(e.geoPointValue.longitude)===Ac(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ac(e.integerValue)===Ac(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ac(e.doubleValue),r=Ac(t.doubleValue);return n===r?Bl(n)===Bl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ll(e.arrayValue.values||[],t.arrayValue.values||[],Kc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vc(n)!==vc(r))return!1;for(const a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!Kc(n[a],r[a])))return!1;return!0}(e,t);default:return Uo(52216,{left:e})}}function Yc(e,t){return void 0!==(e.values||[]).find(e=>Kc(e,t))}function Xc(e,t){if(e===t)return 0;const n=Qc(e),r=Qc(t);if(n!==r)return rl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ac(e.integerValue||e.doubleValue),r=Ac(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $c(e.timestampValue,t.timestampValue);case 4:return $c(zc(e),zc(t));case 5:return al(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Oc(e),r=Oc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let a=0;a<n.length&&a<r.length;a++){const e=rl(n[a],r[a]);if(0!==e)return e}return rl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rl(Ac(e.latitude),Ac(t.latitude));return 0!==n?n:rl(Ac(e.longitude),Ac(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Jc(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,a,s){const i=e.fields||{},o=t.fields||{},l=null===(n=i[Gc])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Gc])||void 0===r?void 0:r.arrayValue,u=rl((null===l||void 0===l||null===(a=l.values)||void 0===a?void 0:a.length)||0,(null===c||void 0===c||null===(s=c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Jc(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Hc.mapValue&&t===Hc.mapValue)return 0;if(e===Hc.mapValue)return 1;if(t===Hc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),a=t.fields||{},s=Object.keys(a);r.sort(),s.sort();for(let i=0;i<r.length&&i<s.length;++i){const e=al(r[i],s[i]);if(0!==e)return e;const t=Xc(n[r[i]],a[s[i]]);if(0!==t)return t}return rl(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Uo(23264,{he:n})}}function $c(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rl(e,t);const n=Cc(e),r=Cc(t),a=rl(n.seconds,r.seconds);return 0!==a?a:rl(n.nanos,r.nanos)}function Jc(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const e=Xc(n[a],r[a]);if(e)return e}return rl(n.length,r.length)}function Zc(e){return eu(e)}function eu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Oc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ml.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=eu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const a of t)r?r=!1:n+=",",n+="".concat(a,":").concat(eu(e.fields[a]));return n+"}"}(e.mapValue):Uo(61005,{value:e})}function tu(e){switch(Qc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lc(e);return t?16+tu(t):16;case 5:return 2*e.stringValue.length;case 6:return Oc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+tu(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return yc(e.fields,(e,n)=>{t+=e.length+tu(n)}),t}(e.mapValue);default:throw Uo(13486,{value:e})}}function nu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ru(e){return!!e&&"integerValue"in e}function au(e){return!!e&&"arrayValue"in e}function su(e){return!!e&&"nullValue"in e}function iu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ou(e){return!!e&&"mapValue"in e}function lu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Bc])||void 0===t?void 0:t.stringValue)===Wc}function cu(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=cu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cu(e.arrayValue.values[n]);return t}return c({},e)}function uu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Vc}class du{constructor(e){this.value=e}static empty(){return new du({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=fl.emptyPath(),n={},r=[];e.forEach((e,a)=>{if(!t.isImmediateParentOf(a)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=a.popLast()}e?n[a.lastSegment()]=cu(e):r.push(a.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,r)}delete(e){const t=this.field(e.popLast());ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new du(cu(this.value))}}function hu(e){const t=[];return yc(e.fields,(e,n)=>{const r=new fl([e]);if(ou(n)){const e=hu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new kc(t)}class fu{constructor(e,t,n,r,a,s,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=a,this.data=s,this.documentState=i}static newInvalidDocument(e){return new fu(e,0,jl.min(),jl.min(),jl.min(),du.empty(),0)}static newFoundDocument(e,t,n,r){return new fu(e,1,t,jl.min(),n,r,0)}static newNoDocument(e,t){return new fu(e,2,t,jl.min(),jl.min(),du.empty(),0)}static newUnknownDocument(e,t){return new fu(e,3,t,jl.min(),jl.min(),du.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=du.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=du.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class mu{constructor(e,t){this.position=e,this.inclusive=t}}function pu(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const s=t[a],i=e.position[a];if(r=s.field.isKeyField()?ml.comparator(ml.fromName(i.referenceValue),n.key):Xc(i,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Kc(e.position[n],t.position[n]))return!1;return!0}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xu{}class bu extends xu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _u(e,t,n):"array-contains"===t?new Iu(e,n):"in"===t?new Pu(e,n):"not-in"===t?new Du(e,n):"array-contains-any"===t?new Ru(e,n):new bu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Cu(e,n):new Au(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Xc(t,this.value)):null!==t&&Qc(this.value)===Qc(t)&&this.matchesComparison(Xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uo(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wu extends xu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wu(e,t)}matches(e){return Nu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nu(e){return"and"===e.op}function Su(e){return Eu(e)&&Nu(e)}function Eu(e){for(const t of e.filters)if(t instanceof wu)return!1;return!0}function ku(e){if(e instanceof bu)return e.field.canonicalString()+e.op.toString()+Zc(e.value);if(Su(e))return e.filters.map(e=>ku(e)).join(",");{const t=e.filters.map(e=>ku(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function ju(e,t){return e instanceof bu?function(e,t){return t instanceof bu&&e.op===t.op&&e.field.isEqual(t.field)&&Kc(e.value,t.value)}(e,t):e instanceof wu?function(e,t){return t instanceof wu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&ju(n,t.filters[r]),!0)}(e,t):void Uo(19439)}function Tu(e){return e instanceof bu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zc(e.value))}(e):e instanceof wu?function(e){return e.op.toString()+" {"+e.getFilters().map(Tu).join(" ,")+"}"}(e):"Filter"}class _u extends bu{constructor(e,t,n){super(e,t,n),this.key=ml.fromName(n.referenceValue)}matches(e){const t=ml.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cu extends bu{constructor(e,t){super(e,"in",t),this.keys=Ou("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Au extends bu{constructor(e,t){super(e,"not-in",t),this.keys=Ou("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ou(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ml.fromName(e.referenceValue))}class Iu extends bu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return au(t)&&Yc(t.arrayValue,this.value)}}class Pu extends bu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Yc(this.value.arrayValue,t)}}class Du extends bu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Yc(this.value.arrayValue,t)}}class Ru extends bu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!au(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Yc(this.value.arrayValue,e))}}class Mu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=a,this.startAt=s,this.endAt=i,this.Te=null}}function Lu(e){return new Mu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function zu(e){const t=Vo(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ku(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ql(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Zc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Zc(e)).join(",")),t.Te=e}return t.Te}function Fu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ju(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gu(e.startAt,t.startAt)&&gu(e.endAt,t.endAt)}function Uu(e){return ml.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class qu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=a,this.limitType=s,this.startAt=i,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bu(e,t,n,r,a,s,i,o){return new qu(e,t,n,r,a,s,i,o)}function Vu(e){return new qu(e)}function Hu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wu(e){return null!==e.collectionGroup}function Gu(e){const t=Vo(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Sc(fl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new vu(r,n))}),e.has(fl.keyField().canonicalString())||t.Ie.push(new vu(fl.keyField(),n))}return t.Ie}function Qu(e){const t=Vo(e);return t.Ee||(t.Ee=Ku(t,Gu(e))),t.Ee}function Ku(e,t){if("F"===e.limitType)return Lu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new vu(e.field,t)});const n=e.endAt?new mu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new mu(e.startAt.position,e.startAt.inclusive):null;return Lu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Yu(e,t){const n=e.filters.concat([t]);return new qu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xu(e,t,n){return new qu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $u(e,t){return Fu(Qu(e),Qu(t))&&e.limitType===t.limitType}function Ju(e){return"".concat(zu(Qu(e)),"|lt:").concat(e.limitType)}function Zu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Tu(e)).join(", "),"]")),ql(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Zc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Zc(e)).join(",")),"Target(".concat(t,")")}(Qu(e)),"; limitType=").concat(e.limitType,")")}function ed(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ml.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Gu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=pu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gu(e),t))&&!(e.endAt&&!function(e,t,n){const r=pu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gu(e),t))}(e,t)}function td(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function nd(e){return(t,n)=>{let r=!1;for(const a of Gu(e)){const e=rd(a,t,n);if(0!==e)return e;r=r||a.field.isKeyField()}return 0}}function rd(e,t,n){const r=e.field.isKeyField()?ml.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Xc(r,a):Uo(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uo(19790,{direction:e.dir})}}class ad{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,a]of n)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yc(this.inner,(t,n)=>{for(const[r,a]of n)e(r,a)})}isEmpty(){return xc(this.inner)}size(){return this.innerSize}}const sd=new bc(ml.comparator);function id(){return sd}const od=new bc(ml.comparator);function ld(){let e=od;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.insert(a.key,a);return e}function cd(e){let t=od;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ud(){return hd()}function dd(){return hd()}function hd(){return new ad(e=>e.toString(),(e,t)=>e.isEqual(t))}const fd=new bc(ml.comparator),md=new Sc(ml.comparator);function pd(){let e=md;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)e=e.add(a);return e}const gd=new Sc(rl);function vd(){return gd}function yd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(t)?"-0":t}}function xd(e){return{integerValue:""+e}}function bd(e,t){return Vl(t)?xd(t):yd(e,t)}class wd{constructor(){this._=void 0}}function Nd(e,t,n){return e instanceof kd?function(e,t){const n={fields:{[Pc]:{stringValue:Ic},[Rc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Mc(t)&&(t=Lc(t)),t&&(n.fields[Dc]=t),{mapValue:n}}(n,t):e instanceof jd?Td(e,t):e instanceof _d?Cd(e,t):function(e,t){const n=Ed(e,t),r=Od(n)+Od(e.Ae);return ru(n)&&ru(e.Ae)?xd(r):yd(e.serializer,r)}(e,t)}function Sd(e,t,n){return e instanceof jd?Td(e,t):e instanceof _d?Cd(e,t):n}function Ed(e,t){return e instanceof Ad?function(e){return ru(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class kd extends wd{}class jd extends wd{constructor(e){super(),this.elements=e}}function Td(e,t){const n=Id(t);for(const r of e.elements)n.some(e=>Kc(e,r))||n.push(r);return{arrayValue:{values:n}}}class _d extends wd{constructor(e){super(),this.elements=e}}function Cd(e,t){let n=Id(t);for(const r of e.elements)n=n.filter(e=>!Kc(e,r));return{arrayValue:{values:n}}}class Ad extends wd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Od(e){return Ac(e.integerValue||e.doubleValue)}function Id(e){return au(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Pd{constructor(e,t){this.field=e,this.transform=t}}class Dd{constructor(e,t){this.version=e,this.transformResults=t}}class Rd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rd}static exists(e){return new Rd(void 0,e)}static updateTime(e){return new Rd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ld{}function zd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Kd(e.key,Rd.none()):new Vd(e.key,e.data,Rd.none());{const n=e.data,r=du.empty();let a=new Sc(fl.comparator);for(let e of t.fields)if(!a.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),a=a.add(e)}return new Hd(e.key,r,new kc(a.toArray()),Rd.none())}}function Fd(e,t,n){e instanceof Vd?function(e,t,n){const r=e.value.clone(),a=Gd(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Hd?function(e,t,n){if(!Md(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Gd(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Wd(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ud(e,t,n,r){return e instanceof Vd?function(e,t,n,r){if(!Md(e.precondition,t))return n;const a=e.value.clone(),s=Qd(e.fieldTransforms,r,t);return a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof Hd?function(e,t,n,r){if(!Md(e.precondition,t))return n;const a=Qd(e.fieldTransforms,r,t),s=t.data;return s.setAll(Wd(e)),s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Md(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),a=Ed(r.transform,e||null);null!=a&&(null===n&&(n=du.empty()),n.set(r.field,a))}return n||null}function Bd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ll(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof jd&&t instanceof jd||e instanceof _d&&t instanceof _d?ll(e.elements,t.elements,Kc):e instanceof Ad&&t instanceof Ad?Kc(e.Ae,t.Ae):e instanceof kd&&t instanceof kd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vd extends Ld{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hd extends Ld{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Wd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Gd(e,t,n){const r=new Map;Bo(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const s=e[a],i=s.transform,o=t.data.field(s.field);r.set(s.field,Sd(i,o,n[a]))}return r}function Qd(e,t,n){const r=new Map;for(const a of e){const e=a.transform,s=n.data.field(a.field);r.set(a.field,Nd(e,s,t))}return r}class Kd extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yd extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ud(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ud(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dd();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let i=this.applyToLocalView(s,a.mutatedFields);i=t.has(r.key)?null:i;const o=zd(s,i);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(jl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pd())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(e,t)=>Bd(e,t))&&ll(this.baseMutations,e.baseMutations,(e,t)=>Bd(e,t))}}class $d{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Bo(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=fd;const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,n[s].version);return new $d(e,t,n,r)}}class Jd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Zd{constructor(e,t){this.count=e,this.unchangedNames=t}}var eh,th;function nh(e){switch(e){case Ho.OK:return Uo(64938);case Ho.CANCELLED:case Ho.UNKNOWN:case Ho.DEADLINE_EXCEEDED:case Ho.RESOURCE_EXHAUSTED:case Ho.INTERNAL:case Ho.UNAVAILABLE:case Ho.UNAUTHENTICATED:return!1;case Ho.INVALID_ARGUMENT:case Ho.NOT_FOUND:case Ho.ALREADY_EXISTS:case Ho.PERMISSION_DENIED:case Ho.FAILED_PRECONDITION:case Ho.ABORTED:case Ho.OUT_OF_RANGE:case Ho.UNIMPLEMENTED:case Ho.DATA_LOSS:return!0;default:return Uo(15467,{code:e})}}function rh(e){if(void 0===e)return Lo("GRPC error has no .code"),Ho.UNKNOWN;switch(e){case eh.OK:return Ho.OK;case eh.CANCELLED:return Ho.CANCELLED;case eh.UNKNOWN:return Ho.UNKNOWN;case eh.DEADLINE_EXCEEDED:return Ho.DEADLINE_EXCEEDED;case eh.RESOURCE_EXHAUSTED:return Ho.RESOURCE_EXHAUSTED;case eh.INTERNAL:return Ho.INTERNAL;case eh.UNAVAILABLE:return Ho.UNAVAILABLE;case eh.UNAUTHENTICATED:return Ho.UNAUTHENTICATED;case eh.INVALID_ARGUMENT:return Ho.INVALID_ARGUMENT;case eh.NOT_FOUND:return Ho.NOT_FOUND;case eh.ALREADY_EXISTS:return Ho.ALREADY_EXISTS;case eh.PERMISSION_DENIED:return Ho.PERMISSION_DENIED;case eh.FAILED_PRECONDITION:return Ho.FAILED_PRECONDITION;case eh.ABORTED:return Ho.ABORTED;case eh.OUT_OF_RANGE:return Ho.OUT_OF_RANGE;case eh.UNIMPLEMENTED:return Ho.UNIMPLEMENTED;case eh.DATA_LOSS:return Ho.DATA_LOSS;default:return Uo(39323,{code:e})}}(th=eh||(eh={}))[th.OK=0]="OK",th[th.CANCELLED=1]="CANCELLED",th[th.UNKNOWN=2]="UNKNOWN",th[th.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",th[th.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",th[th.NOT_FOUND=5]="NOT_FOUND",th[th.ALREADY_EXISTS=6]="ALREADY_EXISTS",th[th.PERMISSION_DENIED=7]="PERMISSION_DENIED",th[th.UNAUTHENTICATED=16]="UNAUTHENTICATED",th[th.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",th[th.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",th[th.ABORTED=10]="ABORTED",th[th.OUT_OF_RANGE=11]="OUT_OF_RANGE",th[th.UNIMPLEMENTED=12]="UNIMPLEMENTED",th[th.INTERNAL=13]="INTERNAL",th[th.UNAVAILABLE=14]="UNAVAILABLE",th[th.DATA_LOSS=15]="DATA_LOSS";let ah=null;function sh(){return new TextEncoder}const ih=new go([4294967295,4294967295],0);function oh(e){const t=sh().encode(e),n=new vo;return n.update(t),new Uint8Array(n.digest())}function lh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new go([n,r],0),new go([a,s],0)]}class ch{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uh("Invalid padding: ".concat(t));if(n<0)throw new uh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new uh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new uh("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=go.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(go.fromNumber(n)));return 1===r.compare(ih)&&(r=new go([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=oh(e),[n,r]=lh(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new ch(a,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=oh(e),[n,r]=lh(t);for(let a=0;a<this.hashCount;a++){const e=this.ye(n,r,a);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(e,t,n,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,hh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new dh(jl.min(),r,new bc(rl),id(),pd())}}class hh{constructor(e,t,n,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hh(n,t,pd(),pd(),pd())}}class fh{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class mh{constructor(e,t){this.targetId=e,this.Ce=t}}class ph{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gh{constructor(){this.ve=0,this.Fe=xh(),this.Me=Tc.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pd(),t=pd(),n=pd();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uo(38017,{changeType:a})}}),new hh(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=xh()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bo(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vh{constructor(e){this.Ge=e,this.ze=new Map,this.je=id(),this.Je=yh(),this.He=yh(),this.Ye=new bc(rl)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Uo(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Uu(s))if(0===n){const e=new ml(s.path);this.et(t,e,fu.newNoDocument(e,jl.min()))}else Bo(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var a;const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(a=ah)||void 0===a||a.lt(function(e,t,n,r,a,s,i,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===a,hashCount:null!==(s=null===d||void 0===d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(i=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==i?i:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,s))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:a=0}=t;let s,i;try{s=Oc(n).toUint8Array()}catch(e){if(e instanceof jc)return zo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new ch(s,r,a)}catch(e){return zo(e instanceof uh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.ge?null:i}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const a=this.Ge.ht(),s="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const a=this.ot(r);if(a){if(n.current&&Uu(a.target)){const t=new ml(a.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,fu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=pd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new dh(e,t,this.Ye,this.je,n);return this.je=id(),this.Je=yh(),this.He=yh(),this.Ye=new bc(rl),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gh,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Sc(rl),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Sc(rl),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Mo("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yh(){return new bc(ml.comparator)}function xh(){return new bc(ml.comparator)}const bh={asc:"ASCENDING",desc:"DESCENDING"},wh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nh={and:"AND",or:"OR"};class Sh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eh(e,t){return e.useProto3Json||ql(t)?t:{value:t}}function kh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Th(e,t){return kh(e,t.toTimestamp())}function _h(e){return Bo(!!e,49232),jl.fromTimestamp(function(e){const t=Cc(e);return new kl(t.seconds,t.nanos)}(e))}function Ch(e,t){return Ah(e,t).canonicalString()}function Ah(e,t){const n=function(e){return new dl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Oh(e){const t=dl.fromString(e);return Bo($h(t),10190,{key:t.toString()}),t}function Ih(e,t){return Ch(e.databaseId,t.path)}function Ph(e,t){const n=Oh(t);if(n.get(1)!==e.databaseId.projectId)throw new Wo(Ho.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wo(Ho.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ml(Lh(n))}function Dh(e,t){return Ch(e.databaseId,t)}function Rh(e){const t=Oh(e);return 4===t.length?dl.emptyPath():Lh(t)}function Mh(e){return new dl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lh(e){return Bo(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function zh(e,t,n){return{name:Ih(e,t),fields:n.value.mapValue.fields}}function Fh(e,t){let n;if(t instanceof Vd)n={update:zh(e,t.key,t.value)};else if(t instanceof Kd)n={delete:Ih(e,t.key)};else if(t instanceof Hd)n={update:zh(e,t.key,t.data),updateMask:Xh(t.fieldMask)};else{if(!(t instanceof Yd))return Uo(16599,{Vt:t.type});n={verify:Ih(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof kd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof jd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _d)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ad)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Uo(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Th(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Uo(27497)}(e,t.precondition)),n}function Uh(e,t){return{documents:[Dh(e,t.path)]}}function qh(e,t){const n={structuredQuery:{}},r=t.path;let a;null!==t.collectionGroup?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dh(e,a);const s=function(e){if(0!==e.length)return Yh(wu.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Qh(e.field),direction:Hh(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Eh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:a}}function Bh(e){let t=Rh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Bo(1===r,65062);const e=n.from[0];e.allDescendants?a=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Vh(e);return t instanceof wu&&Su(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new vu(Kh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,ql(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new mu(n,t)}(n.endAt)),Bu(t,a,i,s,o,"F",l,c)}function Vh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kh(e.unaryFilter.field);return bu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kh(e.unaryFilter.field);return bu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kh(e.unaryFilter.field);return bu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Kh(e.unaryFilter.field);return bu.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Uo(61313);default:return Uo(60726)}}(e):void 0!==e.fieldFilter?function(e){return bu.create(Kh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Uo(58110);default:return Uo(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wu.create(e.compositeFilter.filters.map(e=>Vh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Uo(1026)}}(e.compositeFilter.op))}(e):Uo(30097,{filter:e})}function Hh(e){return bh[e]}function Wh(e){return wh[e]}function Gh(e){return Nh[e]}function Qh(e){return{fieldPath:e.canonicalString()}}function Kh(e){return fl.fromServerFormat(e.fieldPath)}function Yh(e){return e instanceof bu?function(e){if("=="===e.op){if(iu(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NAN"}};if(su(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iu(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NOT_NAN"}};if(su(e.value))return{unaryFilter:{field:Qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qh(e.field),op:Wh(e.op),value:e.value}}}(e):e instanceof wu?function(e){const t=e.getFilters().map(e=>Yh(e));return 1===t.length?t[0]:{compositeFilter:{op:Gh(e.op),filters:t}}}(e):Uo(54877,{filter:e})}function Xh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $h(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Jh{constructor(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jl.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jl.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=i,this.expectedCount=o}withSequenceNumber(e){return new Jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zh{constructor(e){this.yt=e}}function ef(e){const t=Bh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xu(t,t.limit,"L"):t}class tf{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ac(e.integerValue));else if("doubleValue"in e){const n=Ac(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Bl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Cc(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Oc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?uu(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):lu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Uo(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const a=Gc,s=(null===(n=r[a].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Ac(s)),this.Ot(a,t),this.Ct(r[a],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ml.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}tf.Kt=new tf;class nf{constructor(){this.Cn=new rf}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ml.resolve()}getCollectionParents(e,t){return Ml.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ml.resolve()}deleteFieldIndex(e,t){return Ml.resolve()}deleteAllFieldIndexes(e){return Ml.resolve()}createTargetIndexes(e,t){return Ml.resolve()}getDocumentsMatchingTarget(e,t){return Ml.resolve(null)}getIndexType(e,t){return Ml.resolve(0)}getFieldIndexes(e,t){return Ml.resolve([])}getNextCollectionGroupToUpdate(e){return Ml.resolve(null)}getMinOffset(e,t){return Ml.resolve(Ol.min())}getMinOffsetFromCollectionGroup(e,t){return Ml.resolve(Ol.min())}updateCollectionGroup(e,t,n){return Ml.resolve()}updateIndexEntries(e,t){return Ml.resolve()}}class rf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sc(dl.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Sc(dl.comparator)).toArray()}}new Uint8Array(0);const af={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sf=41943040;class of{static withCacheSize(e){return new of(e,of.DEFAULT_COLLECTION_PERCENTILE,of.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}of.DEFAULT_COLLECTION_PERCENTILE=10,of.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,of.DEFAULT=new of(sf,of.DEFAULT_COLLECTION_PERCENTILE,of.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),of.DISABLED=new of(-1,0,0);class lf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lf(0)}static cr(){return new lf(-1)}}const cf="LruGarbageCollector",uf=1048576;function df(e,t){let[n,r]=e,[a,s]=t;const i=rl(n,a);return 0===i?rl(r,s):i}class hf{constructor(e){this.Ir=e,this.buffer=new Sc(df),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();df(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ff{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Mo(cf,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zl(e)?Mo(cf,"Ignoring IndexedDB error during garbage collection: ",e):await Rl(e)}await this.Vr(3e5)})}}class mf{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ml.resolve(Fl.ce);const n=new hf(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mo("LruGarbageCollector","Garbage collection skipped; disabled"),Ml.resolve(af)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Mo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),af):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,a,s,i,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Mo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,i=Date.now(),this.removeTargets(e,n,t))).next(t=>(a=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ro()<=fn.DEBUG&&Mo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(i-s)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(o-i)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ml.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})))}}function pf(e,t){return new mf(e,t)}class gf{constructor(){this.changes=new ad(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ml.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ud(n.mutation,e,kc.empty(),kl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,pd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pd();const r=ud();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ld();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ud();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,pd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let a=id();const s=hd(),i=hd();return t.forEach((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof Hd)?a=a.insert(t.key,t):void 0!==i?(s.set(t.key,i.mutation.getFieldMask()),Ud(i.mutation,t,i.mutation.getFieldMask(),kl.now())):s.set(t.key,kc.empty())}),this.recalculateAndSaveOverlays(e,a).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new vf(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=hd();let r=new bc((e,t)=>e-t),a=pd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const a of e)a.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let i=n.get(e)||kc.empty();i=a.applyToLocalView(s,i),n.set(e,i);const o=(r.get(a.batchId)||pd()).add(e);r=r.insert(a.batchId,o)})}).next(()=>{const s=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),o=r.key,l=r.value,c=dd();l.forEach(e=>{if(!a.has(e)){const r=zd(t.get(e),n.get(e));null!==r&&c.set(e,r),a=a.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ml.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ml.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ml.resolve(ud());let i=Tl,o=a;return s.next(t=>Ml.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),a.get(t)?Ml.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,a)).next(()=>this.computeViews(e,o,t,pd())).next(e=>({batchId:i,changes:cd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ml(t)).next(e=>{let t=ld();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const a=t.collectionGroup;let s=ld();return this.indexManager.getCollectionParents(e,a).next(i=>Ml.forEach(i,i=>{const o=function(e,t){return new qu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(a));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,r))).next(e=>{a.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fu.newInvalidDocument(r)))});let n=ld();return e.forEach((e,r)=>{const s=a.get(e);void 0!==s&&Ud(s.mutation,r,kc.empty(),kl.now()),ed(t,r)&&(n=n.insert(e,r))}),n})}}class xf{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ml.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_h(e.createTime)}}(t)),Ml.resolve()}getNamedQuery(e,t){return Ml.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:ef(e.bundledQuery),readTime:_h(e.readTime)}}(t)),Ml.resolve()}}class bf{constructor(){this.overlays=new bc(ml.comparator),this.qr=new Map}getOverlay(e,t){return Ml.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ud();return Ml.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ml.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ml.resolve()}getOverlaysForCollection(e,t,n){const r=ud(),a=t.length+1,s=new ml(t.child("")),i=this.overlays.getIteratorFrom(s);for(;i.hasNext();){const e=i.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===a&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ml.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let a=new bc((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=a.get(e.largestBatchId);null===t&&(t=ud(),a=a.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=ud(),o=a.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>i.set(e,t)),!(i.size()>=r)););return Ml.resolve(i)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Jd(t,n));let a=this.qr.get(t);void 0===a&&(a=pd(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}class wf{constructor(){this.sessionToken=Tc.EMPTY_BYTE_STRING}getSessionToken(e){return Ml.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ml.resolve()}}class Nf{constructor(){this.Qr=new Sc(Sf.$r),this.Ur=new Sc(Sf.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Sf(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Sf(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ml(new dl([])),n=new Sf(t,e),r=new Sf(t,e+1),a=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),a.push(e.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ml(new dl([])),n=new Sf(t,e),r=new Sf(t,e+1);let a=pd();return this.Ur.forEachInRange([n,r],e=>{a=a.add(e.key)}),a}containsKey(e){const t=new Sf(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sf{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ml.comparator(e.key,t.key)||rl(e.Yr,t.Yr)}static Kr(e,t){return rl(e.Yr,t.Yr)||ml.comparator(e.key,t.key)}}class Ef{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Sc(Sf.$r)}checkEmpty(e){return Ml.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xd(a,t,n,r);this.mutationQueue.push(s);for(const i of r)this.Zr=this.Zr.add(new Sf(i.key,a)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return Ml.resolve(s)}lookupMutationBatch(e,t){return Ml.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),a=r<0?0:r;return Ml.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ml.resolve(0===this.mutationQueue.length?Ul:this.tr-1)}getAllMutationBatches(e){return Ml.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sf(t,0),r=new Sf(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);a.push(t)}),Ml.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sc(rl);return t.forEach(e=>{const t=new Sf(e,0),r=new Sf(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ml.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let a=n;ml.isDocumentKey(a)||(a=a.child(""));const s=new Sf(new ml(a),0);let i=new Sc(rl);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Yr)),!0)},s),Ml.resolve(this.ti(i))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Bo(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ml.forEach(t.mutations,r=>{const a=new Sf(r.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Sf(t,0),r=this.Zr.firstAfterOrEqual(n);return Ml.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ml.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kf{constructor(e){this.ri=e,this.docs=new bc(ml.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),a=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ml.resolve(n?n.document.mutableCopy():fu.newInvalidDocument(t))}getEntries(e,t){let n=id();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fu.newInvalidDocument(e))}),Ml.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let a=id();const s=t.path,i=new ml(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Il(Al(i),n)<=0||(r.has(i.key)||ed(t,i))&&(a=a.insert(i.key,i.mutableCopy()))}return Ml.resolve(a)}getAllFromCollectionGroup(e,t,n,r){Uo(9500)}ii(e,t){return Ml.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new jf(this)}getSize(e){return Ml.resolve(this.size)}}class jf extends gf{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ml.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Tf{constructor(e){this.persistence=e,this.si=new ad(e=>zu(e),Fu),this.lastRemoteSnapshotVersion=jl.min(),this.highestTargetId=0,this.oi=0,this._i=new Nf,this.targetCount=0,this.ai=lf.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ml.resolve()}getLastRemoteSnapshotVersion(e){return Ml.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ml.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ml.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ml.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new lf(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ml.resolve()}updateTargetData(e,t){return this.Pr(t),Ml.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ml.resolve()}removeTargets(e,t,n){let r=0;const a=[];return this.si.forEach((s,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)}),Ml.waitFor(a).next(()=>r)}getTargetCount(e){return Ml.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ml.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ml.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(t=>{a.push(r.markPotentiallyOrphaned(e,t))}),Ml.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ml.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ml.resolve(n)}containsKey(e,t){return Ml.resolve(this._i.containsKey(t))}}class _f{constructor(e,t){this.ui={},this.overlays={},this.ci=new Fl(0),this.li=!1,this.li=!0,this.hi=new wf,this.referenceDelegate=e(this),this.Pi=new Tf(this),this.indexManager=new nf,this.remoteDocumentCache=function(e){return new kf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Zh(t),this.Ii=new xf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Ef(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Mo("MemoryPersistence","Starting transaction:",e);const r=new Cf(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ml.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Cf extends Dl{constructor(e){super(),this.currentSequenceNumber=e}}class Af{constructor(e){this.persistence=e,this.Ri=new Nf,this.Vi=null}static mi(e){return new Af(e)}get fi(){if(this.Vi)return this.Vi;throw Uo(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ml.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ml.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ml.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ml.forEach(this.fi,n=>{const r=ml.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,jl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ml.or([()=>Ml.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Of{constructor(e,t){this.persistence=e,this.pi=new ad(e=>Wl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=pf(this,t)}static mi(e,t){return new Of(e,t)}Ei(){}di(e){return Ml.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ml.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ml.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,a.removeEntry(r,jl.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ml.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ml.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ml.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ml.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=tu(e.data.value)),t}br(e,t,n){return Ml.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ml.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class If{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=pd(),r=pd();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new If(e,t.fromCache,n,r)}}class Pf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Df{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Kt()?8:Ll(Gt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const a={result:null};return this.ys(e,t).next(e=>{a.result=e}).next(()=>{if(!a.result)return this.ws(e,t,r,n).next(e=>{a.result=e})}).next(()=>{if(a.result)return;const n=new Pf;return this.Ss(e,t,n).next(r=>{if(a.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>a.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ro()<=fn.DEBUG&&Mo("QueryEngine","SDK will not create cache indexes for query:",Zu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ml.resolve()):(Ro()<=fn.DEBUG&&Mo("QueryEngine","Query:",Zu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ro()<=fn.DEBUG&&Mo("QueryEngine","The SDK decides to create cache indexes for query:",Zu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qu(t))):Ml.resolve())}ys(e,t){if(Hu(t))return Ml.resolve(null);let n=Qu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Xu(t,null,"F"),n=Qu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=pd(...r);return this.ps.getDocuments(e,a).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,a,n.readTime)?this.ys(e,Xu(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Hu(t)||r.isEqual(jl.min())?Ml.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(t,a);return this.Cs(t,s,n,r)?Ml.resolve(null):(Ro()<=fn.DEBUG&&Mo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zu(t)),this.vs(e,s,t,Cl(r,Tl)).next(e=>e))})}Ds(e,t){let n=new Sc(nd(e));return t.forEach((t,r)=>{ed(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,n){return Ro()<=fn.DEBUG&&Mo("QueryEngine","Using full collection scan to execute query:",Zu(t)),this.ps.getDocumentsMatchingQuery(e,t,Ol.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Rf="LocalStore";class Mf{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new bc(rl),this.xs=new ad(e=>zu(e),Fu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yf(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Lf(e,t,n,r){return new Mf(e,t,n,r)}async function zf(e,t){const n=Vo(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(a=>(r=a,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const a=[],s=[];let i=pd();for(const e of r){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({Ls:e,removedBatchIds:a,addedBatchIds:s}))})})}function Ff(e){const t=Vo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Uf(e,t,n){let r=pd(),a=pd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=id();return n.forEach((n,s)=>{const i=e.get(n);s.isFoundDocument()!==i.isFoundDocument()&&(a=a.add(n)),s.isNoDocument()&&s.version.isEqual(jl.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!i.isValidDocument()||s.version.compareTo(i.version)>0||0===s.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Mo(Rf,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",s.version)}),{ks:r,qs:a}})}function qf(e,t){const n=Vo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ul),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Bf(e,t){const n=Vo(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(a=>a?(r=a,Ml.resolve(r)):n.Pi.allocateTargetId(e).next(a=>(r=new Jh(t,a,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Vf(e,t,n){const r=Vo(e),a=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,a))}catch(e){if(!zl(e))throw e;Mo(Rf,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Hf(e,t,n){const r=Vo(e);let a=jl.min(),s=pd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Vo(e),a=r.xs.get(n);return void 0!==a?Ml.resolve(r.Ms.get(a)):r.Pi.getTargetData(t,n)}(r,e,Qu(t)).next(t=>{if(t)return a=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?a:jl.min(),n?s:pd())).next(e=>(Wf(r,td(t),e),{documents:e,Qs:s})))}function Wf(e,t,n){let r=e.Os.get(t)||jl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Gf{constructor(){this.activeTargetIds=vd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qf{constructor(){this.Mo=new Gf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kf{Oo(e){}shutdown(){}}const Yf="ConnectivityMonitor";class Xf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Mo(Yf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Mo(Yf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $f=null;function Jf(){return null===$f?$f=268435456+Math.round(2147483648*Math.random()):$f++,"0x"+$f.toString(16)}const Zf="RestConnection",em={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tm{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Uc?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,a){const s=Jf(),i=this.zo(e,t.toUriEncodedString());Mo(Zf,"Sending RPC '".concat(e,"' ").concat(s,":"),i,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,a);const{host:l}=new URL(i),c=qt(l);return this.Jo(e,i,o,n,c).then(t=>(Mo(Zf,"Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw zo(Zf,"RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",i,"request:",n),t})}Ho(e,t,n,r,a,s){return this.Go(e,t,n,r,a)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Po,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=em[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class nm{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rm="WebChannelConnection";class am extends tm{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,a){const s=Jf();return new Promise((a,i)=>{const o=new bo;o.setWithCredentials(!0),o.listenOnce(No.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case So.NO_ERROR:const n=o.getResponseJson();Mo(rm,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(n)),a(n);break;case So.TIMEOUT:Mo(rm,"RPC '".concat(e,"' ").concat(s," timed out")),i(new Wo(Ho.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:const r=o.getStatus();if(Mo(rm,"RPC '".concat(e,"' ").concat(s," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ho).indexOf(t)>=0?t:Ho.UNKNOWN}(n.status);i(new Wo(e,n.message))}else i(new Wo(Ho.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new Wo(Ho.UNAVAILABLE,"Connection failed."));break;default:Uo(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Mo(rm,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Mo(rm,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Jf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=To(),i=jo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=a.join("");Mo(rm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new nm({Yo:t=>{h?Mo(rm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Mo(rm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Mo(rm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,wo.EventType.OPEN,()=>{h||(Mo(rm,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),m(u,wo.EventType.CLOSE,()=>{h||(h=!0,Mo(rm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),m(u,wo.EventType.ERROR,t=>{h||(h=!0,zo(rm,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new Wo(Ho.UNAVAILABLE,"The operation could not be completed")))}),m(u,wo.EventType.MESSAGE,t=>{if(!h){var n;const a=t.data[0];Bo(!!a,16349);const s=a,i=(null===s||void 0===s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(i){Mo(rm,"RPC '".concat(e,"' stream ").concat(r," received error:"),i);const t=i.status;let n=function(e){const t=eh[e];if(void 0!==t)return rh(t)}(t),a=i.message;void 0===n&&(n=Ho.INTERNAL,a="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new Wo(n,a)),u.close()}else Mo(rm,"RPC '".concat(e,"' stream ").concat(r," received:"),a),f.u_(a)}}),m(i,ko.STAT_EVENT,t=>{t.stat===Eo.PROXY?Mo(rm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Eo.NOPROXY&&Mo(rm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function sm(){return"undefined"!=typeof document?document:null}function im(e){return new Sh(e,!0)}class om{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Mo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lm="PersistentStream";class cm{constructor(e,t,n,r,a,s,i,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=i,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new om(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Ho.RESOURCE_EXHAUSTED?(Lo(t.toString()),Lo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ho.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Wo(Ho.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Mo(lm,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Mo(lm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class um extends cm{constructor(e,t,n,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Uo(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Bo(void 0===t||"string"==typeof t,58123),Tc.fromBase64String(t||"")):(Bo(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Tc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(e){const t=void 0===e.code?Ho.UNKNOWN:rh(e.code);return new Wo(t,e.message||"")}(i);n=new ph(r,a,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ph(e,r.document.name),s=_h(r.document.updateTime),i=r.document.createTime?_h(r.document.createTime):jl.min(),o=new du({mapValue:{fields:r.document.fields}}),l=fu.newFoundDocument(a,s,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Ph(e,r.document),s=r.readTime?_h(r.readTime):jl.min(),i=fu.newNoDocument(a,s),o=r.removedTargetIds||[];n=new fh([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Ph(e,r.document),s=r.removedTargetIds||[];n=new fh([],s,a,null)}else{if(!("filter"in t))return Uo(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:a}=e,s=new Zd(r,a),i=e.targetId;n=new mh(i,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return jl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?jl.min():t.readTime?_h(t.readTime):jl.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Mh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Uu(r)?{documents:Uh(e,r)}:{query:qh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jh(e,t.resumeToken);const r=Eh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(jl.min())>0){n.readTime=kh(e,t.snapshotVersion.toTimestamp());const r=Eh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Uo(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Mh(this.serializer),t.removeTarget=e,this.q_(t)}}class dm extends cm{constructor(e,t,n,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Bo(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bo(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Bo(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Bo(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?_h(e.updateTime):_h(t);return n.isEqual(jl.min())&&(n=_h(t)),new Dd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_h(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Mh(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Fh(this.serializer,e))};this.q_(t)}}class hm{}class fm extends hm{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Wo(Ho.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,i]=a;return this.connection.Go(e,Ah(t,n),r,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ho.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wo(Ho.UNKNOWN,e.toString())})}Ho(e,t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,o]=s;return this.connection.Ho(e,Ah(t,n),r,i,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ho.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wo(Ho.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Lo(t),this.aa=!1):Mo("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const pm="RemoteStore";class gm{constructor(e,t,n,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{km(this)&&(Mo(pm,"Restarting streams for network reachability change."),await async function(e){const t=Vo(e);t.Ea.add(4),await ym(t),t.Ra.set("Unknown"),t.Ea.delete(4),await vm(t)}(this))})}),this.Ra=new mm(n,r)}}async function vm(e){if(km(e))for(const t of e.da)await t(!0)}async function ym(e){for(const t of e.da)await t(!1)}function xm(e,t){const n=Vo(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Em(n)?Sm(n):Hm(n).O_()&&wm(n,t))}function bm(e,t){const n=Vo(e),r=Hm(n);n.Ia.delete(t),r.O_()&&Nm(n,t),0===n.Ia.size&&(r.O_()?r.L_():km(n)&&n.Ra.set("Unknown"))}function wm(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hm(e).Y_(t)}function Nm(e,t){e.Va.Ue(t),Hm(e).Z_(t)}function Sm(e){e.Va=new vh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Hm(e).start(),e.Ra.ua()}function Em(e){return km(e)&&!Hm(e).x_()&&e.Ia.size>0}function km(e){return 0===Vo(e).Ea.size}function jm(e){e.Va=void 0}async function Tm(e){e.Ra.set("Online")}async function _m(e){e.Ia.forEach((t,n)=>{wm(e,t)})}async function Cm(e,t){jm(e),Em(e)?(e.Ra.ha(t),Sm(e)):e.Ra.set("Unknown")}async function Am(e,t,n){if(e.Ra.set("Online"),t instanceof ph&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Mo(pm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Om(e,n)}else if(t instanceof fh?e.Va.Ze(t):t instanceof mh?e.Va.st(t):e.Va.tt(t),!n.isEqual(jl.min()))try{const t=await Ff(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const a=e.Ia.get(r);a&&e.Ia.set(r,a.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Tc.EMPTY_BYTE_STRING,r.snapshotVersion)),Nm(e,t);const a=new Jh(r.target,t,n,r.sequenceNumber);wm(e,a)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Mo(pm,"Failed to raise snapshot:",t),await Om(e,t)}}async function Om(e,t,n){if(!zl(t))throw t;e.Ea.add(1),await ym(e),e.Ra.set("Offline"),n||(n=()=>Ff(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Mo(pm,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await vm(e)})}function Im(e,t){return t().catch(n=>Om(e,n,t))}async function Pm(e){const t=Vo(e),n=Wm(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ul;for(;Dm(t);)try{const e=await qf(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Rm(t,e)}catch(e){await Om(t,e)}Mm(t)&&Lm(t)}function Dm(e){return km(e)&&e.Ta.length<10}function Rm(e,t){e.Ta.push(t);const n=Wm(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Mm(e){return km(e)&&!Wm(e).x_()&&e.Ta.length>0}function Lm(e){Wm(e).start()}async function zm(e){Wm(e).ra()}async function Fm(e){const t=Wm(e);for(const n of e.Ta)t.ea(n.mutations)}async function Um(e,t,n){const r=e.Ta.shift(),a=$d.from(r,t,n);await Im(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Pm(e)}async function qm(e,t){t&&Wm(e).X_&&await async function(e,t){if(function(e){return nh(e)&&e!==Ho.ABORTED}(t.code)){const n=e.Ta.shift();Wm(e).B_(),await Im(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Pm(e)}}(e,t),Mm(e)&&Lm(e)}async function Bm(e,t){const n=Vo(e);n.asyncQueue.verifyOperationInProgress(),Mo(pm,"RemoteStore received new credentials");const r=km(n);n.Ea.add(3),await ym(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await vm(n)}async function Vm(e,t){const n=Vo(e);t?(n.Ea.delete(2),await vm(n)):t||(n.Ea.add(2),await ym(n),n.Ra.set("Unknown"))}function Hm(e){return e.ma||(e.ma=function(e,t,n){const r=Vo(e);return r.sa(),new um(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Tm.bind(null,e),t_:_m.bind(null,e),r_:Cm.bind(null,e),H_:Am.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Em(e)?Sm(e):e.Ra.set("Unknown")):(await e.ma.stop(),jm(e))})),e.ma}function Wm(e){return e.fa||(e.fa=function(e,t,n){const r=Vo(e);return r.sa(),new dm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:zm.bind(null,e),r_:qm.bind(null,e),ta:Fm.bind(null,e),na:Um.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Pm(e)):(await e.fa.stop(),e.Ta.length>0&&(Mo(pm,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Gm{constructor(e,t,n,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new Go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,a){const s=Date.now()+n,i=new Gm(e,t,s,r,a);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wo(Ho.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(e,t){if(Lo("AsyncQueue","".concat(t,": ").concat(e)),zl(e))return new Wo(Ho.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Km{static emptySet(e){return new Km(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ml.comparator(t.key,n.key):(e,t)=>ml.comparator(e.key,t.key),this.keyedMap=ld(),this.sortedSet=new bc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Km))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Km;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ym{constructor(){this.ga=new bc(ml.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Uo(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Xm{constructor(e,t,n,r,a,s,i,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=i,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,a){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Xm(e,t,Km.emptySet(t),s,n,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class $m{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Jm{constructor(){this.queries=Zm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Vo(e),r=n.queries;n.queries=Zm(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Wo(Ho.ABORTED,"Firestore shutting down"))}}function Zm(){return new ad(e=>Ju(e),$u)}async function ep(e,t){const n=Vo(e);let r=3;const a=t.query;let s=n.queries.get(a);s?!s.ba()&&t.Da()&&(r=2):(s=new $m,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(e){const n=Qm(e,"Initialization of query '".concat(Zu(t.query),"' failed"));return void t.onError(n)}n.queries.set(a,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&ap(n)}async function tp(e,t){const n=Vo(e),r=t.query;let a=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?a=t.Da()?0:1:!s.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function np(e,t){const n=Vo(e);let r=!1;for(const a of t){const e=a.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(a)&&(r=!0);t.wa=a}}r&&ap(n)}function rp(e,t,n){const r=Vo(e),a=r.queries.get(t);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(t)}function ap(e){e.Ca.forEach(e=>{e.next()})}var sp,ip;(ip=sp||(sp={})).Ma="default",ip.Cache="cache";class op{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class lp{constructor(e){this.key=e}}class cp{constructor(e){this.key=e}}class up{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pd(),this.mutatedKeys=pd(),this.eu=nd(e),this.tu=new Km(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Ym,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,s=r,i=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=ed(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(i=!0)),f&&(u?(s=s.add(u),a=h?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),a=a.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:i,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uo(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const i=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new Xm(this.query,e.tu,a,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:i}:{au:i}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ym,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new cp(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new lp(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=pd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const dp="SyncEngine";class hp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fp{constructor(e){this.key=e,this.hu=!1}}class mp{constructor(e,t,n,r,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ad(e=>Ju(e),$u),this.Iu=new Map,this.Eu=new Set,this.du=new bc(ml.comparator),this.Au=new Map,this.Ru=new Nf,this.Vu={},this.mu=new Map,this.fu=lf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function pp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Mp(e);let a;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await vp(r,t,n,!0),a}async function gp(e,t){const n=Mp(e);await vp(n,t,!0,!1)}async function vp(e,t,n,r){const a=await Bf(e.localStore,Qu(t)),s=a.targetId,i=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await yp(e,t,s,"current"===i,a.resumeToken)),e.isPrimaryClient&&n&&xm(e.remoteStore,a),o}async function yp(e,t,n,r,a){e.pu=(t,n,r)=>async function(e,t,n,r){let a=t.view.ru(n);a.Cs&&(a=await Hf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,a)}));const s=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(a,e.isPrimaryClient,s,i);return Ap(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const s=await Hf(e.localStore,t,!0),i=new up(t,s.Qs),o=i.ru(s.documents),l=hh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,a),c=i.applyChanges(o,e.isPrimaryClient,l);Ap(e,n,c.au);const u=new hp(t,n,i);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function xp(e,t,n){const r=Vo(e),a=r.Tu.get(t),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter(e=>!$u(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Vf(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&bm(r.remoteStore,a.targetId),_p(r,a.targetId)}).catch(Rl)):(_p(r,a.targetId),await Vf(r.localStore,a.targetId,!0))}async function bp(e,t){const n=Vo(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&1===a.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bm(n.remoteStore,r.targetId))}async function wp(e,t){const n=Vo(e);try{const e=await function(e,t){const n=Vo(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const i=[];t.targetChanges.forEach((s,o)=>{const l=a.get(o);if(!l)return;i.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Tc.EMPTY_BYTE_STRING,jl.min()).withLastLimboFreeSnapshotVersion(jl.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),a=a.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&i.push(n.Pi.updateTargetData(e,c))});let o=id(),l=pd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(Uf(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(jl.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));i.push(t)}return Ml.waitFor(i).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=a,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Bo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Bo(r.hu,14607):e.removedDocuments.size>0&&(Bo(r.hu,42227),r.hu=!1))}),await Pp(n,e,t)}catch(e){await Rl(e)}}function Np(e,t,n){const r=Vo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const a=r.view.va(t);a.snapshot&&e.push(a.snapshot)}),function(e,t){const n=Vo(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const a of n.Sa)a.va(t)&&(r=!0)}),r&&ap(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Sp(e,t,n){const r=Vo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),s=a&&a.key;if(s){let e=new bc(ml.comparator);e=e.insert(s,fu.newNoDocument(s,jl.min()));const n=pd().add(s),a=new dh(jl.min(),new Map,new bc(rl),e,n);await wp(r,a),r.du=r.du.remove(s),r.Au.delete(t),Ip(r)}else await Vf(r.localStore,t,!1).then(()=>_p(r,t,n)).catch(Rl)}async function Ep(e,t){const n=Vo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const a=n.batch,s=a.keys();let i=Ml.resolve();return s.forEach(e=>{i=i.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Bo(null!==s,48541),t.version.compareTo(s)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,a))}(n,e,t,a).next(()=>a.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=pd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Tp(n,r,null),jp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pp(n,e)}catch(e){await Rl(e)}}async function kp(e,t,n){const r=Vo(e);try{const e=await function(e,t){const n=Vo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Bo(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Tp(r,t,n),jp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Pp(r,e)}catch(n){await Rl(n)}}function jp(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Tp(e,t,n){const r=Vo(e);let a=r.Vu[r.currentUser.toKey()];if(a){const e=a.get(t);e&&(n?e.reject(n):e.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Cp(e,t)})}function Cp(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(bm(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ip(e))}function Ap(e,t,n){for(const r of n)r instanceof lp?(e.Ru.addReference(r.key,t),Op(e,r)):r instanceof cp?(Mo(dp,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Cp(e,r.key)):Uo(19791,{wu:r})}function Op(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Mo(dp,"New document in limbo: "+n),e.Eu.add(r),Ip(e))}function Ip(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ml(dl.fromString(t)),r=e.fu.next();e.Au.set(r,new fp(n)),e.du=e.du.insert(n,r),xm(e.remoteStore,new Jh(Qu(Vu(n.path)),r,"TargetPurposeLimboResolution",Fl.ce))}}async function Pp(e,t,n){const r=Vo(e),a=[],s=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{i.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const a=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,a?"current":"not-current")}if(e){a.push(e);const t=If.As(o.targetId,e);s.push(t)}}))}),await Promise.all(i),r.Pu.H_(a),await async function(e,t){const n=Vo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ml.forEach(t,t=>Ml.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ml.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!zl(e))throw e;Mo(Rf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,a=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,a)}}}(r.localStore,s))}async function Dp(e,t){const n=Vo(e);if(!n.currentUser.isEqual(t)){Mo(dp,"User change. New user:",t.toKey());const e=await zf(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Wo(Ho.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Pp(n,e.Ls)}}function Rp(e,t){const n=Vo(e),r=n.Au.get(t);if(r&&r.hu)return pd().add(r.key);{let e=pd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Mp(e){const t=Vo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sp.bind(null,t),t.Pu.H_=np.bind(null,t.eventManager),t.Pu.yu=rp.bind(null,t.eventManager),t}function Lp(e){const t=Vo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ep.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kp.bind(null,t),t}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=im(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Lf(this.persistence,new Df,e.initialUser,this.serializer)}Cu(e){return new _f(Af.mi,this.serializer)}Du(e){return new Qf}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class Fp extends zp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Bo(this.persistence.referenceDelegate instanceof Of,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ff(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?of.withCacheSize(this.cacheSizeBytes):of.DEFAULT;return new _f(e=>Of.mi(e,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Np(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dp.bind(null,this.syncEngine),await Vm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Jm}createDatastore(e){const t=im(e.databaseInfo.databaseId),n=function(e){return new am(e)}(e.databaseInfo);return function(e,t,n,r){return new fm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,a){return new gm(e,t,n,r,a)}(this.localStore,this.datastore,e.asyncQueue,e=>Np(this.syncEngine,e,0),Xf.v()?new Xf:new Kf)}createSyncEngine(e,t){return function(e,t,n,r,a,s,i){const o=new mp(e,t,n,r,a,s);return i&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Vo(e);Mo(pm,"RemoteStore shutting down."),t.Ea.add(5),await ym(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Up.provider={build:()=>new Up};class qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Bp="FirestoreClient";class Vp{constructor(e,t,n,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Io.UNAUTHENTICATED,this.clientId=nl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async e=>{Mo(Bp,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Mo(Bp,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Qm(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Hp(e,t){e.asyncQueue.verifyOperationInProgress(),Mo(Bp,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await zf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Wp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Gp(e);Mo(Bp,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Bm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Bm(t.remoteStore,n)),e._onlineComponents=t}async function Gp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Mo(Bp,"Using user provided OfflineComponentProvider");try{await Hp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ho.FAILED_PRECONDITION||e.code===Ho.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Hp(e,new zp)}}else Mo(Bp,"Using default OfflineComponentProvider"),await Hp(e,new Fp(void 0));return e._offlineComponents}async function Qp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Mo(Bp,"Using user provided OnlineComponentProvider"),await Wp(e,e._uninitializedComponentsProvider._online)):(Mo(Bp,"Using default OnlineComponentProvider"),await Wp(e,new Up))),e._onlineComponents}function Kp(e){return Qp(e).then(e=>e.syncEngine)}async function Yp(e){const t=await Qp(e),n=t.eventManager;return n.onListen=pp.bind(null,t.syncEngine),n.onUnlisten=xp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=gp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bp.bind(null,t.syncEngine),n}function Xp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Go;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new qp({next:o=>{s.Nu(),t.enqueueAndForget(()=>tp(e,i));const l=o.docs.has(n);!l&&o.fromCache?a.reject(new Wo(Ho.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?a.reject(new Wo(Ho.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(o)},error:e=>a.reject(e)}),i=new op(Vu(n.path),s,{includeMetadataChanges:!0,qa:!0});return ep(e,i)}(await Yp(e),e.asyncQueue,t,n,r)),r.promise}function $p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Go;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,a){const s=new qp({next:n=>{s.Nu(),t.enqueueAndForget(()=>tp(e,i)),n.fromCache&&"server"===r.source?a.reject(new Wo(Ho.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:e=>a.reject(e)}),i=new op(n,s,{includeMetadataChanges:!0,qa:!0});return ep(e,i)}(await Yp(e),e.asyncQueue,t,n,r)),r.promise}function Jp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Zp=new Map,eg="firestore.googleapis.com",tg=!0;class ng{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Wo(Ho.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eg,this.ssl=tg}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:tg;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=sf;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<uf)throw new Wo(Ho.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Wo(Ho.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Wo(Ho.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Wo(Ho.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Wo(Ho.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ng({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Wo(Ho.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wo(Ho.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ng(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ko;switch(e.type){case"firstParty":return new Jo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wo(Ho.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zp.get(e);t&&(Mo("ComponentProvider","Removing Datastore"),Zp.delete(e),t.terminate())}(this),Promise.resolve()}}function ag(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=bl(e,rg);const a=qt(t),s=e._getSettings(),i=c(c({},s),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);a&&(Bt("https://".concat(o)),Wt("Firestore",!0)),s.host!==eg&&s.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},s),{},{host:o,ssl:a,emulatorOptions:r});if(!Zt(l,i)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Io.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pt(JSON.stringify({alg:"none",type:"JWT"})),Pt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Wo(Ho.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Io(a)}e._authCredentials=new Yo(new Qo(t,n))}}class sg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sg(this.firestore,e,this._query)}}class ig{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new og(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ig(this.firestore,e,this._key)}toJSON(){return{type:ig._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Nl(t,ig._jsonSchema))return new ig(e,n||null,new ml(dl.fromString(t.referencePath)))}}ig._jsonSchemaVersion="firestore/documentReference/1.0",ig._jsonSchema={type:wl("string",ig._jsonSchemaVersion),referencePath:wl("string")};class og extends sg{constructor(e,t,n){super(e,t,Vu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ig(this.firestore,null,new ml(e))}withConverter(e){return new og(this.firestore,e,this._path)}}function lg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=on(e),pl("collection","path",t),e instanceof rg){const n=dl.fromString(t,...r);return vl(n),new og(e,null,n)}{if(!(e instanceof ig||e instanceof og))throw new Wo(Ho.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dl.fromString(t,...r));return vl(n),new og(e.firestore,null,n)}}function cg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=on(e),1===arguments.length&&(t=nl.newId()),pl("doc","path",t),e instanceof rg){const n=dl.fromString(t,...r);return gl(n),new ig(e,null,new ml(n))}{if(!(e instanceof ig||e instanceof og))throw new Wo(Ho.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(dl.fromString(t,...r));return gl(n),new ig(e.firestore,e instanceof og?e.converter:null,new ml(n))}}const ug="AsyncQueue";class dg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new om(this,"async_queue_retry"),this._c=()=>{const e=sm();e&&Mo(ug,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=sm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Go;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(G5){if(!zl(G5))throw G5;Mo(ug,"Operation failed with retryable error: "+G5)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Lo("INTERNAL UNHANDLED ERROR: ",hg(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Gm.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Uo(47125,{Pc:hg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function hg(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function fg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class mg extends rg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new dg,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dg(e),this._firestoreClient=void 0,await e}}}function pg(e){if(e._terminated)throw new Wo(Ho.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||gg(e),e._firestoreClient}function gg(e){var t,n,r;const a=e._freezeSettings(),s=function(e,t,n,r){return new Fc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jp(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||null!==(n=a.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Vp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class vg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vg(Tc.fromBase64String(e))}catch(e){throw new Wo(Ho.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vg(Tc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vg._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nl(e,vg._jsonSchema))return vg.fromBase64String(e.bytes)}}vg._jsonSchemaVersion="firestore/bytes/1.0",vg._jsonSchema={type:wl("string",vg._jsonSchemaVersion),bytes:wl("string")};class yg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Wo(Ho.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xg{constructor(e){this._methodName=e}}class bg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wo(Ho.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wo(Ho.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rl(this._lat,e._lat)||rl(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bg._jsonSchemaVersion}}static fromJSON(e){if(Nl(e,bg._jsonSchema))return new bg(e.latitude,e.longitude)}}bg._jsonSchemaVersion="firestore/geoPoint/1.0",bg._jsonSchema={type:wl("string",bg._jsonSchemaVersion),latitude:wl("number"),longitude:wl("number")};class wg{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nl(e,wg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new wg(e.vectorValues);throw new Wo(Ho.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wg._jsonSchemaVersion="firestore/vectorValue/1.0",wg._jsonSchema={type:wl("string",wg._jsonSchemaVersion),vectorValues:wl("object")};const Ng=/^__.*__$/;class Sg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vd(e,this.data,t,this.fieldTransforms)}}class Eg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Hd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uo(40011,{Ac:e})}}class jg{constructor(e,t,n,r,a,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===a&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(kg(this.Ac)&&Ng.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||im(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jg({Ac:e,methodName:t,Dc:n,path:fl.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(e){const t=e._freezeSettings(),n=im(e._databaseId);return new Tg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cg(e,t,n,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.Cc(s.merge||s.mergeFields?2:0,t,n,a);zg("Data must be an object, but it was:",i,r);const o=Mg(r,i);let l,c;if(s.merge)l=new kc(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const a=Fg(t,r,n);if(!i.contains(a))throw new Wo(Ho.INVALID_ARGUMENT,"Field '".concat(a,"' is specified in your field mask but missing from your input data."));Vg(e,a)||e.push(a)}l=new kc(e),c=i.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=i.fieldTransforms;return new Sg(new du(o),l,c)}class Ag extends xg{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ag}}class Og extends xg{_toFieldTransform(e){return new Pd(e.path,new kd)}isEqual(e){return e instanceof Og}}function Ig(e,t,n,r){const a=e.Cc(1,t,n);zg("Data must be an object, but it was:",a,r);const s=[],i=du.empty();yc(r,(e,r)=>{const o=qg(t,e,n);r=on(r);const l=a.yc(o);if(r instanceof Ag)s.push(o);else{const e=Rg(r,l);null!=e&&(s.push(o),i.set(o,e))}});const o=new kc(s);return new Eg(i,o,a.fieldTransforms)}function Pg(e,t,n,r,a,s){const i=e.Cc(1,t,n),o=[Fg(t,r,n)],l=[a];if(s.length%2!=0)throw new Wo(Ho.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Fg(t,s[h])),l.push(s[h+1]);const c=[],u=du.empty();for(let h=o.length-1;h>=0;--h)if(!Vg(c,o[h])){const e=o[h];let t=l[h];t=on(t);const n=i.yc(e);if(t instanceof Ag)c.push(e);else{const r=Rg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new kc(c);return new Eg(u,d,i.fieldTransforms)}function Dg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rg(n,e.Cc(r?4:3,t))}function Rg(e,t){if(Lg(e=on(e)))return zg("Unsupported field value:",t,e),Mg(e,t);if(e instanceof xg)return function(e,t){if(!kg(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const a of e){let e=Rg(a,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=on(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kl.fromDate(e);return{timestampValue:kh(t.serializer,n)}}if(e instanceof kl){const n=new kl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kh(t.serializer,n)}}if(e instanceof bg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vg)return{bytesValue:jh(t.serializer,e._byteString)};if(e instanceof ig){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ch(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof wg)return function(e,t){return{mapValue:{fields:{[Bc]:{stringValue:Wc},[Gc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return yd(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(xl(e)))}(e,t)}function Mg(e,t){const n={};return xc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(e,(e,r)=>{const a=Rg(r,t.mc(e));null!=a&&(n[e]=a)}),{mapValue:{fields:n}}}function Lg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kl||e instanceof bg||e instanceof vg||e instanceof ig||e instanceof xg||e instanceof wg)}function zg(e,t,n){if(!Lg(n)||!yl(n)){const r=xl(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Fg(e,t,n){if((t=on(t))instanceof yg)return t._internalPath;if("string"==typeof t)return qg(e,t);throw Bg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ug=new RegExp("[~\\*/\\[\\]]");function qg(e,t,n){if(t.search(Ug)>=0)throw Bg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new yg(...t.split("."))._internalPath}catch(FI){throw Bg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bg(e,t,n,r,a){const s=r&&!r.isEmpty(),i=void 0!==a;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=" in field ".concat(r)),i&&(l+=" in document ".concat(a)),l+=")"),new Wo(Ho.INVALID_ARGUMENT,o+e+l)}function Vg(e,t){return e.some(e=>e.isEqual(t))}class Hg{constructor(e,t,n,r,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ig(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wg extends Hg{data(){return super.data()}}function Gg(e,t){return"string"==typeof t?qg(e,t):t instanceof yg?t._internalPath:t._delegate._internalPath}function Qg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wo(Ho.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class Yg extends Kg{}function Xg(e,t){let n=[];for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];t instanceof Kg&&n.push(t),n=n.concat(a),function(e){const t=e.filter(e=>e instanceof Zg).length,n=e.filter(e=>e instanceof $g).length;if(t>1||t>0&&n>0)throw new Wo(Ho.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class $g extends Yg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new $g(e,t,n)}_apply(e){const t=this._parse(e);return nv(e._query,t),new sg(e.firestore,e.converter,Yu(e._query,t))}_parse(e){const t=_g(e.firestore),n=function(e,t,n,r,a,s,i){let o;if(a.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Wo(Ho.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){tv(i,s);const t=[];for(const n of i)t.push(ev(r,e,n));o={arrayValue:{values:t}}}else o=ev(r,e,i)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||tv(i,s),o=Dg(n,t,i,"in"===s||"not-in"===s);return bu.create(a,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Jg(e,t,n){const r=t,a=Gg("where",e);return $g._create(a,r,n)}class Zg extends Kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zg(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:wu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const a of r)nv(n,a),n=Yu(n,a)}(e._query,t),new sg(e.firestore,e.converter,Yu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function ev(e,t,n){if("string"==typeof(n=on(n))){if(""===n)throw new Wo(Ho.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wu(t)&&-1!==n.indexOf("/"))throw new Wo(Ho.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(dl.fromString(n));if(!ml.isDocumentKey(r))throw new Wo(Ho.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return nu(e,new ml(r))}if(n instanceof ig)return nu(e,n._key);throw new Wo(Ho.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xl(n),"."))}function tv(e,t){if(!Array.isArray(e)||0===e.length)throw new Wo(Ho.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Wo(Ho.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wo(Ho.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class rv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ac(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Uo(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Gc].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Ac(e.doubleValue));return new wg(n)}convertGeoPoint(e){return new bg(Ac(e.latitude),Ac(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=Cc(e);return new kl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dl.fromString(e);Bo($h(n),9688,{name:e});const r=new qc(n.get(1),n.get(3)),a=new ml(n.popFirst(5));return r.isEqual(t)||Lo("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}function av(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class sv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iv extends Hg{constructor(e,t,n,r,a,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Wo(Ho.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=iv._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}iv._jsonSchemaVersion="firestore/documentSnapshot/1.0",iv._jsonSchema={type:wl("string",iv._jsonSchemaVersion),bundleSource:wl("string","DocumentSnapshot"),bundleName:wl("string"),bundle:wl("string")};class ov extends iv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new ov(this._firestore,this._userDataWriter,n.key,n,new sv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Wo(Ho.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new ov(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new ov(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let a=-1,s=-1;return 0!==t.type&&(a=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:cv(t.type),doc:r,oldIndex:a,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Wo(Ho.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lv._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uo(61501,{type:e})}}function uv(e){e=bl(e,ig);const t=bl(e.firestore,mg);return Xp(pg(t),e._key).then(n=>xv(t,e,n))}lv._jsonSchemaVersion="firestore/querySnapshot/1.0",lv._jsonSchema={type:wl("string",lv._jsonSchemaVersion),bundleSource:wl("string","QuerySnapshot"),bundleName:wl("string"),bundle:wl("string")};class dv extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new vg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ig(this.firestore,null,t)}}function hv(e){e=bl(e,sg);const t=bl(e.firestore,mg),n=pg(t),r=new dv(t);return Qg(e._query),$p(n,e._query).then(n=>new lv(t,r,e,n))}function fv(e,t,n){e=bl(e,ig);const r=bl(e.firestore,mg),a=av(e.converter,t,n);return yv(r,[Cg(_g(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Rd.none())])}function mv(e,t,n){e=bl(e,ig);const r=bl(e.firestore,mg),a=_g(r);let s;for(var i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];return s="string"==typeof(t=on(t))||t instanceof yg?Pg(a,"updateDoc",e._key,t,n,o):Ig(a,"updateDoc",e._key,t),yv(r,[s.toMutation(e._key,Rd.exists(!0))])}function pv(e){return yv(bl(e.firestore,mg),[new Kd(e._key,Rd.none())])}function gv(e,t){const n=bl(e.firestore,mg),r=cg(e),a=av(e.converter,t);return yv(n,[Cg(_g(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Rd.exists(!1))]).then(()=>r)}function vv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=on(e);let a={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof n[s]||fg(n[s])||(a=n[s++]);const i={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(fg(n[s])){var o,l,c;const e=n[s];n[s]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[s+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[s+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof ig)d=bl(e.firestore,mg),h=Vu(e._key.path),u={next:t=>{n[s]&&n[s](xv(d,e,t))},error:n[s+1],complete:n[s+2]};else{const t=bl(e,sg);d=bl(t.firestore,mg),h=t._query;const r=new dv(d);u={next:e=>{n[s]&&n[s](new lv(d,r,t,e))},error:n[s+1],complete:n[s+2]},Qg(e._query)}return function(e,t,n,r){const a=new qp(r),s=new op(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>ep(await Yp(e),s)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>tp(await Yp(e),s))}}(pg(d),h,i,u)}function yv(e,t){return function(e,t){const n=new Go;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Lp(e);try{const e=await function(e,t){const n=Vo(e),r=kl.now(),a=t.reduce((e,t)=>e.add(t.key),pd());let s,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=id(),l=pd();return n.Ns.getEntries(e,a).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(a=>{s=a;const i=[];for(const e of t){const t=qd(e,s.get(e.key).overlayedDocument);null!=t&&i.push(new Hd(e.key,t,hu(t.value.mapValue),Rd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)}).next(t=>{i=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:i.batchId,changes:cd(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new bc(rl)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Pp(r,e.changes),await Pm(r.remoteStore)}catch(e){const t=Qm(e,"Failed to persist write");n.reject(t)}}(await Kp(e),t,n)),n.promise}(pg(e),t)}function xv(e,t,n){const r=n.docs.get(t._key),a=new dv(e);return new iv(e,a,t._key,r,new sv(n.hasPendingWrites,n.fromCache),t.converter)}class bv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_g(e)}set(e,t,n){this._verifyNotCommitted();const r=wv(e,this._firestore),a=av(r.converter,t,n),s=Cg(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Rd.none())),this}update(e,t,n){this._verifyNotCommitted();const r=wv(e,this._firestore);let a;for(var s=arguments.length,i=new Array(s>3?s-3:0),o=3;o<s;o++)i[o-3]=arguments[o];return a="string"==typeof(t=on(t))||t instanceof yg?Pg(this._dataReader,"WriteBatch.update",r._key,t,n,i):Ig(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(a.toMutation(r._key,Rd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wv(e,this._firestore);return this._mutations=this._mutations.concat(new Kd(t._key,Rd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Wo(Ho.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wv(e,t){if((e=on(e)).firestore!==t)throw new Wo(Ho.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Nv(){return new Og("serverTimestamp")}function Sv(e){return pg(e=bl(e,mg)),new bv(e,t=>yv(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Po=e}(Nr),vr(new ln("firestore",(e,n)=>{let{instanceIdentifier:r,options:a}=n;const s=e.getProvider("app").getImmediate(),i=new mg(new Xo(e.getProvider("auth-internal")),new el(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wo(Ho.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(e.options.projectId,t)}(s,r),s);return a=c({useFetchStreams:t},a),i._setSettings(a),i},"PUBLIC").setMultipleInstances(!0)),kr(Ao,Oo,e),kr(Ao,Oo,"esm2020")}();const Ev=Sr({apiKey:"AIzaSyB3TTTUISQvYONjgoFaosNH__2Jk2YGTRs",authDomain:"iquizu-29da7.firebaseapp.com",projectId:"iquizu-29da7",storageBucket:"iquizu-29da7.firebasestorage.app",messagingSenderId:"12089675643",appId:"1:12089675643:web:ab483135352d71ebe977de"}),kv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();const t=yr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=yr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Zt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Hr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:lo,persistence:[yi,Js,ri]}),r=Ft("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>fo)return;const r=null===t||void 0===t?void 0:t.token;mo!==r&&(mo=r,await fetch(a,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){on(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){on(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var a;const s=Lt("auth");return s&&ds(n,"http://".concat(s)),n}(Ev),jv=function(e,t){const n="object"==typeof e?e:Er(),r="string"==typeof e?e:t||Uc,a=yr(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const e=(e=>{const t=Lt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ag(a,...e)}return a}(Ev),Tv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_v=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Cv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ov=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Iv=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:d}=e,h=u(e,Ov);return(0,t.createElement)("svg",c(c(c({ref:n},Av),{},{width:a,height:a,stroke:r,strokeWidth:i?24*Number(s)/Number(a):s,className:Cv("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),Pv=["className"],Dv=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:s}=r,i=u(r,Pv);return(0,t.createElement)(Iv,c({ref:a,iconNode:n,className:Cv("lucide-".concat(Tv(_v(e))),"lucide-".concat(e),s)},i))});return r.displayName=_v(e),r},Rv=Dv("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Mv=Dv("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Lv=n.p+"static/media/iQuizU.c7dc9ac2fa26a09defd422d5de679a66.svg";var zv,Fv,Uv=n(4414);function qv(){const e=ge(),[n,r]=(0,t.useState)(!1),a=fe(),s=(0,t.useRef)(null),[i,o]=(0,t.useState)({left:0,width:0,opacity:0}),l=()=>{const e=s.current;if(!e)return;const t=e.querySelector(".nav-item.active")||e.querySelector(".nav-item");if(!t)return;const n=Math.max(0,t.offsetLeft-Math.floor(4)),r=t.offsetWidth+8;o({left:n,width:r,opacity:1})},c=e=>{if(!e||!s.current)return;const t=Math.max(0,e.offsetLeft-Math.floor(4)),n=e.offsetWidth+8;o({left:t,width:n,opacity:1})};(0,t.useEffect)(()=>{l();const e=()=>l();return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[a.pathname,n]);const u=t=>{r(!1),e(t)};return(0,Uv.jsxs)("nav",{className:"bg-components h-20 mx-5 md:mx-20 flex items-center justify-between font-Outfit shadow-md rounded-full px-6 relative z-50",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"h-10 w-10"}),(0,Uv.jsx)("h1",{className:"font-bold text-2xl",children:"iQuizU"})]}),(0,Uv.jsxs)("div",{ref:s,className:"hidden md:flex flex-row items-center justify-center gap-16 text-xl relative",children:[(0,Uv.jsx)(Nt,{to:"/",end:!0,onMouseEnter:e=>c(e.currentTarget),onFocus:e=>c(e.currentTarget),onMouseLeave:()=>l(),onBlur:()=>l(),className:e=>{let{isActive:t}=e;return"nav-item px-2 ".concat(t?"active text-black":"text-subtext hover:text-black")},children:"Home"}),(0,Uv.jsx)(Nt,{to:"/features",onMouseEnter:e=>c(e.currentTarget),onFocus:e=>c(e.currentTarget),onMouseLeave:()=>l(),onBlur:()=>l(),className:e=>{let{isActive:t}=e;return"nav-item px-2 ".concat(t?"active text-black":"text-subtext hover:text-black")},children:"Features"}),(0,Uv.jsx)(Nt,{to:"/about",onMouseEnter:e=>c(e.currentTarget),onFocus:e=>c(e.currentTarget),onMouseLeave:()=>l(),onBlur:()=>l(),className:e=>{let{isActive:t}=e;return"nav-item px-2 ".concat(t?"active text-black":"text-subtext hover:text-black")},children:"About"}),(0,Uv.jsx)("span",{className:"hidden md:block absolute -bottom-6 rounded-full h-[2px] bg-accent transition-all duration-300",style:{left:i.left,width:i.width,opacity:i.opacity}})]}),(0,Uv.jsx)("div",{className:"hidden md:block",children:(0,Uv.jsx)("button",{onClick:()=>u("/login"),className:"bg-button px-6 py-2 rounded-full font-semibold text-white transform hover:scale-105 hover:shadow-lg active:scale-95 duration-200",children:"Log In"})}),(0,Uv.jsxs)("button",{onClick:()=>r(!n),className:"md:hidden text-subtext focus:outline-none transition-transform duration-300",children:[(0,Uv.jsx)("div",{className:"transition-all duration-300 transform ".concat(n?"rotate-90 opacity-0":"rotate-0 opacity-100"," absolute"),children:(0,Uv.jsx)(Rv,{size:28})}),(0,Uv.jsx)("div",{className:"transition-all duration-300 transform ".concat(n?"rotate-0 opacity-100":"-rotate-90 opacity-0"),children:(0,Uv.jsx)(Mv,{size:28})})]}),n&&(0,Uv.jsxs)("div",{className:"absolute top-24 left-0 w-full bg-components rounded-2xl shadow-lg py-4 flex flex-col items-center justify-center gap-8 text-lg text-subtext md:hidden animate-slideDown",children:[(0,Uv.jsx)(Nt,{to:"/",end:!0,onClick:()=>r(!1),className:e=>{let{isActive:t}=e;return"w-full text-center px-6 ".concat(t?"font-semibold text-black":"text-subtext")},children:"Home"}),(0,Uv.jsx)(Nt,{to:"/features",onClick:()=>r(!1),className:e=>{let{isActive:t}=e;return"w-full text-center px-6 ".concat(t?"font-semibold text-black":"text-subtext")},children:"Features"}),(0,Uv.jsx)(Nt,{to:"/about",onClick:()=>r(!1),className:e=>{let{isActive:t}=e;return"w-full text-center px-6 ".concat(t?"font-semibold text-black":"text-subtext")},children:"About"}),(0,Uv.jsx)("button",{onClick:()=>u("/login"),className:"bg-button px-6 py-2 rounded-full font-semibold text-white hover:opacity-90 transition-transform duration-200 ease-out hover:scale-105 active:scale-95 motion-reduce:transform-none hover:shadow-lg",children:"Log In"})]})]})}function Bv(){const e=ge(),t=fe();return(0,Uv.jsx)("footer",{id:"about",className:"bg-components mt-12 w-full py-8 px-6",children:(0,Uv.jsxs)("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center text-center gap-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer md:pr-32",onClick:()=>{"/"===t.pathname?window.scrollTo({top:0,behavior:"smooth"}):e("/")},children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"h-8 w-8"}),(0,Uv.jsx)("h1",{className:"font-bold text-lg",children:"iQuizU"})]}),(0,Uv.jsxs)("div",{className:"flex flex-wrap justify-center gap-6 text-sm",children:[(0,Uv.jsx)(Nt,{to:"/",onClick:n=>{"/"===t.pathname?(n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})):(e("/"),window.scrollTo({top:0,behavior:"smooth"}))},className:"text-subtext hover:text-black transition-colors",children:"Home"}),(0,Uv.jsx)(Nt,{to:"/features",onClick:n=>{"/features"===t.pathname?(n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})):(e("/features"),window.scrollTo({top:0,behavior:"smooth"}))},className:"text-subtext hover:text-black transition-colors",children:"Features"}),(0,Uv.jsx)(Nt,{to:"/about",onClick:n=>{"/about"===t.pathname?(n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})):(e("/about"),window.scrollTo({top:0,behavior:"smooth"}))},className:"text-subtext hover:text-black transition-colors",children:"About Us"})]}),(0,Uv.jsx)("div",{className:"text-sm text-subtext",children:"\xa9 2025 iQuizU. All rights reserved."})]})})}const Vv=["title","titleId"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(null,arguments)}function Wv(e,n){let{title:r,titleId:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Vv);return t.createElement("svg",Hv({width:121,height:130,viewBox:"0 0 121 130",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?t.createElement("title",{id:a},r):null,zv||(zv=t.createElement("g",{filter:"url(#filter0_d_75_63)"},t.createElement("path",{d:"M63.5937 21.3987C47.1258 21.9738 34.2985 35.3769 34.0368 51.6787L26.0375 63.0687C25.0366 64.465 26.1615 66.6215 27.9962 66.5575L34.5484 66.3287L35.0079 79.4873C35.1779 84.356 39.2019 88.124 44.0505 87.9547L48.4187 87.8021L48.8782 100.961L79.4552 99.893L78.7368 79.3216C88.9178 74.0476 95.6718 63.3159 95.2429 51.0345C94.6517 34.1037 80.5421 20.8069 63.5937 21.3987ZM82.3347 49.5969L73.8528 52.1767L80.365 58.317C81.946 59.7549 82.0348 62.299 80.5596 63.8875C79.0843 65.4761 76.5508 65.5646 75.012 64.0812L68.4139 57.9878L66.4864 66.6626C66.0373 68.8301 63.8961 70.1345 61.8232 69.636C59.6629 69.1406 58.3647 67.034 58.8591 64.9088L60.8724 56.1871L52.3484 58.8123C50.2716 59.4557 48.0446 58.3039 47.4454 56.1729C46.8055 54.1312 47.952 51.8954 50.074 51.2943L58.5575 48.7584L52.0437 42.5742C50.4628 41.1362 50.3755 38.6361 51.8492 37.0037C53.3244 35.4151 55.858 35.3266 57.3967 36.8099L63.9511 42.9049L65.9223 34.2286C66.373 32.1049 68.4705 30.802 70.4982 31.2582C72.7022 31.7522 74.0003 33.8587 73.5512 36.0262L71.5363 44.7041L80.0167 42.0804C82.1387 41.4793 84.322 42.6327 84.9664 44.806C85.5611 46.8053 84.413 48.9973 82.3347 49.5969Z",fill:"black"}))),Fv||(Fv=t.createElement("defs",null,t.createElement("filter",{id:"filter0_d_75_63",x:.663086,y:.379761,width:119.599,height:129.581,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:12.5}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_75_63"}),t.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_75_63",result:"shape"})))))}const Gv=t.forwardRef(Wv);n.p;var Qv,Kv;const Yv=["title","titleId"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function $v(e,n){let{title:r,titleId:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Yv);return t.createElement("svg",Xv({width:121,height:134,viewBox:"0 0 121 134",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?t.createElement("title",{id:a},r):null,Qv||(Qv=t.createElement("g",{filter:"url(#filter0_d_75_61)"},t.createElement("path",{d:"M74.3283 31.5027L76.4485 92.2157C76.6845 98.9751 81.4326 102.619 86.4932 102.442C91.1084 102.281 96.0573 98.9065 95.8001 91.54L93.6955 31.2722C93.4778 25.039 88.7269 21.3145 83.6663 21.4912C78.6057 21.668 74.1403 26.1195 74.3283 31.5027ZM50.1011 63.188L51.1456 93.0993C51.383 99.8992 56.2107 103.499 61.1903 103.325C65.8056 103.164 70.7545 99.7901 70.4972 92.4235L69.4682 62.9575C69.2506 56.7243 64.4996 52.9998 59.4391 53.1766C54.3785 53.3533 49.9131 57.8048 50.1011 63.188ZM35.2132 84.9024C40.5572 84.7157 45.0403 88.8953 45.2254 94.1976C45.412 99.5403 41.2314 104.022 35.8874 104.209C30.5435 104.396 26.0604 100.216 25.8738 94.8734C25.6887 89.5711 29.8693 85.089 35.2132 84.9024Z",fill:"black"}))),Kv||(Kv=t.createElement("defs",null,t.createElement("filter",{id:"filter0_d_75_61",x:.867676,y:.485229,width:119.942,height:132.73,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:12.5}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_75_61"}),t.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_75_61",result:"shape"})))))}const Jv=t.forwardRef($v);n.p;var Zv,ey;const ty=["title","titleId"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}function ry(e,n){let{title:r,titleId:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,ty);return t.createElement("svg",ny({width:121,height:121,viewBox:"0 0 121 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?t.createElement("title",{id:a},r):null,Zv||(Zv=t.createElement("g",{filter:"url(#filter0_d_75_65)"},t.createElement("path",{d:"M63.1525 21.7595C43.9494 20.4167 27.1391 35.0296 25.7963 54.2327C24.4535 73.4358 39.0665 90.2461 58.2696 91.589C77.4727 92.9318 94.283 78.3188 95.6258 59.1157C96.9686 39.9126 82.3556 23.1023 63.1525 21.7595ZM44.8432 67.8445L42.7166 63.1347L57.244 56.0809L58.4403 38.9727L63.6775 39.3389L62.2615 59.5895L44.8432 67.8445Z",fill:"black"}))),ey||(ey=t.createElement("defs",null,t.createElement("filter",{id:"filter0_d_75_65",x:.710449,y:.673828,width:120.001,height:120.001,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:12.5}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_75_65"}),t.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_75_65",result:"shape"})))))}const ay=t.forwardRef(ry);n.p;var sy,iy;const oy=["title","titleId"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(null,arguments)}function cy(e,n){let{title:r,titleId:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,oy);return t.createElement("svg",ly({width:167,height:123,viewBox:"0 0 167 123",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?t.createElement("title",{id:a},r):null,sy||(sy=t.createElement("g",{filter:"url(#filter0_d_75_69)"},t.createElement("path",{d:"M85.6932 21.1827C90.177 21.3393 94.4151 23.2686 97.4751 26.5461C100.535 29.8236 102.166 34.1809 102.01 38.6594C101.853 43.1379 99.9223 47.3708 96.6411 50.4269C93.36 53.4829 88.9977 55.1118 84.5138 54.9553C80.03 54.7987 75.7919 52.8694 72.7319 49.5919C69.672 46.3144 68.0408 41.9571 68.1971 37.4786C68.3535 33.0001 70.2847 28.7672 73.5659 25.7111C76.847 22.6551 81.2093 21.0262 85.6932 21.1827ZM51.4593 32.0636C54.1643 32.158 56.6508 32.9695 58.779 34.348C57.8135 41.222 59.603 48.1438 63.5702 53.6442C60.9932 58.1915 56.0516 61.2071 50.4484 61.0115C46.6051 60.8772 42.9724 59.2236 40.3496 56.4143C37.7268 53.605 36.3286 49.8702 36.4627 46.0315C36.5967 42.1928 38.252 38.5646 41.0644 35.9451C43.8768 33.3256 47.616 31.9294 51.4593 32.0636ZM119.085 34.4251C122.928 34.5593 126.561 36.213 129.183 39.0223C131.806 41.8316 133.204 45.5664 133.07 49.4051C132.936 53.2438 131.281 56.872 128.469 59.4915C125.656 62.111 121.917 63.5072 118.074 63.373C112.471 63.1773 107.751 59.8244 105.498 55.1084C109.839 49.8981 112.107 43.1179 111.623 36.1934C113.843 34.9666 116.38 34.3307 119.085 34.4251ZM52.1475 81.6005C52.4963 71.6135 66.8358 63.999 84.1769 64.6045C101.518 65.2101 115.291 73.8064 114.943 83.7934L114.648 92.2365L51.8527 90.0437L52.1475 81.6005ZM25.2856 89.1159L25.5383 81.879C25.7725 75.1727 35.099 69.8467 47.5221 68.6381C44.5576 71.8194 42.6603 76.2938 42.4868 81.2632L42.1919 89.7063L25.2856 89.1159ZM141.215 93.1643L124.309 92.5739L124.603 84.1308C124.777 79.1614 123.196 74.5655 120.461 71.1852C132.769 73.2574 141.702 79.221 141.468 85.9273L141.215 93.1643Z",fill:"black"}))),iy||(iy=t.createElement("defs",null,t.createElement("filter",{id:"filter0_d_75_69",x:.285645,y:.172363,width:166.187,height:121.992,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:12.5}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_75_69"}),t.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_75_69",result:"shape"})))))}const uy=t.forwardRef(cy);n.p;var dy,hy;const fy=["title","titleId"];function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}function py(e,n){let{title:r,titleId:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,fy);return t.createElement("svg",my({width:87,height:122,viewBox:"0 0 87 122",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?t.createElement("title",{id:a},r):null,dy||(dy=t.createElement("g",{filter:"url(#filter0_d_75_67)"},t.createElement("path",{d:"M25.5757 23.0123L26.9193 61.4889L37.4129 61.1224L38.5123 92.6032L61.5315 49.7738L47.5401 50.2624L60.5544 21.7908L25.5757 23.0123Z",fill:"black"}))),hy||(hy=t.createElement("defs",null,t.createElement("filter",{id:"filter0_d_75_67",x:.575684,y:.790894,width:85.9561,height:120.812,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:12.5}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_75_67"}),t.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_75_67",result:"shape"})))))}const gy=t.forwardRef(py);n.p;var vy,yy;const xy=["title","titleId"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function wy(e,n){let{title:r,titleId:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,xy);return t.createElement("svg",by({width:109,height:121,viewBox:"0 0 109 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),r?t.createElement("title",{id:a},r):null,vy||(vy=t.createElement("g",{filter:"url(#filter0_d_75_71)"},t.createElement("path",{d:"M55.2072 21.3626L26.2804 33.0874L25.6142 52.1667C24.9979 69.8151 36.5742 86.743 52.7643 91.3199C69.2342 87.8835 81.9632 71.8043 82.5794 54.156L83.2457 35.0767L55.2072 21.3626ZM54.541 40.4418C58.9716 40.5966 63.2801 44.2491 63.1246 48.701L62.9581 53.4708C64.8569 53.5371 66.6891 55.5113 66.6114 57.7373L66.2228 68.8668C66.1561 70.7748 64.1907 72.6164 61.9753 72.539L44.5693 71.9312C42.6704 71.8649 40.8382 69.8906 40.916 67.6647L41.3046 56.5352C41.3712 54.6272 43.3367 52.7856 45.2355 52.8519L45.4021 48.0821C45.5576 43.6303 50.1104 40.2871 54.541 40.4418ZM54.4077 44.2577C51.8759 44.1693 49.6051 45.6819 49.5163 48.2258L49.3497 52.9956L58.8439 53.3271L59.0105 48.5573C59.0993 46.0134 56.9395 44.3461 54.4077 44.2577Z",fill:"black"}))),yy||(yy=t.createElement("defs",null,t.createElement("filter",{id:"filter0_d_75_71",x:.59082,y:.362549,width:107.655,height:119.957,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},t.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.createElement("feOffset",{dy:4}),t.createElement("feGaussianBlur",{stdDeviation:12.5}),t.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),t.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),t.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_75_71"}),t.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_75_71",result:"shape"})))))}const Ny=t.forwardRef(wy);n.p;const Sy=n.p+"static/media/fig_male.02eb51983e005877cff8f0628401572f.svg";const Ey=n.p+"static/media/fig_female.e44631625ed2cbccea7f925924e028c2.svg",ky=e=>{let{delay:t,duration:n,left:r}=e;return(0,Uv.jsx)("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-80 pointer-events-none",style:{left:"".concat(r,"%"),top:"-10px",animation:"snowfall ".concat(n,"s linear ").concat(t,"s infinite"),boxShadow:"0 0 10px rgba(255, 255, 255, 0.8)"}})};function jy(){const e=ge(),n=fe();(0,t.useEffect)(()=>{const e=document.createElement("style");return e.textContent="\n            @keyframes snowfall {\n                0% {\n                    transform: translateY(0) translateX(0);\n                    opacity: 1;\n                }\n                10% {\n                    transform: translateY(10vh) translateX(5px);\n                }\n                20% {\n                    transform: translateY(20vh) translateX(-5px);\n                }\n                30% {\n                    transform: translateY(30vh) translateX(5px);\n                }\n                40% {\n                    transform: translateY(40vh) translateX(-5px);\n                }\n                50% {\n                    transform: translateY(50vh) translateX(5px);\n                }\n                60% {\n                    transform: translateY(60vh) translateX(-5px);\n                }\n                70% {\n                    transform: translateY(70vh) translateX(5px);\n                }\n                80% {\n                    transform: translateY(80vh) translateX(-5px);\n                }\n                90% {\n                    transform: translateY(90vh) translateX(5px);\n                }\n                100% {\n                    transform: translateY(100vh) translateX(0);\n                    opacity: 0;\n                }\n            }\n        ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]);const r=Array.from({length:50}).map((e,t)=>({id:t,delay:5*Math.random(),duration:8+4*Math.random(),left:100*Math.random()}));return(0,Uv.jsxs)("div",{className:"bg-background pt-6 min-h-screen w-full font-Outfit overflow-x-hidden relative",children:[(0,Uv.jsx)("div",{className:"fixed top-0 left-0 w-full h-screen pointer-events-none z-10 overflow-hidden",children:r.map(e=>(0,Uv.jsx)(ky,{delay:e.delay,duration:e.duration,left:e.left},e.id))}),(0,Uv.jsx)(qv,{}),(0,Uv.jsxs)("section",{id:"home",className:"bg-gradient-to-b from-background via-background to-green-200 text-center py-16 px-10 md:py-24",children:[(0,Uv.jsx)("p",{className:"bg-components rounded-full inline-block border-2 border-stroke text-subtext text-sm md:text-base px-4 py-1",children:"Join us to learn more!"}),(0,Uv.jsxs)("h1",{className:"text-3xl md:text-7xl font-semibold mt-6 leading-tight cursor-default",children:["Master ",(0,Uv.jsx)("span",{className:"bg-gradient-to-r from-yellow-700 to-yellow-400 bg-clip-text text-transparent duration-300",children:"Knowledge "})," Through ",(0,Uv.jsx)("br",{className:"hidden sm:block"})," ",(0,Uv.jsx)("span",{className:"hover:bg-gradient-to-r from-purple-700 to-purple-500 bg-clip-text hover:text-transparent duration-300",children:"Interactive"})," Quizzes"]}),(0,Uv.jsx)("p",{className:"text-base md:text-2xl font-light mt-4 leading-relaxed mx-auto max-w-3xl",children:"Create, share, and take engaging quizzes with real-time feedback. Perfect for educators, students, and knowledge enthusiasts."}),(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4 mt-14",children:[(0,Uv.jsx)("button",{onClick:()=>e("/login"),className:"bg-button border-2 font-semibold text-lg text-white border-white px-6 py-3 rounded-full w-full sm:w-auto hover:scale-105 hover:shadow-lg transition",children:"Get Started"}),(0,Uv.jsx)("button",{className:"bg-button border-2 font-semibold text-lg text-white border-white px-6 py-3 rounded-full w-full sm:w-auto hover:scale-105 hover:shadow-lg transition",children:"Watch Demo"})]})]}),(0,Uv.jsx)("div",{className:"flex justify-center bg-green-200",children:(0,Uv.jsx)("div",{className:"w-full max-w-screen-xl px-6",children:(0,Uv.jsx)("hr",{className:"border-1.5 md:border-2 border-accent rounded-full"})})}),(0,Uv.jsxs)("section",{id:"features",className:"bg-green-200 py-16 px-10 md:p-24 max-w-screen",children:[(0,Uv.jsxs)("div",{className:"text-center mb-12",children:[(0,Uv.jsx)("h1",{className:"text-5xl md:text-6xl font-semibold",children:"Features"}),(0,Uv.jsx)("p",{className:"text-base md:text-2xl font-light mt-3",children:"Everything you need to create engaging quizzes and track learning progress"})]}),(0,Uv.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 md:gap-0 md:items-center md:justify-center",children:[(0,Uv.jsxs)("div",{className:"md:w-80 md:h-72 p-6 md:p-10 -mr-4 bg-components border-green-100 border-2 shadow-2xl rounded-3xl hover:rotate-0 transition-transform duration-200 md:-rotate-3",children:[(0,Uv.jsx)(Gv,{className:"h-14 w-14 mb-3"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Smart Quiz Creation"}),(0,Uv.jsx)("p",{className:"text-base font-light",children:"AI-powered question generation and intelligent difficulty adjustment for optimal learning."})]}),(0,Uv.jsxs)("div",{className:"md:w-80 md:h-72 p-6 md:p-10 -mr-4 bg-components border-green-100 border-2 shadow-2xl rounded-3xl hover:rotate-0 transition-transform duration-200 md:rotate-3",children:[(0,Uv.jsx)(ay,{className:"h-14 w-14 mb-3"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Real-time Feedback"}),(0,Uv.jsx)("p",{className:"text-base font-light",children:"Instant results and explanations help learners understand concepts immediately."})]}),(0,Uv.jsxs)("div",{className:"md:w-80 md:h-72 p-6 md:p-10 bg-components border-green-100 border-2 shadow-2xl rounded-3xl hover:rotate-0 transition-transform duration-200 md:-rotate-3",children:[(0,Uv.jsx)(Jv,{className:"h-14 w-14 mb-3"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Advanced Analytics"}),(0,Uv.jsx)("p",{className:"text-base font-light",children:"Detailed performance insights and progress tracking for both students and teachers."})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 md:gap-0 md:items-center md:justify-center mt-16",children:[(0,Uv.jsxs)("div",{className:"md:w-80 md:h-72 p-6 md:p-10 -mr-4 bg-components border-green-100 border-2 shadow-2xl rounded-3xl hover:rotate-0 transition-transform duration-200 md:rotate-3",children:[(0,Uv.jsx)(uy,{className:"h-14 w-14 mb-3"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Collaborative Learning"}),(0,Uv.jsx)("p",{className:"text-base font-light",children:"Share quizzes, compete with friends, and learn together in a social environment."})]}),(0,Uv.jsxs)("div",{className:"md:w-80 md:h-72 p-6 md:p-10 -mr-4 bg-components border-green-100 border-2 shadow-2xl rounded-3xl hover:rotate-0 transition-transform duration-200 md:-rotate-3",children:[(0,Uv.jsx)(gy,{className:"h-14 w-14 mb-3"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Lightning Fast"}),(0,Uv.jsx)("p",{className:"text-base font-light",children:"Optimized performance ensures smooth quiz-taking experience on any device."})]}),(0,Uv.jsxs)("div",{className:"md:w-80 md:h-72 p-6 md:p-10 bg-components border-green-100 border-2 shadow-2xl rounded-3xl hover:rotate-0 transition-transform duration-200 md:rotate-3",children:[(0,Uv.jsx)(Ny,{className:"h-14 w-14 mb-3"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Secure & Private"}),(0,Uv.jsx)("p",{className:"text-base font-light",children:"Your data is protected with enterprise-grade security and privacy controls."})]})]}),(0,Uv.jsx)("div",{className:"flex text-center justify-center mt-20",children:(0,Uv.jsx)(Nt,{to:"/features",onClick:t=>{"/features"===n.pathname?(t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})):(e("/features"),window.scrollTo({top:0,behavior:"smooth"}))},className:"bg-button border-2 font-semibold text-white text-lg border-white px-8 py-4 rounded-full w-full max-w-xs hover:scale-105 transition",children:"Learn More"})})]}),(0,Uv.jsx)("div",{className:"flex justify-center bg-green-200",children:(0,Uv.jsx)("div",{className:"w-full max-w-screen-xl px-6",children:(0,Uv.jsx)("hr",{className:"border-1.5 md:border-2 border-green-500 rounded-full"})})}),(0,Uv.jsxs)("section",{className:"bg-gradient-to-t from-background via-background to-green-200 relative text-center flex flex-col py-16 px-10 md:py-40",children:[(0,Uv.jsxs)("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-semibold",children:["Join Thousands of Educators ",(0,Uv.jsx)("br",{className:"hidden sm:block"})," Creating Amazing Quizzes"]}),(0,Uv.jsx)("p",{className:"text-base sm:text-lg md:text-xl font-light mt-3 max-w-2xl mx-auto",children:"Start creating engaging quizzes today. No credit card required, free forever plan available."}),(0,Uv.jsx)("img",{src:Sy,alt:"Male Figure",className:"absolute left-32 bottom-0 w-28 sm:w-48 md:w-56 lg:w-64 hidden sm:block object-contain"}),(0,Uv.jsx)("img",{src:Ey,alt:"Female Figure",className:"absolute right-20 bottom-0 w-28 sm:w-56 md:w-56 lg:w-72 hidden sm:block object-contain"}),(0,Uv.jsx)("div",{className:"flex justify-center",children:(0,Uv.jsx)("button",{onClick:()=>e("/login"),className:"bg-button text-white border-2 font-semibold text-lg border-white px-6 py-3 rounded-full mt-6 w-full sm:w-auto hover:scale-105 transition",children:"Create Quiz"})})]}),(0,Uv.jsx)(Bv,{})]})}function Ty(){const e=[{icon:(0,Uv.jsx)(Gv,{className:"h-20 w-20 mt-6 mx-auto"}),title:"Smart Quiz Creation",desc:"AI-powered question generation and intelligent difficulty adjustment for optimal learning."},{icon:(0,Uv.jsx)(ay,{className:"h-20 w-20 mt-6 mx-auto"}),title:"Real-time Feedback",desc:"Instant results and explanations help learners understand concepts immediately."},{icon:(0,Uv.jsx)(Jv,{className:"h-20 w-20 mt-6 mx-auto"}),title:"Advanced Analytics",desc:"Detailed performance insights and progress tracking for both students and teachers."},{icon:(0,Uv.jsx)(uy,{className:"h-20 w-20 mt-6 mx-auto"}),title:"Collaborative Learning",desc:"Share quizzes, compete with friends, and learn together in a social environment."},{icon:(0,Uv.jsx)(gy,{className:"h-20 w-20 mt-6 mx-auto"}),title:"Lightning Fast",desc:"Optimized performance ensures smooth quiz-taking experience on any device."},{icon:(0,Uv.jsx)(Ny,{className:"h-20 w-20 mt-6 mx-auto"}),title:"Secure & Private",desc:"Your data is protected with enterprise-grade security and privacy controls."}];return(0,Uv.jsxs)("div",{className:"bg-gradient-to-b from-background via-background to-green-200 min-h-screen pt-6 w-full font-Outfit",children:[(0,Uv.jsx)(qv,{}),(0,Uv.jsxs)("div",{className:"px-10 md:px-40 mx-auto mt-10 md:mt-20",children:[(0,Uv.jsx)("h1",{className:"text-5xl md:text-7xl font-semibold",children:"Features"}),(0,Uv.jsx)("p",{className:"text-base md:text-2xl mt-2 font-light",children:"Everything you need to create engaging quizzes and track learning progress"}),(0,Uv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 w-full mt-10",children:e.map((e,t)=>(0,Uv.jsxs)("div",{className:"bg-components rounded-3xl flex flex-col py-6 px-4 text-center",children:[e.icon,(0,Uv.jsx)("h1",{className:"text-2xl font-bold mt-4",children:e.title}),(0,Uv.jsx)("p",{className:"text-base font-light mt-2 mb-4 px-4",children:e.desc})]},t))})]}),(0,Uv.jsx)(Bv,{})]})}function _y(){return(0,Uv.jsxs)("div",{className:"bg-gradient-to-b from-background via-background to-green-200 min-h-screen h-full pt-6 w-full font-Outfit",children:[(0,Uv.jsx)(qv,{}),(0,Uv.jsxs)("div",{className:"px-4 md:px-20 lg:px-40 mx-auto mt-10 mb-20",children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"h-44 w-44 mx-auto mt-10 md:mt-20"}),(0,Uv.jsx)("p",{className:"text-accent text-lg md:text-xl font-semibold text-center -mb-2 mt-6 md:mt-10",children:"About"}),(0,Uv.jsx)("h1",{className:"text-accent text-4xl md:text-6xl font-bold text-center",children:"iQuizU"}),(0,Uv.jsx)("p",{className:"max-w-3xl mx-auto text-center text-lg mt-4 px-4",children:"iQuizU is an innovative online quiz platform developed to enhance teaching and learning through interactive assessments. It enables educators to efficiently create, manage, and evaluate quizzes while providing students with an engaging environment to test and improve their knowledge. With built-in analytics, progress tracking, and leaderboard features, iQuizU promotes healthy academic competition and continuous learning. The platform aims to support institutions in fostering a more dynamic, data-driven approach to education, ensuring that both teachers and learners achieve their fullest potential."})]}),(0,Uv.jsx)(Bv,{})]})}const Cy=Dv("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function Ay(){const[e,n]=(0,t.useState)(""),[r,a]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),[f,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(!1),v=()=>{u(!1),i(""),h(""),m("")};return(0,Uv.jsxs)("div",{className:"bg-gradient-to-b from-background via-background to-green-200 relative h-screen w-full flex items-center justify-center font-Outfit px-10",children:[(0,Uv.jsxs)(wt,{to:"/",className:"flex flex-row items-center justify-center absolute top-10 left-10 text-black bg-components px-6 py-4 rounded-full shadow-md transition transform duration-200 ease-out hover:scale-105 active:scale-95 motion-reduce:transform-none hover:shadow-lg font-bold",children:[(0,Uv.jsx)(Cy,{className:"w-5 h-5 mr-2"}),"Back"]}),(0,Uv.jsx)("div",{className:"bg-components p-10 rounded-3xl shadow-lg w-96",children:(0,Uv.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),h(""),l(!0);try{const t=e.trim();let n="";if(t.includes("@")){const e=Xg(lg(jv,"users"),Jg("email","==",t.toLowerCase())),r=await hv(e);if(r.empty)return i("Account not found. Please check your email."),void l(!1);n=r.docs[0].data().email}else{const e=Xg(lg(jv,"users"),Jg("studentNo","==",t)),r=await hv(e);if(r.empty)return i("Student number not found. Please check your student number."),void l(!1);const a=r.docs[0].data();if(n=a.emailAddress,!n)return i("No email address found for this student. Please contact your teacher."),void l(!1);if(!a.hasAccount)return i("Your account hasn't been created yet. Please contact your teacher."),void l(!1)}await Gs(kv,n,r)}catch(n){switch(console.error("Login error:",n),n.code){case"auth/wrong-password":case"auth/invalid-credential":case"auth/invalid-login-credentials":i("Invalid password. Please try again.");break;case"auth/user-not-found":i("Account not found.");break;case"auth/too-many-requests":i("Too many attempts. Try again later or reset your password.");break;case"auth/user-disabled":i("This account has been disabled.");break;case"auth/network-request-failed":i("Network error. Please check your connection.");break;default:i("Login failed. Please try again.")}l(!1)}},children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"h-16 w-16 mx-auto mb-4 rounded-full outline-dotted outline-accent"}),(0,Uv.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Log In to iQuizU"}),s&&(0,Uv.jsx)("div",{className:"mb-4 text-red-600 text-sm bg-red-50 border border-red-200 rounded-lg p-3",children:s}),d&&(0,Uv.jsx)("div",{className:"mb-4 text-green-600 text-sm bg-green-50 border border-green-200 rounded-lg p-3",children:d}),(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"loginInput",children:"Student Number or Email"}),(0,Uv.jsx)("input",{value:e,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",type:"text",id:"loginInput",placeholder:"Enter your student number or email",required:!0,disabled:o,autoComplete:"username"})]}),(0,Uv.jsxs)("div",{className:"mb-2",children:[(0,Uv.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"password",children:"Password"}),(0,Uv.jsx)("input",{value:r,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",type:"password",id:"password",placeholder:"Enter your password",required:!0,disabled:o,autoComplete:"current-password"})]}),(0,Uv.jsx)("div",{className:"text-right mb-4",children:(0,Uv.jsx)("button",{type:"button",onClick:()=>{i(""),h(""),m(""),u(!0)},className:"text-sm text-primary hover:underline disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:"Forgot Password?"})}),(0,Uv.jsx)("button",{className:"w-full bg-button text-white py-2 rounded-lg hover:bg-secondary  duration-200 transform transition-transform ease-out hover:scale-105 active:scale-95 motion-reduce:transform-none font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",type:"submit",disabled:o,children:o?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Logging in..."]}):"Log In"})]})}),c&&(0,Uv.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4 overflow-y-auto",children:(0,Uv.jsxs)("div",{className:"bg-white p-8 rounded-2xl w-full max-w-md shadow-2xl my-auto",children:[(0,Uv.jsx)("button",{onClick:v,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",disabled:p,children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})}),(0,Uv.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Recover Your Account"}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Enter your email or student number and we'll send you a password reset link."}),s&&(0,Uv.jsx)("div",{className:"mb-4 text-red-600 text-sm bg-red-50 border border-red-200 rounded-lg p-3",children:s}),d&&(0,Uv.jsx)("div",{className:"mb-4 text-green-600 text-sm bg-green-50 border border-green-200 rounded-lg p-3",children:d}),(0,Uv.jsxs)("div",{className:"mb-6",children:[(0,Uv.jsx)("label",{className:"block text-gray-700 mb-2 text-sm font-medium",children:"Email or Student Number"}),(0,Uv.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),placeholder:"e.g., 2024-001 or student@email.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm",disabled:p,autoComplete:"username"})]}),(0,Uv.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Uv.jsx)("button",{onClick:async()=>{i(""),h("");const e=f.trim();if(e){g(!0);try{let t="";if(e.includes("@")){const n=Xg(lg(jv,"users"),Jg("email","==",e.toLowerCase())),r=await hv(n);if(r.empty)return i("No account found with this email."),void g(!1);t=r.docs[0].data().email}else{const n=Xg(lg(jv,"users"),Jg("studentNo","==",e)),r=await hv(n);if(r.empty)return i("No account found with this student number."),void g(!1);if(t=r.docs[0].data().emailAddress,!t)return i("No email address found for this account."),void g(!1)}await Hs(kv,t),h("\u2713 Password reset link sent to ".concat(t)),m(""),setTimeout(()=>{v()},3e3)}catch(t){switch(console.error("Recovery error:",t),t.code){case"auth/user-not-found":i("No account found.");break;case"auth/invalid-email":i("Invalid email format.");break;case"auth/too-many-requests":i("Too many requests. Please try again later.");break;default:i("Failed to send recovery email. Please try again later.")}}finally{g(!1)}}else i("Please enter your email or student number first.")},className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 duration-200 font-bold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed text-sm",disabled:p||!f.trim(),children:p?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):"Send Reset Link"}),(0,Uv.jsx)("button",{onClick:v,className:"flex-1 bg-gray-300 text-gray-800 py-3 rounded-lg hover:bg-gray-400 duration-200 font-bold disabled:opacity-50 disabled:cursor-not-allowed text-sm",disabled:p,children:"Cancel"})]})]})})]})}function Oy(){const e=ge(),[n,r]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)("student"),[u,d]=(0,t.useState)("");return(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,Uv.jsxs)("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create an account"}),u&&(0,Uv.jsx)("div",{className:"mb-4 text-red-600",children:u}),(0,Uv.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d("");try{const t=(await Ws(kv,n,a)).user.uid;await fv(cg(jv,"users",t),{email:n,displayName:i,role:l,createdAt:(new Date).toISOString()}),e("teacher"===l?"/teacherdashboard":"/studentdashboard")}catch(r){console.error(r),d(r.message)}},children:[(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsx)("label",{className:"block mb-1",children:"Full name"}),(0,Uv.jsx)("input",{value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"Juan Dela Cruz"})]}),(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsx)("label",{className:"block mb-1",children:"Email"}),(0,Uv.jsx)("input",{value:n,onChange:e=>r(e.target.value),required:!0,type:"email",className:"w-full px-3 py-2 border rounded",placeholder:"you@example.com"})]}),(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsx)("label",{className:"block mb-1",children:"Password"}),(0,Uv.jsx)("input",{value:a,onChange:e=>s(e.target.value),required:!0,type:"password",className:"w-full px-3 py-2 border rounded",placeholder:"Choose a strong password"})]}),(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsx)("label",{className:"block mb-1",children:"Role"}),(0,Uv.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border rounded",children:[(0,Uv.jsx)("option",{value:"student",children:"Student"}),(0,Uv.jsx)("option",{value:"teacher",children:"Teacher"})]})]}),(0,Uv.jsx)("button",{className:"w-full bg-primary text-white py-2 rounded font-bold",type:"submit",children:"Sign up"})]}),(0,Uv.jsxs)("p",{className:"mt-4 text-center",children:["Already have an account? ",(0,Uv.jsx)(wt,{to:"/login",className:"text-primary font-bold",children:"Log in"})]})]})})}const Iy=Dv("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Py=Dv("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Dy=Dv("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ry=Dv("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),My=Dv("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ly=Dv("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),zy=Dv("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),Fy=Dv("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Uy=Dv("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),qy=Dv("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),By=Dv("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Vy=Dv("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Hy=Dv("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Wy=Dv("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Gy=Dv("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),Qy=Dv("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ky=Dv("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),Yy=Dv("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);function Xy(e){let{user:n,userDoc:r}=e;const[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),u=ge(),d=fe();(0,t.useEffect)(()=>{document.documentElement.style.setProperty("--sidebar-width",a?"80px":"288px")},[a]);const h=[{to:"/student",icon:Gy,label:"Dashboard"},{to:"/student/quizzes",icon:Qy,label:"Quizzes"},{to:"/student/performance",icon:Vy,label:"Performance"},{to:"/student/leaderboards",icon:Ky,label:"Leaderboards"}],f=e=>"/student"===e?"/student"===d.pathname:d.pathname.includes(e),m=(null===r||void 0===r?void 0:r.firstName)||(null===r||void 0===r?void 0:r.name)||"Student",p=((null===r||void 0===r?void 0:r.email)||(null===n||void 0===n||n.email),m.charAt(0).toUpperCase());return(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsxs)("div",{className:"fixed top-0 left-0 right-0 h-16 bg-gradient-to-r from-green-600 via-green-700 to-green-800 shadow-lg z-50 flex items-center justify-between px-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("button",{onClick:()=>{window.innerWidth<1024?o(!i):s(!a)},className:"text-white hover:bg-white/10 p-2 rounded-lg transition-all duration-200 hover:scale-105","aria-label":"Toggle sidebar",children:(0,Uv.jsx)(Rv,{size:24})}),(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"w-8 h-8"}),(0,Uv.jsx)("div",{className:"flex flex-col text-white",children:(0,Uv.jsx)("h1",{className:"text-lg font-bold font-Outfit leading-tight",children:"iQuizU"})})]})]}),(0,Uv.jsx)("div",{className:"flex items-center gap-2 sm:gap-4",children:(0,Uv.jsxs)("button",{onClick:()=>u("/student/profile"),className:"flex items-center gap-2 hover:bg-white/10 p-2 pr-3 rounded-lg transition-all duration-200 hover:scale-105",children:[(0,Uv.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-300 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg ring-2 ring-white/20",children:p}),(0,Uv.jsx)("span",{className:"text-white font-medium text-sm hidden md:block",children:m})]})})]}),(0,Uv.jsx)("div",{className:"fixed top-16 left-0 h-[calc(100vh-64px)] bg-gradient-to-br from-green-600 via-green-700 to-green-800 shadow-2xl transition-all duration-300 ease-in-out z-40\n        ".concat(i?"translate-x-0":"-translate-x-full lg:translate-x-0","\n        ").concat(a?"lg:w-20":"lg:w-72","\n        w-72"),children:(0,Uv.jsxs)("nav",{className:"flex flex-col py-6 space-y-3 overflow-y-auto h-full transition-all duration-300 ".concat(a?"px-2":"px-6"),children:[(0,Uv.jsx)("div",{className:"flex flex-col space-y-3",children:h.map(e=>(0,Uv.jsxs)(wt,{to:e.to,onClick:()=>{o(!1),f(e.to)&&window.dispatchEvent(new Event("refreshPage"))},title:a?e.label:"",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group ".concat(a?"justify-center py-3 hover:bg-white/10":"gap-4 px-4 py-3 hover:bg-white/10"," ").concat(f(e.to)?"bg-white/20 shadow-lg":""),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 to-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-6 h-6 group-hover:scale-110 transition-transform duration-300 ".concat(f(e.to)?"scale-110":""),children:(0,Uv.jsx)(e.icon,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(a?"opacity-0 max-w-0 overflow-hidden":"opacity-100 max-w-xs"),children:e.label})]},e.to))}),(0,Uv.jsx)("div",{className:"pt-4 pb-2",children:(0,Uv.jsx)("div",{className:"border-t border-white/20 rounded-full"})}),(0,Uv.jsxs)("button",{onClick:()=>{o(!1),c(!0)},title:a?"Logout":"",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group w-full ".concat(a?"justify-center py-3 hover:bg-red-500/30":"gap-4 px-4 py-3.5 hover:bg-red-500/30"),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/0 to-red-500/20 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-6 h-6 group-hover:scale-110 transition-transform duration-300",children:(0,Uv.jsx)(Yy,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(a?"opacity-0 max-w-0 overflow-hidden":"opacity-100 max-w-xs"),children:"Logout"})]})]})}),i&&(0,Uv.jsx)("div",{onClick:()=>o(!1),className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-30 lg:hidden transition-opacity top-16"}),l&&(0,Uv.jsx)("div",{className:"font-Outfit fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 transform animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Uv.jsx)("div",{className:"bg-red-100 p-4 rounded-full items-center justify-center flex",children:(0,Uv.jsx)(Yy,{className:"text-red-500",size:24})}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold text-title",children:"Confirm Logout"}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Are you sure you want to log out?"})]})]}),(0,Uv.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Uv.jsx)("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 active:scale-95 hover:scale-105 duration-200 transition font-semibold",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{try{await Qs(kv),u("/")}catch(e){console.error("Error logging out:",e),alert("Failed to logout. Please try again.")}},className:"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 active:scale-95 hover:scale-105 duration-200 transition font-semibold",children:"Log Out"})]})]})})]})}function $y(e){let{user:n,userDoc:r}=e;const a=ge(),s=fe(),[i,o]=(0,t.useState)("288px"),[l,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)({}),[w,N]=(0,t.useState)({totalQuizzes:0,completedQuizzes:0,asyncQuizzes:{completed:0,total:0,avgScore:0},syncQuizzes:{completed:0,total:0,avgScore:0},overallAvgScore:0});(0,t.useEffect)(()=>{n&&r&&(j(),k(),S())},[n,r]),(0,t.useEffect)(()=>{d.length>0&&E()},[d]);const S=()=>{const e={};Object.keys(localStorage).forEach(t=>{if(t.startsWith("quiz_progress_")){const r=t.replace("quiz_progress_","");try{const n=localStorage.getItem(t);if(n){const t=JSON.parse(n);e[r]={hasProgress:!0,answeredCount:Object.keys(t.answers||{}).length,currentIndex:t.currentQuestionIndex||0,timestamp:t.timestamp}}}catch(n){console.error("Error loading progress for ".concat(t,":"),n)}}}),b(e)},E=()=>{const e=d.filter(e=>"asynchronous"===e.quizMode),t=d.filter(e=>"synchronous"===e.quizMode),n=e.length>0?Math.round(e.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/e.length):0,r=t.length>0?Math.round(t.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/t.length):0,a=d.length>0?Math.round(d.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/d.length):0;N({totalQuizzes:d.length,completedQuizzes:d.length,asyncQuizzes:{completed:e.length,total:e.length,avgScore:n},syncQuizzes:{completed:t.length,total:t.length,avgScore:r},overallAvgScore:a})},k=async()=>{try{const e=kv.currentUser;if(!e)return void console.log("\u274c WALANG LOGGED IN USER");const t=Xg(lg(jv,"quizSubmissions"),Jg("studentId","==",e.uid)),n=await hv(t),r=[];n.forEach(e=>{const t=e.data();r.push(c({id:e.id},t))}),console.log("\u2705 QUIZ SUBMISSIONS FETCHED:",r.length),console.log("\ud83d\udcdd SUBMISSIONS DATA:",r),h(r)}catch(e){console.error("\u274c ERROR FETCHING SUBMISSIONS:",e)}},j=async()=>{m(!0);try{const e=kv.currentUser;if(!e)return void console.log("\u274c WALANG LOGGED IN USER");console.log("\u2705 LOGGED IN USER:",e.uid),console.log("\ud83d\udce7 EMAIL:",e.email);const t=Xg(lg(jv,"assignedQuizzes"),Jg("studentId","==",e.uid)),n=await hv(t);console.log("\ud83d\udce6 TOTAL DOCUMENTS NAKUHA:",n.size),0===n.size&&(console.log("\u26a0\ufe0f WALANG DOCUMENTS! Possible reasons:"),console.log("   - Hindi pa nag-assign ng quiz ang teacher"),console.log("   - Mali ang studentId sa database"),console.log("   - May permission issue sa Firestore rules"));const r=[];n.forEach(e=>{const t=e.data();var n;(console.log("\ud83d\udcc4 DOCUMENT ID:",e.id),console.log("   - quizTitle:",t.quizTitle),console.log("   - quizMode:",t.quizMode),console.log("   - studentId:",t.studentId),console.log("   - className:",t.className),console.log("   - status:",t.status),"asynchronous"===t.quizMode)?(console.log("   \u2705 ASYNCHRONOUS - IDADAGDAG SA LIST"),r.push({id:e.id,quizId:t.quizId,quizTitle:t.quizTitle||"Untitled Quiz",className:t.className||"Unknown Class",subject:t.subject||"",dueDate:t.dueDate,status:t.status||"pending",completed:t.completed||!1,score:t.score,base50ScorePercentage:t.base50ScorePercentage,attempts:t.attempts||0,maxAttempts:(null===(n=t.settings)||void 0===n?void 0:n.maxAttempts)||1,assignedAt:t.assignedAt,submittedAt:t.submittedAt,instructions:t.instructions||""})):console.log("   \u23ed\ufe0f HINDI ASYNCHRONOUS - SKIP")}),console.log("\u2705 FINAL COUNT NG ASYNCHRONOUS QUIZZES:",r.length),r.sort((e,t)=>e.completed!==t.completed?e.completed?1:-1:e.dueDate&&t.dueDate?new Date(e.dueDate)-new Date(t.dueDate):e.assignedAt&&t.assignedAt?(t.assignedAt.seconds||0)-(e.assignedAt.seconds||0):0),u(r)}catch(e){console.error("\u274c ERROR NANGYARI:",e),console.error("Error message:",e.message),console.error("Error code:",e.code)}finally{m(!1)}},T=async()=>{if(p.trim()){y(!0);try{const e=kv.currentUser;if(!e)return alert("Please log in first"),void a("/login");const t=Xg(lg(jv,"assignedQuizzes"),Jg("quizCode","==",p.toUpperCase().trim()),Jg("studentId","==",e.uid),Jg("quizMode","==","synchronous")),n=await hv(t);if(n.empty)return alert("\u274c Invalid quiz code or this quiz is not assigned to you!"),void y(!1);const r=n.docs[0].id;a("/student/take-sync-quiz/".concat(r))}catch(e){console.error("Error joining quiz:",e),alert("Error joining quiz. Please try again.")}finally{y(!1)}}else alert("Please enter a quiz code")},_=e=>{if(e.completed)return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Iy,{className:"w-3 h-3"})," Completed"]});if(e.dueDate){const t=new Date(e.dueDate),n=new Date;if(n>t)return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-red-100 text-red-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Py,{className:"w-3 h-3"})," Overdue"]});if(Math.ceil((t-n)/864e5)<=3)return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Dy,{className:"w-3 h-3"})," Due Soon"]})}return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Ry,{className:"w-3 h-3"})," Pending"]})},C=e=>{if(!e)return"No due date";return new Date(e).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},A=e=>{if(e.completed&&e.attempts>=e.maxAttempts)return!1;if(e.dueDate){const t=new Date(e.dueDate);return new Date<=t}return!0},O=e=>e>=85||e>=75?"text-green-600":e>=60?"text-yellow-600":"text-red-600";(0,t.useEffect)(()=>{const e=new MutationObserver(()=>{const e=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();e&&o(e)});e.observe(document.documentElement,{attributes:!0,attributeFilter:["style"]});const t=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();return t&&o(t),()=>e.disconnect()},[]);const I="/student"===s.pathname||"/student/"===s.pathname;return(0,Uv.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,Uv.jsx)(Xy,{user:n,userDoc:r}),(0,Uv.jsx)("div",{className:"flex-1 overflow-y-auto transition-all duration-300",style:{marginLeft:window.innerWidth>=1024?i:"0"},children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit animate-fadeIn",children:I?(0,Uv.jsxs)("div",{className:"py-6 md:p-8",children:[(0,Uv.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-title",children:["Welcome back, ",(null===r||void 0===r?void 0:r.firstName)||(null===r||void 0===r?void 0:r.name)||"Student","!"]}),(0,Uv.jsx)("p",{className:"text-md md:text-xl text-subtext",children:"Your dashboard is ready."}),(0,Uv.jsxs)("section",{className:"bg-gradient-to-r from-green-700 to-green-400 rounded-xl sm:rounded-2xl mt-4 md:mt-8 shadow-lg p-4 sm:p-6 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[(0,Uv.jsx)(My,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white flex-shrink-0"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white",children:"Join Synchronous Quiz"}),(0,Uv.jsx)("p",{className:"text-white text-xs sm:text-sm",children:"Enter the quiz code from your teacher"})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Uv.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value.toUpperCase()),onKeyPress:e=>"Enter"===e.key&&T(),placeholder:"Enter Quiz Code",maxLength:6,className:"flex-1 px-4 sm:px-6 py-3 sm:py-4 text-base sm:text-lg font-bold tracking-widest uppercase text-center border-2 sm:border-4 border-green-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 sm:focus:ring-4 focus:ring-green-400 focus:border-green-500 bg-white"}),(0,Uv.jsx)("button",{onClick:T,disabled:v||!p.trim(),className:"px-6 sm:px-8 py-3 sm:py-4 bg-white text-green-800 rounded-lg sm:rounded-xl font-bold text-base sm:text-lg hover:bg-yellow-50 transition disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin"}),(0,Uv.jsx)("span",{className:"hidden sm:inline",children:"Joining..."})]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(zy,{className:"w-5 h-5 sm:w-6 sm:h-6"}),(0,Uv.jsx)("span",{children:"Join Quiz"})]})})]}),(0,Uv.jsx)("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-green-900 bg-opacity-30 rounded-lg",children:(0,Uv.jsxs)("p",{className:"text-xs sm:text-sm text-white",children:[(0,Uv.jsx)("strong",{children:"Note:"})," Your teacher will provide you with a 6-character quiz code. Enter it above to join the synchronous quiz session."]})})]}),(0,Uv.jsxs)("section",{className:"bg-white rounded-xl sm:rounded-2xl shadow-md mt-4 md:mt-8 p-4 sm:p-6 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[(0,Uv.jsxs)("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,Uv.jsx)(Ry,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-green-600"}),(0,Uv.jsxs)("span",{className:"leading-tight",children:["Asynchronous Quizzes ",(0,Uv.jsx)("span",{className:"block sm:inline sm:ml-1 text-sm sm:text-base md:text-lg text-gray-600",children:"(Self-Paced)"})]})]}),l.length>0&&(0,Uv.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs sm:text-sm font-bold w-fit",children:[l.filter(e=>!e.completed).length," Pending"]})]}),f?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-8 sm:py-12",children:[(0,Uv.jsx)(Ly,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-green-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-sm sm:text-base text-gray-600",children:"Loading your quizzes..."})]}):0===l.length?(0,Uv.jsxs)("div",{className:"text-center py-8 sm:py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(Ry,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-base sm:text-lg",children:"No quizzes assigned yet"}),(0,Uv.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm mt-2",children:"Check back later for new assignments"})]}):(0,Uv.jsx)("div",{className:"space-y-3 sm:space-y-4",children:l.map(e=>{const t=(n=e.id,x[n]||null);var n;const r=(e=>{var t;return(null===(t=x[e])||void 0===t?void 0:t.hasProgress)||!1})(e.id);return(0,Uv.jsx)("div",{className:"border-2 rounded-lg sm:rounded-xl p-3 sm:p-5 transition-all ".concat(e.completed?"border-gray-200 bg-gray-50":"border-green-200 bg-white hover:shadow-md"),children:(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3 sm:gap-4",children:[(0,Uv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[(0,Uv.jsx)("h4",{className:"text-base sm:text-lg font-bold text-gray-800 truncate",children:e.quizTitle}),_(e)]}),(0,Uv.jsxs)("div",{className:"space-y-1 text-xs sm:text-sm text-gray-600 mb-3",children:[(0,Uv.jsxs)("p",{className:"flex flex-row gap-1 items-center font-semibold text-green-700 truncate",children:[(0,Uv.jsx)(Fy,{className:"w-4 h-4"})," ",e.className,e.subject&&" \u2022 ".concat(e.subject)]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,Uv.jsx)(Uy,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),(0,Uv.jsxs)("span",{className:"truncate",children:["Due: ",C(e.dueDate)]})]}),e.instructions&&(0,Uv.jsxs)("p",{className:"text-gray-500 italic mt-2 line-clamp-2",children:['"',e.instructions,'"']}),r&&!e.completed&&(0,Uv.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Uv.jsxs)("p",{className:"text-xs font-semibold text-yellow-800 flex items-center gap-1",children:[(0,Uv.jsx)(qy,{className:"w-3 h-3"}),"In Progress: ",t.answeredCount," questions answered"]})}),e.completed&&(0,Uv.jsxs)("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[(0,Uv.jsxs)("p",{className:"font-semibold ".concat(O(e.base50ScorePercentage)),children:["Score:"," ",null!==e.base50ScorePercentage?"".concat(e.base50ScorePercentage,"%"):"Grading"]}),(0,Uv.jsxs)("p",{className:"text-gray-500 text-xs",children:["Submitted:"," ",e.submittedAt?new Date(1e3*e.submittedAt.seconds).toLocaleDateString():"N/A"]})]}),!e.completed&&e.attempts>0&&(0,Uv.jsxs)("p",{className:"text-yellow-700 font-semibold",children:["Attempts: ",e.attempts," / ",e.maxAttempts]})]})]}),(0,Uv.jsx)("div",{className:"flex-shrink-0 w-full sm:w-auto",children:A(e)?(0,Uv.jsx)("button",{onClick:()=>{return t=e.id,void a("/student/take-assigned-quiz/".concat(t));var t},className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm sm:text-base transition ".concat(r?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"),children:r?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(qy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Resume Quiz"]}):e.attempts>0?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(By,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Retake"]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(By,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Start Quiz"]})}):e.completed?(0,Uv.jsxs)("button",{disabled:!0,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gray-300 text-gray-600 px-4 py-2 rounded-lg cursor-not-allowed font-semibold text-sm sm:text-base",children:[(0,Uv.jsx)(Iy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Completed"]}):(0,Uv.jsxs)("button",{disabled:!0,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-red-300 text-red-700 px-4 py-2 rounded-lg cursor-not-allowed font-semibold text-sm sm:text-base",children:[(0,Uv.jsx)(Py,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Expired"]})})]})},e.id)})})]}),(0,Uv.jsxs)("section",{className:"bg-white rounded-xl sm:rounded-2xl shadow-md p-4 sm:p-6 mt-4 md:mt-8 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-4 sm:mb-6",children:[(0,Uv.jsx)(Vy,{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-7 lg:h-7 text-green-600"}),(0,Uv.jsx)("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-800",children:"Your Quiz Performance"})]}),0===w.totalQuizzes?(0,Uv.jsxs)("div",{className:"text-center py-6 sm:py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(Hy,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Complete quizzes to see your performance"})]}):(0,Uv.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-4 sm:p-5 text-white",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-green-100 text-xs sm:text-sm font-semibold",children:"Overall Average"}),(0,Uv.jsxs)("p",{className:"text-3xl sm:text-4xl font-bold mt-1",children:[w.overallAvgScore,"%"]}),(0,Uv.jsxs)("p",{className:"text-green-100 text-xs mt-2",children:[w.totalQuizzes," quiz",1!==w.totalQuizzes?"zes":""," taken"]})]}),(0,Uv.jsx)(Hy,{className:"w-12 h-12 sm:w-16 sm:h-16 opacity-20"})]})}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[w.asyncQuizzes.completed>0&&(0,Uv.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4 border border-green-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(Wy,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),(0,Uv.jsx)("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm",children:"Self-Paced"})]}),(0,Uv.jsxs)("span",{className:"text-xl sm:text-2xl font-bold text-green-700",children:[w.asyncQuizzes.avgScore,"%"]})]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-600",children:[w.asyncQuizzes.completed," quiz",1!==w.asyncQuizzes.completed?"zes":""]})]}),w.syncQuizzes.completed>0&&(0,Uv.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-3 sm:p-4 border border-yellow-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-600"}),(0,Uv.jsx)("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm",children:"Synchronous Quiz"})]}),(0,Uv.jsxs)("span",{className:"text-xl sm:text-2xl font-bold text-yellow-700",children:[w.syncQuizzes.avgScore,"%"]})]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-600",children:[w.syncQuizzes.completed," quiz",1!==w.syncQuizzes.completed?"zes":""]})]})]}),d.length>0&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h4",{className:"text-xs sm:text-sm font-bold text-gray-800 mb-2 sm:mb-3",children:"Recent Quiz Scores"}),(0,Uv.jsx)("div",{className:"space-y-2 max-h-48 sm:max-h-64 overflow-y-auto",children:d.sort((e,t)=>{var n,r;const a=(null===(n=e.submittedAt)||void 0===n?void 0:n.seconds)||0;return((null===(r=t.submittedAt)||void 0===r?void 0:r.seconds)||0)-a}).map(e=>(0,Uv.jsxs)("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition",children:[(0,Uv.jsxs)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,Uv.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-gray-800 truncate",children:e.quizTitle||"Untitled Quiz"}),(0,Uv.jsxs)("div",{className:"flex flex-row items-center gap-1",children:["asynchronous"===e.quizMode?(0,Uv.jsx)(Wy,{className:"w-3 h-3 text-green-500"}):(0,Uv.jsx)(My,{className:"w-3 h-3 text-yellow-500"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500",children:"asynchronous"===e.quizMode?"Self-Paced":"Live"})]})]}),(0,Uv.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,Uv.jsxs)("p",{className:"text-base sm:text-lg font-bold ".concat(O(e.base50ScorePercentage)),children:[e.base50ScorePercentage,"%"]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-500",children:[e.correctPoints,"/",e.totalPoints," pts"]})]})]},e.id))})]})]})]})]}):(0,Uv.jsx)(Me,{})})})})]})}const Jy=Dv("circle-user-round",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Zy=Dv("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),ex=e=>{if(!e)return"";const t=e.toString().match(/^(\d+)/);return t?t[1]:e},tx=e=>{if(!e)return"-";const t=ex(e),n={1:"1st",2:"2nd",3:"3rd"};return n[t]?"".concat(n[t]," Year"):"".concat(t,"th Year")};function nx(e){let{user:n,userDoc:r}=e;const[a,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),h=(0,t.useRef)(null),[f,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),[x,b]=(0,t.useState)(""),[w,N]=(0,t.useState)(""),[S,E]=(0,t.useState)(""),[k,j]=(0,t.useState)(""),[T,_]=(0,t.useState)(""),[C,A]=(0,t.useState)(""),O=(null===r||void 0===r?void 0:r.name)||(null===n||void 0===n?void 0:n.displayName)||"Student",I=O&&O.charAt(0).toUpperCase()||"S",P=(null===r||void 0===r?void 0:r.id)||null;(0,t.useEffect)(()=>{console.log("=== STUDENT PROFILE DEBUG ==="),console.log("Auth UID:",null===n||void 0===n?void 0:n.uid),console.log("UserDoc ID:",P),console.log("UserDoc data:",r),console.log("Year:",null===r||void 0===r?void 0:r.year),console.log("Gender:",null===r||void 0===r?void 0:r.gender),console.log("Student No:",null===r||void 0===r?void 0:r.studentNo),console.log("============================"),m((null===r||void 0===r?void 0:r.name)||(null===n||void 0===n?void 0:n.displayName)||""),g((null===r||void 0===r?void 0:r.program)||""),y((null===r||void 0===r?void 0:r.emailAddress)||(null===n||void 0===n?void 0:n.email)||""),b((null===r||void 0===r?void 0:r.contactNo)||""),N((null===r||void 0===r?void 0:r.bio)||""),E((null===r||void 0===r?void 0:r.photoURL)||""),j(ex(null===r||void 0===r?void 0:r.year)||""),_((null===r||void 0===r?void 0:r.gender)||""),A((null===r||void 0===r?void 0:r.studentNo)||""),s(!1)},[n,r,P]);return a?(0,Uv.jsxs)("div",{className:"min-h-screen flex items-center justify-center font-Outfit",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-accent"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading\u2026"})]}):P?(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,Uv.jsx)(Jy,{className:"w-8 h-8 text-accent mb-6"}),(0,Uv.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold text-title flex items-center gap-2",children:"Profile"}),(0,Uv.jsx)("p",{className:"text-md font-light text-subtext",children:"Your personal profile and academic details."})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mt-2 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"bg-components p-6 rounded-2xl shadow-md w-full",children:[(0,Uv.jsx)("h2",{className:"text-xl md:text-2xl text-title font-semibold",children:"User Information"}),i?(0,Uv.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Student No:"}),(0,Uv.jsx)("input",{type:"text",value:C,disabled:!0,className:"border p-2 rounded-xl w-full bg-gray-100 cursor-not-allowed",title:"Student number cannot be changed"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Full Name:"}),(0,Uv.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),className:"border p-2 rounded-xl w-full"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Program:"}),(0,Uv.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),className:"border p-2 rounded-xl w-full"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Year Level:"}),(0,Uv.jsxs)("select",{value:k,onChange:e=>j(e.target.value),className:"border p-2 rounded-xl w-full",children:[(0,Uv.jsx)("option",{value:"",children:"Select Year"}),(0,Uv.jsx)("option",{value:"1",children:"1st Year"}),(0,Uv.jsx)("option",{value:"2",children:"2nd Year"}),(0,Uv.jsx)("option",{value:"3",children:"3rd Year"}),(0,Uv.jsx)("option",{value:"4",children:"4th Year"}),(0,Uv.jsx)("option",{value:"5",children:"5th Year"})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Gender:"}),(0,Uv.jsxs)("select",{value:T,onChange:e=>_(e.target.value),className:"border p-2 rounded-xl w-full",children:[(0,Uv.jsx)("option",{value:"",children:"Select Gender"}),(0,Uv.jsx)("option",{value:"Male",children:"Male"}),(0,Uv.jsx)("option",{value:"Female",children:"Female"}),(0,Uv.jsx)("option",{value:"Other",children:"Other"}),(0,Uv.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Email Address:"}),(0,Uv.jsx)("input",{type:"email",value:v,onChange:e=>y(e.target.value),className:"border p-2 rounded-xl w-full"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Phone:"}),(0,Uv.jsx)("input",{type:"text",value:x,onChange:e=>b(e.target.value),className:"border p-2 rounded-xl w-full"})]})]}):(0,Uv.jsxs)("div",{className:"mt-4 space-y-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Student No:"}),(0,Uv.jsx)("span",{className:"font-medium",children:C||"-"})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Full Name:"}),(0,Uv.jsx)("span",{className:"font-medium",children:f||O})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Program:"}),(0,Uv.jsx)("span",{className:"font-medium",children:p||"-"})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Year Level:"}),(0,Uv.jsx)("span",{className:"font-medium",children:tx(k)})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Gender:"}),(0,Uv.jsx)("span",{className:"font-medium",children:T||"-"})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Email Address:"}),(0,Uv.jsx)("span",{className:"font-medium",children:v||"-"})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Phone:"}),(0,Uv.jsx)("span",{className:"font-medium",children:x||"-"})]})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col p-10 gap-4 items-center rounded-3xl bg-components shadow-md",children:[S?(0,Uv.jsx)("img",{src:S,alt:"Profile",className:"w-52 h-52 rounded-full object-cover shadow-lg ring-2 ring-white/20"}):(0,Uv.jsx)("div",{className:"w-52 h-52 text-8xl bg-gradient-to-br from-green-300 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white/20",children:I}),(0,Uv.jsx)("input",{type:"file",ref:h,onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n)if(n.type.startsWith("image/"))if(n.size>512e3)alert("File size must be less than 500KB. Please use a smaller image.");else if(P)try{c(!0),console.log("Starting upload..."),console.log("Using Document ID:",P),console.log("File size:",n.size,"bytes");const e=await(e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)}))(n);console.log("Base64 conversion success, length:",e.length);const t=cg(jv,"users",P);if(!(await uv(t)).exists())throw console.error("Document does not exist!"),new Error("User document not found");console.log("Updating existing document..."),await mv(t,{photoURL:e}),console.log("Firestore update success!"),E(e),alert("Profile photo updated successfully!")}catch(r){console.error("FULL ERROR:",r),console.error("Error code:",r.code),console.error("Error message:",r.message);let e="Failed to upload photo. ";"permission-denied"===r.code?e+="Permission denied. Check Firestore rules.":r.message.includes("not found")?e+="User document not found.":e+=r.message,alert(e)}finally{c(!1)}else alert("\u274c User document not found. Please refresh the page.");else alert("Please select an image file")},accept:"image/*",className:"hidden"}),(0,Uv.jsx)("button",{onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},disabled:l,className:"bg-button px-6 py-4 rounded-xl text-base text-white font-semibold hover:bg-buttonHover transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:l?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):"Change Profile Photo"})]})]}),(0,Uv.jsxs)("div",{className:"flex gap-3 flex-wrap animate-slideIn",children:[(0,Uv.jsx)("button",{className:"bg-button px-4 py-2 rounded-lg text-white font-semibold hover:bg-buttonHover transition mt-4",onClick:()=>{i?(async()=>{if(P)try{const e=cg(jv,"users",P);if(!(await uv(e)).exists())throw console.error("Document does not exist!"),new Error("User document not found");await mv(e,{name:f,program:p,emailAddress:v,contactNo:x,bio:w,year:k,gender:T,studentNo:C}),alert("Profile updated successfully!"),o(!1)}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")}else alert("\u274c User document not found. Please refresh the page.")})():o(!0)},children:i?"Save Changes":"Edit Profile"}),i&&(0,Uv.jsx)("button",{className:"bg-gray-300 px-4 py-2 rounded-lg text-gray-700 font-semibold hover:bg-gray-400 transition mt-4",onClick:()=>{o(!1),m((null===r||void 0===r?void 0:r.name)||(null===n||void 0===n?void 0:n.displayName)||""),g((null===r||void 0===r?void 0:r.program)||""),y((null===r||void 0===r?void 0:r.emailAddress)||(null===n||void 0===n?void 0:n.email)||""),b((null===r||void 0===r?void 0:r.contactNo)||""),N((null===r||void 0===r?void 0:r.bio)||""),j(ex(null===r||void 0===r?void 0:r.year)||""),_((null===r||void 0===r?void 0:r.gender)||""),A((null===r||void 0===r?void 0:r.studentNo)||"")},children:"Cancel"}),(0,Uv.jsx)("button",{className:"bg-orange-500 px-4 py-2 rounded-lg text-white font-semibold hover:bg-orange-700 transition mt-4 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:async()=>{const e=(null===n||void 0===n?void 0:n.email)||v;if(!e)return void alert("\u274c No email address found. Please add an email to your profile first.");if(window.confirm("A password reset link will be sent to:\n".concat(e,"\n\nDo you want to continue?")))try{d(!0),await Hs(kv,e),alert("\u2705 Password reset email sent to ".concat(e,"\n\nPlease check your inbox and spam folder. Click the link in the email to reset your password."))}catch(t){console.error("Error sending password reset email:",t);let e="Failed to send password reset email. ";"auth/user-not-found"===t.code?e+="No account found with this email.":"auth/invalid-email"===t.code?e+="Invalid email address.":"auth/too-many-requests"===t.code?e+="Too many requests. Please try again later.":e+=t.message,alert(e)}finally{d(!1)}},disabled:u,children:u?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Zy,{className:"w-4 h-4"}),"Change Password"]})})]})]}):(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center font-Outfit",children:(0,Uv.jsxs)("div",{className:"text-center",children:[(0,Uv.jsx)("p",{className:"text-red-500 font-semibold mb-4",children:"\u274c User document not found"}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Please contact your administrator or try logging in again."})]})})}const rx=Dv("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),ax=Dv("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function sx(e){let{user:n,userDoc:r}=e;const a=ge(),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(!0),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)({}),[b,w]=(0,t.useState)({totalQuizzes:0,completedQuizzes:0,asyncQuizzes:{completed:0,total:0,avgScore:0},syncQuizzes:{completed:0,total:0,avgScore:0},overallAvgScore:0});(0,t.useEffect)(()=>{n&&r&&(k(),E(),N())},[n,r]),(0,t.useEffect)(()=>{u.length>0&&S()},[u]);const N=()=>{const e={};Object.keys(localStorage).forEach(t=>{if(t.startsWith("quiz_progress_")){const r=t.replace("quiz_progress_","");try{const n=localStorage.getItem(t);if(n){const t=JSON.parse(n);e[r]={hasProgress:!0,answeredCount:Object.keys(t.answers||{}).length,currentIndex:t.currentQuestionIndex||0,timestamp:t.timestamp}}}catch(n){console.error("Error loading progress for ".concat(t,":"),n)}}}),x(e)},S=()=>{const e=u.filter(e=>"asynchronous"===e.quizMode),t=u.filter(e=>"synchronous"===e.quizMode),n=e.length>0?Math.round(e.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/e.length):0,r=t.length>0?Math.round(t.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/t.length):0,a=u.length>0?Math.round(u.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/u.length):0;w({totalQuizzes:u.length,completedQuizzes:u.length,asyncQuizzes:{completed:e.length,total:e.length,avgScore:n},syncQuizzes:{completed:t.length,total:t.length,avgScore:r},overallAvgScore:a})},E=async()=>{try{const e=kv.currentUser;if(!e)return void console.log("\u274c WALANG LOGGED IN USER");const t=Xg(lg(jv,"quizSubmissions"),Jg("studentId","==",e.uid)),n=await hv(t),r=[];n.forEach(e=>{const t=e.data();r.push(c({id:e.id},t))}),console.log("\u2705 QUIZ SUBMISSIONS FETCHED:",r.length),console.log("\ud83d\udcdd SUBMISSIONS DATA:",r),d(r)}catch(e){console.error("\u274c ERROR FETCHING SUBMISSIONS:",e)}},k=async()=>{f(!0);try{const e=kv.currentUser;if(!e)return void console.log("\u274c WALANG LOGGED IN USER");console.log("\u2705 LOGGED IN USER:",e.uid),console.log("\ud83d\udce7 EMAIL:",e.email);const t=Xg(lg(jv,"assignedQuizzes"),Jg("studentId","==",e.uid)),n=await hv(t);console.log("\ud83d\udce6 TOTAL DOCUMENTS NAKUHA:",n.size),0===n.size&&(console.log("\u26a0\ufe0f WALANG DOCUMENTS! Possible reasons:"),console.log("   - Hindi pa nag-assign ng quiz ang teacher"),console.log("   - Mali ang studentId sa database"),console.log("   - May permission issue sa Firestore rules"));const r=[],a=[];n.forEach(e=>{var t;const n=e.data();console.log("\ud83d\udcc4 DOCUMENT ID:",e.id),console.log("   - quizTitle:",n.quizTitle),console.log("   - quizMode:",n.quizMode),console.log("   - studentId:",n.studentId),console.log("   - className:",n.className),console.log("   - status:",n.status);const s={id:e.id,quizId:n.quizId,quizTitle:n.quizTitle||"Untitled Quiz",className:n.className||"Unknown Class",subject:n.subject||"",dueDate:n.dueDate,status:n.status||"pending",completed:n.completed||!1,score:n.score,base50ScorePercentage:n.base50ScorePercentage,attempts:n.attempts||0,maxAttempts:(null===(t=n.settings)||void 0===t?void 0:t.maxAttempts)||1,assignedAt:n.assignedAt,submittedAt:n.submittedAt,instructions:n.instructions||"",quizCode:n.quizCode||"",quizMode:n.quizMode};"asynchronous"===n.quizMode?(console.log("   \u2705 ASYNCHRONOUS - IDADAGDAG SA ASYNC LIST"),r.push(s)):"synchronous"===n.quizMode?(console.log("   \u2705 SYNCHRONOUS - IDADAGDAG SA SYNC LIST"),a.push(s)):console.log("   \u23ed\ufe0f UNKNOWN MODE - SKIP")}),console.log("\u2705 FINAL COUNT NG ASYNCHRONOUS QUIZZES:",r.length),console.log("\u2705 FINAL COUNT NG SYNCHRONOUS QUIZZES:",a.length);const s=e=>e.sort((e,t)=>e.completed!==t.completed?e.completed?1:-1:e.dueDate&&t.dueDate?new Date(e.dueDate)-new Date(t.dueDate):e.assignedAt&&t.assignedAt?(t.assignedAt.seconds||0)-(e.assignedAt.seconds||0):0);i(s(r)),l(s(a))}catch(e){console.error("\u274c ERROR NANGYARI:",e),console.error("Error message:",e.message),console.error("Error code:",e.code)}finally{f(!1)}},j=e=>{if(e.completed)return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Iy,{className:"w-3 h-3"}),(0,Uv.jsx)("span",{className:"hidden sm:inline",children:"Completed"}),(0,Uv.jsx)("span",{className:"sm:hidden",children:"Done"})]});if(e.dueDate){const t=new Date(e.dueDate),n=new Date;if(n>t)return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-red-100 text-red-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Py,{className:"w-3 h-3"})," Overdue"]});if(Math.ceil((t-n)/864e5)<=3)return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Dy,{className:"w-3 h-3"}),(0,Uv.jsx)("span",{className:"hidden sm:inline",children:"Due Soon"}),(0,Uv.jsx)("span",{className:"sm:hidden",children:"Soon"})]})}return(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 sm:px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full whitespace-nowrap",children:[(0,Uv.jsx)(Ry,{className:"w-3 h-3"})," Pending"]})},T=e=>{if(!e)return"No due date";return new Date(e).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})},_=e=>{if(e.completed&&e.attempts>=e.maxAttempts)return!1;if(e.dueDate){const t=new Date(e.dueDate);return new Date<=t}return!0},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(r=e.id,y[r]||null);var r;const s=(e=>{var t;return(null===(t=y[e])||void 0===t?void 0:t.hasProgress)||!1})(e.id);return(0,Uv.jsx)("div",{className:"border-2 rounded-lg sm:rounded-xl p-4 sm:p-5 transition-all ".concat(e.completed?"border-gray-200 bg-gray-50":"border-green-200 bg-white hover:shadow-md"),children:(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[(0,Uv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 mb-2 flex-wrap",children:[(0,Uv.jsx)("h4",{className:"text-base sm:text-lg font-bold text-gray-800 break-words flex-1 min-w-0",children:e.quizTitle}),(0,Uv.jsx)("div",{className:"flex-shrink-0",children:j(e)})]}),(0,Uv.jsxs)("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm text-gray-600 mb-3",children:[(0,Uv.jsxs)("p",{className:"flex flex-row items-center gap-1.5 font-semibold text-green-700 break-words",children:[(0,Uv.jsx)(Fy,{className:"w-4 h-4 text-green-700"}),e.className,e.subject&&" \u2022 ".concat(e.subject)]}),t&&e.quizCode&&(0,Uv.jsxs)("div",{className:"flex items-center gap-1.5 font-semibold text-green-700",children:[(0,Uv.jsx)(rx,{className:"w-4 h-4"}),(0,Uv.jsxs)("span",{children:["Code: ",e.quizCode]})]}),(0,Uv.jsxs)("div",{className:"flex items-start sm:items-center gap-1.5 text-gray-600",children:[(0,Uv.jsx)(Uy,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0 mt-0.5 sm:mt-0"}),(0,Uv.jsxs)("span",{className:"break-words",children:["Due: ",T(e.dueDate)]})]}),e.instructions&&(0,Uv.jsxs)("p",{className:"text-gray-500 italic mt-2 break-words leading-relaxed",children:['"',e.instructions,'"']}),s&&!e.completed&&!t&&(0,Uv.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Uv.jsxs)("p",{className:"text-xs font-semibold text-yellow-800 flex items-center gap-1",children:[(0,Uv.jsx)(qy,{className:"w-3 h-3"}),"In Progress: ",n.answeredCount," questions answered"]})}),e.completed&&(0,Uv.jsxs)("div",{className:"mt-2 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[(0,Uv.jsxs)("p",{className:"font-semibold ".concat((i=e.base50ScorePercentage,i>=85||i>=75?"text-green-600":i>=60?"text-yellow-600":"text-red-600")),children:["Score:"," ",null!==e.base50ScorePercentage?"".concat(e.base50ScorePercentage,"%"):"Grading"]}),(0,Uv.jsxs)("p",{className:"text-gray-500 text-xs sm:text-sm",children:["Submitted:"," ",e.submittedAt?new Date(1e3*e.submittedAt.seconds).toLocaleDateString():"N/A"]})]}),!e.completed&&e.attempts>0&&(0,Uv.jsxs)("p",{className:"text-yellow-700 font-semibold text-xs sm:text-sm",children:["Attempts: ",e.attempts," / ",e.maxAttempts]})]})]}),(0,Uv.jsx)("div",{className:"flex-shrink-0 w-full sm:w-auto",children:_(e)?(0,Uv.jsx)("button",{onClick:()=>{return t?(n=e.id,void a("/student/take-sync-quiz/".concat(n))):(e=>{a("/student/take-assigned-quiz/".concat(e))})(e.id);var n},className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2.5 sm:py-2 rounded-lg font-semibold text-sm sm:text-base transition ".concat(s&&!t?"bg-yellow-600 text-white hover:bg-yellow-700 active:bg-yellow-800":"bg-green-600 text-white hover:bg-green-700 active:bg-green-800"),children:s&&!t?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(qy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Resume Quiz"]}):e.attempts>0?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(By,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Retake"]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(By,{className:"w-4 h-4 sm:w-5 sm:h-5"}),t?"Join Quiz":"Start Quiz"]})}):e.completed?(0,Uv.jsxs)("button",{disabled:!0,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gray-300 text-gray-600 px-4 py-2.5 sm:py-2 rounded-lg cursor-not-allowed font-semibold text-sm sm:text-base",children:[(0,Uv.jsx)(Iy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Completed"]}):(0,Uv.jsxs)("button",{disabled:!0,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-red-300 text-red-700 px-4 py-2.5 sm:py-2 rounded-lg cursor-not-allowed font-semibold text-sm sm:text-base",children:[(0,Uv.jsx)(Py,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Expired"]})})]})},e.id);var i};return(0,Uv.jsxs)("div",{className:"px-3 py-4 sm:px-4 sm:py-6 md:p-8 font-Outfit min-h-screen animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-row items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,Uv.jsx)(Qy,{className:"text-green-500 w-6 h-6 sm:w-8 sm:h-8"}),(0,Uv.jsxs)("div",{className:"flex flex-col",children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold text-title",children:"Quizzes"}),(0,Uv.jsx)("p",{className:"text-md font-light text-subtext",children:"View your assigned quizzes here."})]})]}),(0,Uv.jsxs)("section",{className:"bg-components rounded-xl sm:rounded-2xl shadow-md p-4 sm:p-6 mb-6 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[(0,Uv.jsxs)("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,Uv.jsx)(Ry,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-green-600 flex-shrink-0"}),(0,Uv.jsxs)("span",{className:"leading-tight",children:["Asynchronous Quizzes",(0,Uv.jsx)("span",{className:"block sm:inline sm:ml-1 text-sm sm:text-base md:text-lg text-gray-600",children:"(Self-Paced)"})]})]}),s.length>0&&(0,Uv.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs sm:text-sm font-bold self-start sm:self-auto whitespace-nowrap",children:[s.filter(e=>!e.completed).length," Pending"]})]}),h?(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center py-8 sm:py-12 gap-2",children:[(0,Uv.jsx)(Ly,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-green-600"}),(0,Uv.jsx)("span",{className:"text-sm sm:text-base text-gray-600",children:"Loading your quizzes..."})]}):0===s.length?(0,Uv.jsxs)("div",{className:"text-center py-8 sm:py-12 bg-gray-50 rounded-lg sm:rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(Ry,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-base sm:text-lg font-medium",children:"No quizzes assigned yet"}),(0,Uv.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm mt-2 px-4",children:"Check back later for new assignments"})]}):(0,Uv.jsx)("div",{className:"space-y-3 sm:space-y-4",children:s.map(e=>C(e,!1))})]}),(0,Uv.jsxs)("section",{className:"bg-components rounded-xl sm:rounded-2xl shadow-md p-4 sm:p-6 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[(0,Uv.jsxs)("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,Uv.jsx)(ax,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-green-600 flex-shrink-0"}),(0,Uv.jsxs)("span",{className:"leading-tight",children:["Synchronous Quizzes",(0,Uv.jsx)("span",{className:"block sm:inline sm:ml-1 text-sm sm:text-base md:text-lg text-gray-600",children:"(Real-Time)"})]})]}),o.length>0&&(0,Uv.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs sm:text-sm font-bold self-start sm:self-auto whitespace-nowrap",children:[o.filter(e=>!e.completed).length," Pending"]})]}),h?(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center py-8 sm:py-12 gap-2",children:[(0,Uv.jsx)(Ly,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-spin text-green-600"}),(0,Uv.jsx)("span",{className:"text-sm sm:text-base text-gray-600",children:"Loading live quizzes..."})]}):0===o.length?(0,Uv.jsxs)("div",{className:"text-center py-8 sm:py-12 bg-gray-50 rounded-lg sm:rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(ax,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-base sm:text-lg font-medium",children:"No live quizzes assigned yet"}),(0,Uv.jsx)("p",{className:"text-gray-400 text-xs sm:text-sm mt-2 px-4",children:"Your teacher will assign live quizzes for real-time participation"})]}):(0,Uv.jsx)("div",{className:"space-y-3 sm:space-y-4",children:o.map(e=>C(e,!0))})]})]})}var ix=n(7119);const ox=Dv("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),lx=Dv("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),cx=Dv("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function ux(e){let{user:n,userDoc:r}=e;const a=ge(),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)({totalQuizzes:0,completedQuizzes:0,asyncQuizzes:{completed:0,total:0,avgScore:0},syncQuizzes:{completed:0,total:0,avgScore:0},overallAvgScore:0});(0,t.useEffect)(()=>{w(!0)},[]),(0,t.useEffect)(()=>{n&&r&&(j(),k())},[n,r]),(0,t.useEffect)(()=>{o.length>0&&E()},[o]);const E=()=>{const e=o.filter(e=>"asynchronous"===e.quizMode),t=o.filter(e=>"synchronous"===e.quizMode),n=e.length>0?Math.round(e.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/e.length):0,r=t.length>0?Math.round(t.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/t.length):0,a=o.length>0?Math.round(o.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/o.length):0;S({totalQuizzes:o.length,completedQuizzes:o.length,asyncQuizzes:{completed:e.length,total:e.length,avgScore:n},syncQuizzes:{completed:t.length,total:t.length,avgScore:r},overallAvgScore:a})},k=async()=>{try{const e=kv.currentUser;if(!e)return void console.log("\u274c WALANG LOGGED IN USER");const t=Xg(lg(jv,"quizSubmissions"),Jg("studentId","==",e.uid)),n=await hv(t),r=[];n.forEach(e=>{const t=e.data();r.push(c({id:e.id},t))}),console.log("\u2705 QUIZ SUBMISSIONS FETCHED:",r.length),l(r)}catch(e){console.error("\u274c ERROR FETCHING SUBMISSIONS:",e)}},j=async()=>{d(!0);try{const e=kv.currentUser;if(!e)return void console.log("\u274c WALANG LOGGED IN USER");const t=Xg(lg(jv,"assignedQuizzes"),Jg("studentId","==",e.uid)),n=await hv(t),r=[];n.forEach(e=>{const t=e.data();var n;"asynchronous"===t.quizMode&&r.push({id:e.id,quizId:t.quizId,quizTitle:t.quizTitle||"Untitled Quiz",className:t.className||"Unknown Class",subject:t.subject||"",dueDate:t.dueDate,status:t.status||"pending",completed:t.completed||!1,score:t.score,base50ScorePercentage:t.base50ScorePercentage,attempts:t.attempts||0,maxAttempts:(null===(n=t.settings)||void 0===n?void 0:n.maxAttempts)||1,assignedAt:t.assignedAt,submittedAt:t.submittedAt,instructions:t.instructions||""})}),r.sort((e,t)=>e.completed!==t.completed?e.completed?1:-1:e.dueDate&&t.dueDate?new Date(e.dueDate)-new Date(t.dueDate):0),i(r)}catch(e){console.error("\u274c ERROR FETCHING QUIZZES:",e)}finally{d(!1)}},T=e=>e>=85||e>=75?"text-green-600":e>=60?"text-yellow-600":"text-red-600";return u?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:" p-6 md:p-8 flex flex-row items-center justify-center gap-3",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-green-500"}),(0,Uv.jsx)("p",{className:"text-subtext text-sm md:text-base",children:"Loading student performance..."})]})}):(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,Uv.jsx)(Vy,{className:"text-green-500 w-8 h-8 mb-6"}),(0,Uv.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold text-title",children:"Performance"}),(0,Uv.jsx)("p",{className:"text-md font-light text-subtext",children:"View your recent performance here."})]})]}),(0,Uv.jsx)("section",{className:"bg-components rounded-2xl shadow-md p-6 animate-slideIn",children:0===N.totalQuizzes?(0,Uv.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(Hy,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500",children:"Complete quizzes to see your performance"})]}):(0,Uv.jsxs)("div",{className:"space-y-4 animate-slideIn",children:[(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-400 rounded-xl p-5 text-white",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-white text-sm font-semibold",children:"Overall Average"}),(0,Uv.jsxs)("p",{className:"text-4xl font-bold mt-1",children:[N.overallAvgScore,"%"]}),(0,Uv.jsxs)("p",{className:"text-white text-xs mt-2",children:[N.totalQuizzes," quiz",1!==N.totalQuizzes?"zes":""," taken"]})]}),(0,Uv.jsx)(Hy,{className:"w-16 h-16 opacity-50 mr-4 animate-bounceIn"})]})}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[N.asyncQuizzes.completed>0&&(0,Uv.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(Wy,{className:"w-5 h-5 text-green-600"}),(0,Uv.jsx)("span",{className:"font-semibold text-gray-800 text-sm",children:"Asynchronous Quiz"})]}),(0,Uv.jsxs)("span",{className:"text-2xl font-bold text-green-700",children:[N.asyncQuizzes.avgScore,"%"]})]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-600",children:[N.asyncQuizzes.completed," quiz",1!==N.asyncQuizzes.completed?"zes":""]})]}),N.syncQuizzes.completed>0&&(0,Uv.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-5 h-5 text-yellow-600"}),(0,Uv.jsx)("span",{className:"font-semibold text-gray-800 text-sm",children:"Synchronous Quiz"})]}),(0,Uv.jsxs)("span",{className:"text-2xl font-bold text-yellow-700",children:[N.syncQuizzes.avgScore,"%"]})]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-600",children:[N.syncQuizzes.completed," quiz",1!==N.syncQuizzes.completed?"zes":""]})]})]}),o.length>0&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h4",{className:"text-sm font-bold text-gray-800 mb-3",children:"Quiz History"}),(0,Uv.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:o.sort((e,t)=>{var n,r;const a=(null===(n=e.submittedAt)||void 0===n?void 0:n.seconds)||0;return((null===(r=t.submittedAt)||void 0===r?void 0:r.seconds)||0)-a}).map((e,t)=>{return(0,Uv.jsxs)("div",{onClick:()=>(e=>{v(e),x(!0)})(e),className:"flex items-center justify-between p-4 rounded-lg border-2 transition cursor-pointer hover:shadow-lg hover:border-green-300 ".concat((n=e.base50ScorePercentage||0,n>=85||n>=75?"bg-green-50":n>=60?"bg-yellow-50":"bg-red-50")," border-gray-200"),children:[(0,Uv.jsxs)("div",{className:"flex-1 min-w-0 pr-4",children:[(0,Uv.jsx)("p",{className:"text-sm font-bold text-gray-900 mb-1",children:e.quizTitle||"Quiz #".concat(t+1)}),(0,Uv.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-gray-600",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-1",children:["asynchronous"===e.quizMode?(0,Uv.jsx)(Wy,{className:"w-3 h-3 text-green-600"}):(0,Uv.jsx)(My,{className:"w-3 h-3 text-yellow-600"}),(0,Uv.jsx)("span",{className:"font-medium",children:"asynchronous"===e.quizMode?"Asynchronous":"Synchronous"})]}),e.className&&(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,Uv.jsx)("span",{children:e.className})]}),e.submittedAt&&(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2022"}),(0,Uv.jsx)("span",{className:"text-gray-500",children:new Date(1e3*e.submittedAt.seconds).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),(0,Uv.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,Uv.jsxs)("p",{className:"text-2xl font-bold ".concat(T(e.base50ScorePercentage||0)),children:[e.base50ScorePercentage||0,"%"]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-600 font-medium mt-1",children:[e.correctPoints||0,"/",e.totalPoints||0," pts"]})]})]},e.id);var n})})]})]})}),b&&y&&g&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 backdrop-blur-sm animate-fadeIn font-Outfit",children:(0,Uv.jsxs)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"bg-white animate-slideUp rounded-2xl shadow-2xl w-[98vw] sm:w-[95vw] md:w-full md:max-w-4xl max-h-[92vh] overflow-y-auto [&::-webkit-scrollbar]:hidden",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-green-800 to-green-500 p-6 text-white sticky top-0 z-10 flex items-center justify-between",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(ox,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold",children:g.quizTitle}),(0,Uv.jsx)("p",{className:"text-indigo-100 text-sm",children:g.className})]})]}),(0,Uv.jsx)("button",{onClick:()=>x(!1),className:"hover:bg-green-700 hover:bg-opacity-20 p-2 rounded-lg transition",children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})})]}),(0,Uv.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border-2 border-green-200",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600 font-semibold mb-1",children:"Final Score"}),(0,Uv.jsxs)("p",{className:"text-3xl font-bold ".concat(T(g.base50ScorePercentage)),children:[g.base50ScorePercentage,"%"]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:g.remark})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border-2 border-green-200",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600 font-semibold mb-1",children:"Raw Score"}),(0,Uv.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[g.rawScorePercentage,"%"]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[g.correctPoints,"/",g.totalPoints]})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border-2 border-green-200",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600 font-semibold mb-1",children:"Questions"}),(0,Uv.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:g.totalQuestions}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Total Items"})]})]}),(0,Uv.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"font-semibold text-gray-700",children:"Submitted:"}),(0,Uv.jsx)("span",{className:"text-gray-600",children:g.submittedAt?new Date(1e3*g.submittedAt.seconds).toLocaleString("en-PH"):"N/A"})]}),(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"font-semibold text-gray-700",children:"Quiz Mode:"}),(0,Uv.jsx)("span",{className:"text-gray-600 capitalize",children:g.quizMode})]}),(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"font-semibold text-gray-700",children:"Subject:"}),(0,Uv.jsx)("span",{className:"text-gray-600",children:g.subject||"N/A"})]})]}),g.recommendations&&g.recommendations.length>0&&(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-50 p-4 rounded-lg border-2 border-purple-100",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Uv.jsx)(lx,{className:"w-5 h-5 text-purple-500"}),(0,Uv.jsx)("h3",{className:"font-bold text-title",children:"AI Study Recommendations"}),(0,Uv.jsxs)("span",{className:"ml-auto text-xs bg-purple-400 text-white px-2 py-1 rounded-full",children:[g.recommendations.length," Tips"]})]}),(0,Uv.jsx)("p",{className:"text-xs text-subtext mb-3",children:"Personalized based on your performance"}),(0,Uv.jsx)("div",{className:"space-y-2",children:g.recommendations.map((e,t)=>(0,Uv.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg border-l-4 border-purple-400 hover:shadow-md transition",children:[(0,Uv.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-purple-500 to-purple-400 text-white rounded-full flex items-center justify-center font-bold text-xs flex-none",children:t+1}),(0,Uv.jsx)("p",{className:"text-sm text-subtext leading-relaxed pt-0.5",children:e})]},t))})]})]}),(0,Uv.jsxs)("div",{className:"bg-gray-50 p-6 border-t flex gap-3",children:[(0,Uv.jsx)("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 bg-gray-300 hover:bg-gray-400  active:scale-95 hover:scale-105 text-title font-bold rounded-lg transition",children:"Close"}),(0,Uv.jsxs)("button",{onClick:()=>{x(!1),a("/student")},className:"flex-1 px-4 py-2 bg-button hover:bg-buttonHover  active:scale-95 hover:scale-105 text-white font-bold rounded-lg transition flex items-center justify-center gap-2",children:["Back to Dashboard",(0,Uv.jsx)(cx,{className:"w-4 h-4"})]})]})]})}),document.body)]})}const dx=Dv("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),hx=Dv("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),fx=Dv("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),mx=Dv("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),px=Dv("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),gx=Dv("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),vx=Dv("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),yx=Dv("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function xx(e){var n;let{user:r,userDoc:a}=e;const[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)("all"),[h,f]=(0,t.useState)("all"),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)("all"),[b,w]=(0,t.useState)([]),[N,S]=(0,t.useState)(null),[E,k]=(0,t.useState)(!1),[j,T]=(0,t.useState)(null);(0,t.useEffect)(()=>{null!==a&&void 0!==a&&a.classIds&&Array.isArray(a.classIds)&&v(a.classIds)},[a]),(0,t.useEffect)(()=>{g.length>0?_():i(!1)},[g,u,h,y]);const _=async()=>{i(!0),S(null);try{const e=[];let t;g.length>0&&e.push(Jg("classId","in",g)),t=e.length>0?Xg(lg(jv,"quizSubmissions"),...e):lg(jv,"quizSubmissions");let n=(await hv(t)).docs.map(e=>c({id:e.id},e.data()));if("all"!==u&&""!==u&&(n=n.filter(e=>e.className===u)),"all"!==y&&(n=n.filter(e=>(e.quizMode||"asynchronous")===y)),"all"!==h){const e=new Date;let t;"today"===h?t=new Date(e.getFullYear(),e.getMonth(),e.getDate()):"week"===h?t=new Date(e.getTime()-6048e5):"month"===h&&(t=new Date(e.getFullYear(),e.getMonth(),1)),t&&(n=n.filter(e=>{if(!e.submittedAt)return!1;return(e.submittedAt.toDate?e.submittedAt.toDate():new Date(e.submittedAt))>=t}))}const r=[...new Set(n.map(e=>e.className).filter(Boolean))];w(r);const a={};n.forEach(e=>{const t=e.studentId;if(!t)return;const n=e.quizMode||"asynchronous",r=parseInt(e.base50ScorePercentage)||0,s=parseInt(e.correctPoints)||0;a[t]||(a[t]={studentId:t,studentName:e.studentName||"Unknown Student",studentNo:e.studentNo||"",className:e.className||"Unknown Class",synchronous:{bestScore:0,avgScore:0,totalQuizzes:0,totalPoints:0,scores:[]},asynchronous:{bestScore:0,avgScore:0,totalQuizzes:0,totalPoints:0,scores:[]}});const i=a[t][n];i.scores.push(r),i.totalQuizzes+=1,i.totalPoints+=s,i.bestScore=Math.max(i.bestScore,r),i.avgScore=Math.round(i.scores.reduce((e,t)=>e+t,0)/i.totalQuizzes)});let s=Object.values(a).map(e=>{const t=e.synchronous.totalQuizzes,n=e.asynchronous.totalQuizzes,r=[...e.synchronous.scores,...e.asynchronous.scores];return c(c({},e),{},{overallBestScore:Math.max(e.synchronous.bestScore||0,e.asynchronous.bestScore||0),overallAvgScore:r.length>0?Math.round(r.reduce((e,t)=>e+t,0)/r.length):0,totalSubmissions:t+n,totalPoints:e.synchronous.totalPoints+e.asynchronous.totalPoints})}).filter(e=>e.totalSubmissions>0).sort((e,t)=>t.overallBestScore!==e.overallBestScore?t.overallBestScore-e.overallBestScore:t.overallAvgScore-e.overallAvgScore).map((e,t)=>c(c({},e),{},{rank:t+1}));l(s)}catch(N){console.error("Error fetching leaderboard:",N),S(N.message)}finally{i(!1)}},C=e=>1===e?(0,Uv.jsx)(dx,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-100"}):2===e?(0,Uv.jsx)(hx,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-100"}):3===e?(0,Uv.jsx)(hx,{className:"w-5 h-5 md:w-6 md:h-6 text-orange-100"}):(0,Uv.jsxs)("span",{className:"text-sm md:text-lg font-bold text-gray-600",children:["#",e]}),A=e=>1===e?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white shadow-lg":2===e?"bg-gradient-to-r from-gray-300 to-gray-500 text-white shadow-lg":3===e?"bg-gradient-to-r from-orange-400 to-orange-600 text-white shadow-lg":"bg-gray-100 text-gray-700",O=e=>e>=90||e>=80?"text-green-600 bg-green-50 border-green-200":e>=75?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",I=o.filter(e=>{var t,n,r;if(!m)return!0;const a=m.toLowerCase();return(null===(t=e.studentName)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(n=e.studentNo)||void 0===n?void 0:n.toLowerCase().includes(a))||(null===(r=e.className)||void 0===r?void 0:r.toLowerCase().includes(a))}).slice(0,5);return s?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:" p-6 md:p-8 flex flex-row items-center justify-center gap-2",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-green-500"}),(0,Uv.jsx)("p",{className:"text-subtext text-sm md:text-base",children:"Loading leaderboard..."})]})}):0===g.length?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:"bg-components p-6 md:p-8 rounded-2xl shadow-2xl max-w-md text-center animate-fadeIn",children:[(0,Uv.jsx)(fx,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"No Class Enrolled"}),(0,Uv.jsx)("p",{className:"text-sm md:text-base text-gray-600",children:"You need to be enrolled in a class to view the leaderboard."})]})}):N?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:"bg-components p-6 md:p-8 rounded-2xl shadow-2xl max-w-md text-center",children:[(0,Uv.jsxs)("p",{className:"text-red-600 mb-4 text-sm md:text-base",children:["Error: ",N]}),(0,Uv.jsx)("button",{onClick:_,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition transform hover:scale-105",children:"Try Again"})]})}):(0,Uv.jsx)("div",{className:"min-h-screen p-3 md:p-6 font-Outfit",children:(0,Uv.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Uv.jsxs)("div",{className:"bg-components rounded-2xl md:rounded-3xl shadow-xl overflow-hidden mb-4 md:mb-6 animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-green-700 to-green-500 p-4 md:p-8 text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 md:gap-4 mb-4",children:[(0,Uv.jsx)(Ky,{className:"w-8 h-8 md:w-12 md:h-12 animate-bounceIn"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold",children:"Class Leaderboard"}),(0,Uv.jsx)("p",{className:"text-md font-light",children:"Your Class Rankings & Performance"})]})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mt-4 md:mt-6",children:[(0,Uv.jsx)("div",{className:"bg-components bg-opacity-20 backdrop-blur-sm rounded-xl p-3 md:p-4 animate-slideIn stagger-1 hover:bg-opacity-30 transition transform hover:scale-105",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,Uv.jsx)(fx,{className:"w-6 h-6 md:w-8 md:h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-xs md:text-sm opacity-90",children:"Total Students"}),(0,Uv.jsx)("p",{className:"text-xl md:text-2xl font-bold",children:o.length})]})]})}),(0,Uv.jsx)("div",{className:"bg-components bg-opacity-20 backdrop-blur-sm rounded-xl p-3 md:p-4 animate-slideIn stagger-2 hover:bg-opacity-30 transition transform hover:scale-105",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,Uv.jsx)(Hy,{className:"w-6 h-6 md:w-8 md:h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-xs md:text-sm opacity-90",children:"Class Average"}),(0,Uv.jsxs)("p",{className:"text-xl md:text-2xl font-bold",children:[o.length>0?Math.round(o.reduce((e,t)=>e+t.overallAvgScore,0)/o.length):0,"%"]})]})]})}),(0,Uv.jsx)("div",{className:"bg-components bg-opacity-20 backdrop-blur-sm rounded-xl p-3 md:p-4 animate-slideIn stagger-3 hover:bg-opacity-30 transition transform hover:scale-105",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2 md:gap-3",children:[(0,Uv.jsx)(mx,{className:"w-6 h-6 md:w-8 md:h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-xs md:text-sm opacity-90",children:"Top Score"}),(0,Uv.jsxs)("p",{className:"text-xl md:text-2xl font-bold",children:[o.length>0?null===(n=o[0])||void 0===n?void 0:n.overallBestScore:0,"%"]})]})]})})]})]}),(0,Uv.jsxs)("div",{className:"p-4 md:p-6 bg-gray-50 border-b",children:[(0,Uv.jsxs)("button",{onClick:()=>k(!E),className:"md:hidden w-full flex items-center justify-between bg-white p-3 rounded-lg shadow-sm mb-3 hover:shadow-md transition",children:[(0,Uv.jsxs)("span",{className:"flex items-center gap-2 font-semibold text-gray-700",children:[(0,Uv.jsx)(px,{className:"w-5 h-5"}),"Filters"]}),E?(0,Uv.jsx)(Mv,{className:"w-5 h-5"}):(0,Uv.jsx)(gx,{className:"w-5 h-5"})]}),(0,Uv.jsxs)("div",{className:"relative mb-3 md:mb-0",children:[(0,Uv.jsx)(vx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-gray-400"}),(0,Uv.jsx)("input",{type:"text",placeholder:"Search students...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-9 md:pl-10 pr-4 py-2 md:py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm md:text-base transition"})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mt-3 md:mt-4 ".concat(E?"block":"hidden"," md:block"),children:[(0,Uv.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"px-3 md:px-4 py-2 md:py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm md:text-base transition hover:border-green-300",children:[(0,Uv.jsx)("option",{value:"all",children:"All Classes"}),b.map(e=>(0,Uv.jsx)("option",{value:e,children:e||"No Class"},e))]}),(0,Uv.jsxs)("select",{value:y,onChange:e=>x(e.target.value),className:"px-3 md:px-4 py-2 md:py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm md:text-base transition hover:border-green-300",children:[(0,Uv.jsx)("option",{value:"all",children:"All Quiz Types"}),(0,Uv.jsx)("option",{value:"synchronous",children:"Live Quizzes"}),(0,Uv.jsx)("option",{value:"asynchronous",children:"Self-Paced Quizzes"})]}),(0,Uv.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"px-3 md:px-4 py-2 md:py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm md:text-base transition hover:border-green-300",children:[(0,Uv.jsx)("option",{value:"all",children:"All Time"}),(0,Uv.jsx)("option",{value:"today",children:"Today"}),(0,Uv.jsx)("option",{value:"week",children:"This Week"}),(0,Uv.jsx)("option",{value:"month",children:"This Month"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-3xl shadow-xl overflow-hidden animate-fadeIn",children:[(0,Uv.jsx)("div",{className:"p-4 md:p-6 bg-gradient-to-r from-green-700 to-green-500 text-white",children:(0,Uv.jsxs)("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[(0,Uv.jsx)(Hy,{className:"w-5 h-5 md:w-6 md:h-6"}),"Top 5 Rankings"]})}),0===I.length?(0,Uv.jsxs)("div",{className:"p-8 md:p-12 text-center",children:[(0,Uv.jsx)(Ky,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600 text-base md:text-lg",children:"No quiz submissions yet"}),(0,Uv.jsx)("p",{className:"text-xs md:text-sm text-gray-500 mt-2",children:"Complete quizzes to appear on the leaderboard!"})]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Rank"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Student"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Class"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Uv.jsx)(yx,{className:"w-4 h-4"}),"Live Best"]})}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Uv.jsx)(My,{className:"w-4 h-4"}),"Self-Paced Best"]})}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Overall Avg"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Live Quizzes"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Self-Paced"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Total Points"})]})}),(0,Uv.jsx)("tbody",{className:"divide-y divide-gray-200",children:I.map((e,t)=>(0,Uv.jsxs)("tr",{style:{animationDelay:"".concat(.05*t,"s")},className:"hover:bg-gray-50 transition-all duration-200 animate-fadeIn ".concat(e.studentId===(null===r||void 0===r?void 0:r.uid)?"bg-gray-50 hover:bg-gray-100":""),children:[(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full ".concat(A(e.rank)," transition transform hover:scale-110"),children:C(e.rank)})}),(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("p",{className:"font-semibold text-gray-800",children:[e.studentName,e.studentId===(null===r||void 0===r?void 0:r.uid)&&(0,Uv.jsx)("span",{className:"ml-2 text-xs bg-green-700 text-white px-2 py-1 rounded-full animate-pulse",children:"You"})]}),e.studentNo&&(0,Uv.jsx)("p",{className:"text-sm text-gray-500",children:e.studentNo})]})}),(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsx)("p",{className:"text-sm text-gray-700",children:e.className})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsx)("span",{className:"inline-block px-4 py-2 rounded-lg font-bold border transition transform hover:scale-105 ".concat(e.synchronous.bestScore>0?O(e.synchronous.bestScore):"text-gray-400 bg-gray-50 border-gray-200"),children:e.synchronous.bestScore>0?e.synchronous.bestScore+"%":"-"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsx)("span",{className:"inline-block px-4 py-2 rounded-lg font-bold border transition transform hover:scale-105 ".concat(e.asynchronous.bestScore>0?O(e.asynchronous.bestScore):"text-gray-400 bg-gray-50 border-gray-200"),children:e.asynchronous.bestScore>0?e.asynchronous.bestScore+"%":"-"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsxs)("span",{className:"text-gray-700 font-semibold",children:[e.overallAvgScore,"%"]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsx)("span",{className:"text-sm text-gray-600",children:e.synchronous.totalQuizzes})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsx)("span",{className:"text-sm text-gray-600",children:e.asynchronous.totalQuizzes})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsx)("span",{className:"text-green-700 font-bold",children:e.totalPoints})})]},e.studentId))})]})}),(0,Uv.jsx)("div",{className:"lg:hidden divide-y divide-gray-200",children:I.map((e,t)=>(0,Uv.jsxs)("div",{style:{animationDelay:"".concat(.05*t,"s")},className:"p-4 animate-fadeIn ".concat(e.studentId===(null===r||void 0===r?void 0:r.uid)?"bg-green-50":""),children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Uv.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center w-12 h-12 rounded-full ".concat(A(e.rank)," transition transform hover:scale-110"),children:C(e.rank)}),(0,Uv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Uv.jsxs)("p",{className:"font-bold text-gray-800 truncate",children:[e.studentName,e.studentId===(null===r||void 0===r?void 0:r.uid)&&(0,Uv.jsx)("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded-full",children:"You"})]}),e.studentNo&&(0,Uv.jsx)("p",{className:"text-xs text-gray-500",children:e.studentNo}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:e.className})]}),(0,Uv.jsx)("button",{onClick:()=>T(j===e.studentId?null:e.studentId),className:"flex-shrink-0 p-2 hover:bg-gray-100 rounded-lg transition",children:(0,Uv.jsx)(gx,{className:"w-5 h-5 text-gray-600 transition-transform ".concat(j===e.studentId?"rotate-180":"")})})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,Uv.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,Uv.jsxs)("p",{className:"text-xs text-gray-600 mb-1 flex items-center gap-1",children:[(0,Uv.jsx)(yx,{className:"w-3 h-3"})," Live Best"]}),(0,Uv.jsx)("p",{className:"text-lg font-bold ".concat(e.synchronous.bestScore>0?e.synchronous.bestScore>=90||e.synchronous.bestScore>=75?"text-green-600":"text-yellow-600":"text-gray-400"),children:e.synchronous.bestScore>0?e.synchronous.bestScore+"%":"-"})]}),(0,Uv.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2",children:[(0,Uv.jsxs)("p",{className:"text-xs text-gray-600 mb-1 flex items-center gap-1",children:[(0,Uv.jsx)(My,{className:"w-3 h-3"})," Self-Paced Best"]}),(0,Uv.jsx)("p",{className:"text-lg font-bold ".concat(e.asynchronous.bestScore>0?e.asynchronous.bestScore>=90||e.asynchronous.bestScore>=75?"text-green-600":"text-yellow-600":"text-gray-400"),children:e.asynchronous.bestScore>0?e.asynchronous.bestScore+"%":"-"})]})]}),j===e.studentId&&(0,Uv.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-3 border-t border-gray-200 animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Overall Avg"}),(0,Uv.jsxs)("p",{className:"text-lg font-bold text-gray-800",children:[e.overallAvgScore,"%"]})]}),(0,Uv.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Total Points"}),(0,Uv.jsx)("p",{className:"text-lg font-bold text-green-700",children:e.totalPoints})]}),(0,Uv.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Live Quizzes"}),(0,Uv.jsx)("p",{className:"text-lg font-bold text-gray-800",children:e.synchronous.totalQuizzes})]}),(0,Uv.jsxs)("div",{className:"text-center p-2 bg-yellow-50 rounded-lg",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Self-Paced"}),(0,Uv.jsx)("p",{className:"text-lg font-bold text-gray-800",children:e.asynchronous.totalQuizzes})]})]})]},e.studentId))}),(0,Uv.jsx)("div",{className:"hidden md:block lg:hidden overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Rank"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Student"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Best Score"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Avg"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Total"})]})}),(0,Uv.jsx)("tbody",{className:"divide-y divide-gray-200",children:I.map((e,t)=>(0,Uv.jsxs)("tr",{style:{animationDelay:"".concat(.05*t,"s")},className:"hover:bg-gray-50 transition-all duration-200 animate-fadeIn ".concat(e.studentId===(null===r||void 0===r?void 0:r.uid)?"bg-green-50 hover:bg-green-100":""),children:[(0,Uv.jsx)("td",{className:"px-4 py-3",children:(0,Uv.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full ".concat(A(e.rank)," transition transform hover:scale-110"),children:C(e.rank)})}),(0,Uv.jsx)("td",{className:"px-4 py-3",children:(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("p",{className:"font-semibold text-gray-800 text-sm",children:[e.studentName,e.studentId===(null===r||void 0===r?void 0:r.uid)&&(0,Uv.jsx)("span",{className:"ml-2 text-xs bg-green-600 text-white px-2 py-0.5 rounded-full",children:"You"})]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500",children:e.className})]})}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Uv.jsxs)("span",{className:"inline-block px-3 py-1.5 rounded-lg font-bold text-sm border transition transform hover:scale-105 ".concat(O(e.overallBestScore)),children:[e.overallBestScore,"%"]})}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Uv.jsxs)("span",{className:"text-gray-700 font-semibold text-sm",children:[e.overallAvgScore,"%"]})}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-center",children:(0,Uv.jsx)("span",{className:"text-green-700 font-bold text-sm",children:e.totalPoints})})]},e.studentId))})]})})]})]})]})})}const bx=Dv("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),wx=Dv("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Nx=Dv("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Sx=Dv("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ex=Dv("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),kx=Dv("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),jx=Dv("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function Tx(e){let{quiz:n={title:"Sample Quiz"},assignment:r={subject:"General",className:"Class A"},quizResults:a={correctPoints:45,totalPoints:50,base50ScorePercentage:95,rawScorePercentage:90,totalQuestions:50},questions:s=[],answers:i=[],onNavigate:o=()=>{}}=e;const l=ge(),{assignmentId:u}=ye(),[d,h]=(0,t.useState)([]),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{S(),setTimeout(()=>g(!0),300),setTimeout(()=>y(!0),600)},[]),(0,t.useEffect)(()=>{f||w()},[f]);const w=async()=>{b(!0);try{const e=kv.currentUser;if(!e)return void console.error("\u274c No logged-in user");const t={studentId:e.uid,studentEmail:e.email,assignmentId:u||"",quizId:n.id||"",quizTitle:n.title||"Untitled Quiz",className:r.className||"Unknown Class",subject:r.subject||"",correctPoints:a.correctPoints||0,totalPoints:a.totalPoints||50,base50ScorePercentage:a.base50ScorePercentage||0,rawScorePercentage:a.rawScorePercentage||0,totalQuestions:a.totalQuestions||s.length,quizMode:r.quizMode||"asynchronous",submittedAt:Nv(),questionsAndAnswers:s.map((e,t)=>({questionId:e.id||t,question:e.question,type:e.type,correctAnswer:j(e),studentAnswer:i[t]||"Not answered",isCorrect:k(e,i[t]),explanation:e.explanation||""})),recommendations:d,remark:N(a.base50ScorePercentage||75).text,feedbackMetadata:{totalRecommendations:d.length,scoreLevel:A(),generatedAt:Nv(),analysisType:"AI Generated"}},o=lg(jv,"quizSubmissions"),l=Xg(o,Jg("studentId","==",e.uid),Jg("assignmentId","==",u)),h=await hv(l);if(h.empty){const e=await gv(o,t);if(console.log("\u2705 Quiz submission saved with ID:",e.id),u){const e=cg(jv,"assignedQuizzes",u);await mv(e,{completed:!0,status:"submitted",submittedAt:Nv(),score:a.base50ScorePercentage,base50ScorePercentage:a.base50ScorePercentage,attempts:(r.attempts||0)+1})}}else{const e=h.docs[0].id,n=cg(jv,"quizSubmissions",e);await mv(n,c(c({},t),{},{updatedAt:Nv()})),console.log("\u2705 Quiz submission updated")}}catch(e){console.error("\u274c Error saving quiz results:",e)}finally{b(!1)}},N=e=>e>=90?{text:"Excellent!",color:"text-green-600"}:e>=85?{text:"Very Good!",color:"text-blue-600"}:e>=80?{text:"Good!",color:"text-indigo-600"}:e>=75?{text:"Passed",color:"text-yellow-600"}:{text:"Needs Improvement",color:"text-red-600"},S=async()=>{m(!0);try{var e,t,n,r;const a=E(),s="AIzaSyDNUrZCkDGD7pWODktEr7d9c7VgbeQGn60";if(!s){console.warn("REACT_APP_GEMINI_API_KEY not found. Using fallback recommendations.");const e=C(a);return h(e),void m(!1)}const i=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:T(a)}]}],generationConfig:{temperature:.7,maxOutputTokens:1500,topP:.95,topK:40}})});if(!i.ok){const e=await i.json();throw console.error("API Error ".concat(i.status,":"),e),new Error("API Error: ".concat(i.status))}const o=await i.json();if(!o.candidates||null===(e=o.candidates[0])||void 0===e||null===(t=e.content)||void 0===t||null===(n=t.parts)||void 0===n||null===(r=n[0])||void 0===r||!r.text)throw new Error("Invalid API response format");{const e=o.candidates[0].content.parts[0].text,t=_(e);h(t.length>0?t:C(a))}}catch(a){console.error("Error generating recommendations:",a);const e=E(),t=C(e);h(t)}finally{m(!1)}},E=()=>{const e={allQuestions:[],correctAnswers:0,incorrectAnswers:0,scorePercentage:a.rawScorePercentage||0};return 0===s.length?(e.allQuestions=[{question:"What is the capital of France?",correctAnswer:"Paris",studentAnswer:"Paris",isCorrect:!0,type:"identification"},{question:"Is the Earth flat?",correctAnswer:"False",studentAnswer:"True",isCorrect:!1,type:"true_false"},{question:"Which is the largest planet?",correctAnswer:"Jupiter",studentAnswer:"Saturn",isCorrect:!1,type:"multiple_choice"}],e.correctAnswers=1,e.incorrectAnswers=2,e):(s.forEach((t,n)=>{const r=i[n],a=k(t,r);e.allQuestions.push({question:t.question,correctAnswer:j(t),studentAnswer:r||"Not answered",isCorrect:a,type:t.type}),a?e.correctAnswers++:e.incorrectAnswers++}),e)},k=(e,t)=>{if(!t)return!1;if("multiple_choice"===e.type){var n;const r=null===(n=e.choices)||void 0===n?void 0:n.find(e=>e.is_correct);return r&&t===r.text}return"true_false"===e.type?t.toLowerCase()===e.correct_answer.toLowerCase():"identification"===e.type&&t.toLowerCase().trim()===e.correct_answer.toLowerCase().trim()},j=e=>{if("multiple_choice"===e.type){var t;const n=null===(t=e.choices)||void 0===t?void 0:t.find(e=>e.is_correct);return(null===n||void 0===n?void 0:n.text)||"N/A"}return e.correct_answer||"N/A"},T=e=>"You are an educational AI assistant. Analyze this quiz performance and provide SPECIFIC, actionable study recommendations.\n\nQuiz: ".concat(n.title,"\nSubject: ").concat(r.subject||"General","\nScore: ").concat(e.scorePercentage,"% (").concat(e.correctAnswers,"/").concat(e.allQuestions.length," correct)\n\nSTUDENT'S QUIZ PERFORMANCE:\n").concat(e.allQuestions.map((e,t)=>"Question ".concat(t+1,': "').concat(e.question,'"\nCorrect Answer: "').concat(e.correctAnswer,'"\nStudent\'s Answer: "').concat(e.studentAnswer,'"\nResult: ').concat(e.isCorrect?"\u2713 CORRECT":"\u2717 INCORRECT")).join("\n\n"),'\n\nTASK: Generate 5-8 SPECIFIC study recommendations based on the questions above.\n\nREQUIREMENTS:\n1. Each recommendation must reference actual topics/concepts from the quiz\n2. Focus on topics the student got WRONG\n3. Also include 1-2 recommendations to reinforce topics they got RIGHT\n4. Make recommendations actionable and specific\n5. Include study methods (e.g., "memorize", "practice", "understand the process of", etc.)\n\nFormat: Provide ONLY a numbered list with no extra text. Each line should be exactly:\n1. [Specific recommendation about actual content from the quiz]\n2. [Next recommendation]\netc.\n\nExample format:\n1. Review the definition and characteristics of photosynthesis, focusing on light-dependent reactions\n2. Practice identifying capital cities, starting with European countries\n3. Study the process of cell division (mitosis vs meiosis) with diagrams\n4. Memorize the periodic table elements with atomic numbers 1-20\n5. Understand the causes and effects of the French Revolution\n\nNow generate recommendations for this student:'),_=e=>{const t=e.split("\n").filter(e=>e.trim()),n=[];return t.forEach(e=>{const t=e.trim().match(/^(\d+\.|[-\u2022])\s+(.+)/);if(t&&t[2]){const e=t[2].trim();e.length>15&&n.push(e)}}),n},C=e=>{const t=[],n=e.allQuestions.filter(e=>!e.isCorrect),r=e.allQuestions.filter(e=>e.isCorrect);return n.slice(0,4).forEach((e,n)=>{"Not answered"!==e.correctAnswer&&t.push('Study "'.concat(e.correctAnswer,'" - understand why this is the correct answer to: "').concat(e.question,'"'))}),r.length>0&&r.slice(0,2).forEach(e=>{e.correctAnswer&&t.push('Continue mastering "'.concat(e.correctAnswer,'" - you answered this correctly, deepen your understanding'))}),e.incorrectAnswers>3&&(t.push("Review all topics covered in this quiz systematically"),t.push("Create a summary sheet of key concepts and definitions"),t.push("Practice similar questions to reinforce your learning")),t.slice(0,10)},A=()=>{const e=a.base50ScorePercentage||75;return e>=90?{level:"Master",color:"from-yellow-400 to-yellow-600",icon:"\ud83c\udfc6",bg:"bg-yellow-50",border:"border-yellow-300"}:e>=80?{level:"Expert",color:"from-blue-400 to-blue-600",icon:"\u2b50",bg:"bg-blue-50",border:"border-blue-300"}:e>=70?{level:"Proficient",color:"from-green-400 to-green-600",icon:"\u2713",bg:"bg-green-50",border:"border-green-300"}:e>=60?{level:"Developing",color:"from-purple-400 to-purple-600",icon:"\ud83d\udcda",bg:"bg-purple-50",border:"border-purple-300"}:{level:"Beginner",color:"from-orange-400 to-orange-600",icon:"\ud83d\udca1",bg:"bg-orange-50",border:"border-orange-300"}},O=A(),I=N(a.base50ScorePercentage||75);return(0,Uv.jsxs)("div",{className:"min-h-screen px-2 py-6 md:p-16 font-Outfit bg-gray-50",children:[(0,Uv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Uv.jsxs)("button",{onClick:()=>l(-1),className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-700 font-semibold mb-4 transition",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"}),"Back"]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden mb-4 sm:mb-6 animate-fadeInDown",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r ".concat(O.color," p-6 sm:p-8 md:p-10 text-white relative overflow-hidden"),children:[(0,Uv.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 sm:w-48 sm:h-48 bg-white opacity-10 rounded-full -mr-16 -mt-16 animate-pulse"}),(0,Uv.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 sm:w-40 sm:h-40 bg-white opacity-10 rounded-full -ml-12 -mb-12 animate-pulse delay-300"}),(0,Uv.jsxs)("div",{className:"text-center relative z-10",children:[(0,Uv.jsx)("div",{className:"text-5xl sm:text-6xl md:text-7xl mb-3 sm:mb-4 animate-bounceIn",children:O.icon}),(0,Uv.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 animate-slideInUp",children:"Quiz Complete!"}),(0,Uv.jsx)("p",{className:"text-base sm:text-lg md:text-xl opacity-90 mb-3 animate-slideInUp delay-100",children:n.title}),(0,Uv.jsx)("div",{className:"mt-4 inline-block px-4 sm:px-6 py-2 bg-white bg-opacity-20 rounded-full backdrop-blur-sm animate-slideInUp delay-200",children:(0,Uv.jsx)("span",{className:"text-xs sm:text-sm font-semibold",children:r.className})})]})]}),(0,Uv.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,Uv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 mb-4 sm:mb-6 transition-all duration-700 ".concat(p?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[(0,Uv.jsx)("div",{className:"".concat(O.bg," border-2 ").concat(O.border," rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:col-span-2 transform hover:scale-105 transition-transform duration-300"),children:(0,Uv.jsxs)("div",{className:"text-center space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-semibold mb-2",children:"Your Examination Score"}),(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Uv.jsx)("span",{className:"text-3xl sm:text-4xl font-bold text-gray-800",children:a.correctPoints||0}),(0,Uv.jsx)("span",{className:"text-2xl sm:text-3xl text-gray-500",children:"/"}),(0,Uv.jsx)("span",{className:"text-3xl sm:text-4xl font-bold text-gray-800",children:a.totalPoints||50})]})]}),(0,Uv.jsxs)("div",{className:"border-t border-gray-300 pt-3",children:[(0,Uv.jsxs)("p",{className:"text-4xl sm:text-5xl font-bold text-gray-800 mb-2",children:[(a.base50ScorePercentage||75).toFixed(1),"%"]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600 font-semibold mb-1",children:"Equivalent Grade"}),(0,Uv.jsxs)("p",{className:"text-lg sm:text-xl font-bold",children:["Mark: ",(0,Uv.jsx)("span",{className:I.color,children:I.text})]})]})]})}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 border-2 border-gray-200 rounded-xl sm:rounded-2xl p-4 sm:p-6 transform hover:scale-105 transition-transform duration-300",children:[(0,Uv.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-semibold mb-1",children:"Raw Score"}),(0,Uv.jsxs)("p",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-1 animate-countUp",children:[a.rawScorePercentage||75,"%"]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500",children:"Before transmutation"})]})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 transition-all duration-700 delay-300 ".concat(p?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[(0,Uv.jsxs)("div",{className:"text-center p-3 sm:p-4 bg-gray-50 rounded-lg sm:rounded-xl transform hover:scale-110 transition-transform duration-300",children:[(0,Uv.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:a.totalQuestions||50}),(0,Uv.jsx)("div",{className:"text-xs text-gray-600 font-medium mt-1",children:"Questions"})]}),(0,Uv.jsxs)("div",{className:"text-center p-3 sm:p-4 bg-green-50 rounded-lg sm:rounded-xl transform hover:scale-110 transition-transform duration-300",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,Uv.jsx)(Sx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),(0,Uv.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:a.correctPoints||0})]}),(0,Uv.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Correct"})]}),(0,Uv.jsxs)("div",{className:"text-center p-3 sm:p-4 bg-red-50 rounded-lg sm:rounded-xl transform hover:scale-110 transition-transform duration-300",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-1",children:[(0,Uv.jsx)(bx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"}),(0,Uv.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-red-600",children:(a.totalPoints||50)-(a.correctPoints||0)})]}),(0,Uv.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Incorrect"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-xl overflow-hidden mb-4 sm:mb-6 transition-all duration-700 ".concat(v?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 sm:p-6 text-white relative overflow-hidden",children:[(0,Uv.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-white opacity-10 rounded-full -mr-12 -mt-12 animate-pulse"}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 relative z-10",children:[(0,Uv.jsx)(lx,{className:"w-6 h-6 sm:w-8 sm:h-8 animate-pulse"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h2",{className:"text-xl sm:text-2xl font-bold",children:"Study Recommendations"}),(0,Uv.jsx)("p",{className:"text-xs sm:text-sm opacity-90",children:"Based on your quiz performance"})]})]})]}),(0,Uv.jsx)("div",{className:"p-4 sm:p-6 md:p-8",children:f?(0,Uv.jsxs)("div",{className:"text-center py-8 sm:py-12",children:[(0,Uv.jsx)(Ex,{className:"w-10 h-10 sm:w-12 sm:h-12 animate-spin text-indigo-600 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600 font-medium text-sm sm:text-base",children:"Analyzing your answers..."}),(0,Uv.jsx)("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:"Generating personalized recommendations"})]}):(0,Uv.jsx)("div",{className:"space-y-2 sm:space-y-3",children:d.length>0?d.map((e,t)=>(0,Uv.jsxs)("div",{className:"flex items-start gap-2 sm:gap-4 p-3 sm:p-5 bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-lg sm:rounded-xl hover:shadow-lg hover:scale-[1.02] transition-all duration-300 animate-slideInRight",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,Uv.jsx)("div",{className:"flex-shrink-0 w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-xs sm:text-sm flex-none",children:t+1}),(0,Uv.jsx)("div",{className:"flex-1 pt-0.5 sm:pt-1 min-w-0",children:(0,Uv.jsx)("p",{className:"text-gray-800 leading-relaxed text-sm sm:text-base break-words",children:e})}),(0,Uv.jsx)(cx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-indigo-400 flex-shrink-0 mt-1"})]},t)):(0,Uv.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,Uv.jsx)(kx,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"No specific recommendations available"})]})})})]}),(0,Uv.jsx)("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 mb-4 sm:mb-6 animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,Uv.jsx)("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-purple-100 rounded-full flex items-center justify-center flex-none",children:(0,Uv.jsx)(jx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})}),(0,Uv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Uv.jsx)("h3",{className:"font-bold text-gray-800 mb-1 text-sm sm:text-base",children:"About Your Grade"}),(0,Uv.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:["Your raw score of ",(0,Uv.jsxs)("strong",{children:[a.rawScorePercentage||75,"%"]})," has been transmuted to a Base-50 grade of ",(0,Uv.jsxs)("strong",{children:[(a.base50ScorePercentage||75).toFixed(1),"%"]})," using the formula: Grade = 50 + (Raw Score \xf7 2)"]})]})]})}),x&&(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-2 text-indigo-600 font-semibold mb-4 animate-pulse",children:[(0,Uv.jsx)(Ex,{className:"w-4 h-4 animate-spin"}),"Saving your results..."]}),(0,Uv.jsxs)("button",{onClick:()=>l("/student"),className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 sm:py-4 rounded-xl sm:rounded-2xl font-bold text-base sm:text-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] animate-fadeIn flex items-center justify-center gap-2",children:["Back to Dashboard",(0,Uv.jsx)(cx,{className:"w-5 h-5"})]})]}),(0,Uv.jsx)("style",{children:"\n        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }\n        @keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n        @keyframes bounceIn { 0% { opacity: 0; transform: scale(0.3); } 50% { opacity: 1; transform: scale(1.05); } 70% { transform: scale(0.9); } 100% { transform: scale(1); } }\n        @keyframes slideInRight { from { opacity: 0; transform: translateX(30px); } to { opacity: 1; transform: translateX(0); } }\n        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n        @keyframes countUp { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }\n        .animate-fadeInDown { animation: fadeInDown 0.6s ease-out; }\n        .animate-slideInUp { animation: slideInUp 0.6s ease-out; }\n        .animate-bounceIn { animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55); }\n        .animate-slideInRight { animation: slideInRight 0.5s ease-out; }\n        .animate-fadeIn { animation: fadeIn 0.8s ease-out; }\n        .animate-countUp { animation: countUp 0.8s ease-out; }\n        .delay-100 { animation-delay: 0.1s; }\n        .delay-200 { animation-delay: 0.2s; }\n        .delay-300 { animation-delay: 0.3s; }\n      "})]})}function _x(e){var n,r;let{user:a,userDoc:s}=e;const{quizCode:i,assignmentId:o}=ye(),l=ge(),[u,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[g,v]=(0,t.useState)([]),[y,x]=(0,t.useState)({}),[b,w]=(0,t.useState)(null),[N,S]=(0,t.useState)(!1),[E,k]=(0,t.useState)(null),[j,T]=(0,t.useState)({}),[_,C]=(0,t.useState)(0),[A,O]=(0,t.useState)(!1),[I,P]=(0,t.useState)(null),D=!!o;(0,t.useEffect)(()=>{if(o&&y&&Object.keys(y).length>0){const e={answers:y,currentQuestionIndex:_,timestamp:(new Date).getTime()};localStorage.setItem("quiz_progress_".concat(o),JSON.stringify(e))}},[y,_,o]),(0,t.useEffect)(()=>{if(o&&g.length>0){const e=localStorage.getItem("quiz_progress_".concat(o));if(e)try{const{answers:t,currentQuestionIndex:n}=JSON.parse(e);x(t),C(n)}catch(E){console.error("Error loading saved progress:",E)}}},[o,g.length]),(0,t.useEffect)(()=>{D?M():L()},[o,i]),(0,t.useEffect)(()=>{if(null===b||b<=0)return;const e=setInterval(()=>{w(e=>e<=1?(F(),0):e-1)},1e3);return()=>clearInterval(e)},[b]);const R=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t},M=async()=>{d(!0),k(null);try{var e,t,n,r;const a=kv.currentUser;if(!a)return k("Please log in first"),void l("/login");const s=cg(jv,"assignedQuizzes",o),i=await uv(s);if(!i.exists())return void k("Assignment not found");const u=i.data();if(u.studentId!==a.uid)return void k("This quiz is not assigned to you");if("asynchronous"!==u.quizMode)return void k("This quiz is not available for self-paced completion");if(u.completed&&u.attempts>=((null===(e=u.settings)||void 0===e?void 0:e.maxAttempts)||1))return void k("You have already completed this quiz");if(u.dueDate){const e=new Date(u.dueDate);if(new Date>e)return void k("This quiz is past its due date")}p(c({id:i.id},u));const d=cg(jv,"quizzes",u.quizId),h=await uv(d);if(!h.exists())return void k("Quiz not found");const m=c({id:h.id},h.data());f(m),await(async e=>{try{const t=cg(jv,"quizzes",e),n=await uv(t);if(n.exists()){const e=n.data().questions||[],t=e.filter(e=>"identification"===e.type).map(e=>e.correct_answer).filter(e=>e&&""!==e.trim()),r=[...new Set(t)],a={};e.forEach((e,t)=>{if("identification"===e.type){const e=R([...r]);a[t]=e}}),T(a)}}catch(E){console.error("Error fetching identification choices:",E)}})(u.quizId);const g=(e=>{const t={multiple_choice:[],true_false:[],identification:[]};return e.forEach(e=>{"multiple_choice"===e.type?t.multiple_choice.push(e):"true_false"===e.type?t.true_false.push(e):"identification"===e.type&&t.identification.push(e)}),t})(m.questions||[]);null!==(t=u.settings)&&void 0!==t&&t.shuffleQuestions&&(g.multiple_choice=R(g.multiple_choice),g.true_false=R(g.true_false),g.identification=R(g.identification));const y=[...g.multiple_choice,...g.true_false,...g.identification];if(null!==(n=u.settings)&&void 0!==n&&n.shuffleChoices){const e=y.map(e=>"multiple_choice"===e.type&&e.choices?c(c({},e),{},{choices:R([...e.choices])}):e);v(e)}else v(y);null!==(r=u.settings)&&void 0!==r&&r.timeLimit&&w(60*u.settings.timeLimit),"pending"===u.status&&await mv(s,{status:"in_progress",startedAt:Nv()})}catch(E){console.error("Error fetching assigned quiz:",E),k("Failed to load quiz. Please try again.")}finally{d(!1)}},L=async()=>{d(!0),k(null);try{k("Code-based quiz loading not implemented in this update")}catch(E){console.error("Error fetching quiz by code:",E),k("Failed to load quiz")}finally{d(!1)}},z=(e,t)=>{x(c(c({},y),{},{[e]:t}))},F=async()=>{alert("Time's up! Your quiz will be submitted automatically."),await U()},U=async()=>{S(!0);try{const{rawScorePercentage:e,base50ScorePercentage:t,correctPoints:n,totalPoints:r}=(()=>{let e=0,t=0;g.forEach((n,r)=>{t+=n.points||1;const a=y[r];if(a)if("multiple_choice"===n.type){var s;const t=null===(s=n.choices)||void 0===s?void 0:s.find(e=>e.is_correct);t&&a===t.text&&(e+=n.points||1)}else"true_false"===n.type?a.toLowerCase()===n.correct_answer.toLowerCase()&&(e+=n.points||1):"identification"===n.type&&a.toLowerCase().trim()===n.correct_answer.toLowerCase().trim()&&(e+=n.points||1)});const n=t>0?Math.round(e/t*100):0;return{rawScorePercentage:n,base50ScorePercentage:Math.round(50+n/2),correctPoints:e,totalPoints:t}})(),a=kv.currentUser,i=cg(jv,"assignedQuizzes",o);await mv(i,{status:"completed",completed:!0,rawScorePercentage:e,base50ScorePercentage:t,attempts:(m.attempts||0)+1,submittedAt:Nv()}),await gv(lg(jv,"quizSubmissions"),{assignmentId:o,quizId:h.id,quizTitle:h.title||"Untitled Quiz",studentId:a.uid,studentName:(null===s||void 0===s?void 0:s.name)||(null===s||void 0===s?void 0:s.firstName)+" "+((null===s||void 0===s?void 0:s.lastName)||"")||a.email||"Unknown",studentNo:(null===s||void 0===s?void 0:s.studentNo)||m.studentNo||"",studentDocId:m.studentDocId||null,teacherEmail:m.teacherEmail||null,teacherName:m.teacherName||null,classId:m.classId||null,className:m.className||"Unknown Class",subject:m.subject||h.subject||"",answers:y,rawScorePercentage:e,base50ScorePercentage:t,correctPoints:n,totalPoints:r,totalQuestions:g.length,submittedAt:Nv(),quizMode:"asynchronous"}),localStorage.removeItem("quiz_progress_".concat(o)),P({rawScorePercentage:e,base50ScorePercentage:t,correctPoints:n,totalPoints:r,totalQuestions:g.length}),O(!0)}catch(E){console.error("Error submitting quiz:",E),alert("Failed to submit quiz. Please try again.")}finally{S(!1)}},q=()=>void 0!==y[_]&&null!==y[_]&&""!==y[_],B=e=>{switch(e){case"multiple_choice":return"Multiple Choice";case"true_false":return"True or False";case"identification":return"Identification";default:return e}};if(u)return(0,Uv.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center font-Outfit p-4",children:(0,Uv.jsxs)("div",{className:"bg-components p-6 rounded-3xl shadow-md",children:[(0,Uv.jsx)(Ly,{className:"w-10 h-10 animate-spin text-blue-500 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600 text-sm sm:text-base",children:"Loading quiz..."})]})});if(E)return(0,Uv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-2xl shadow-md max-w-md w-full text-center",children:[(0,Uv.jsx)(bx,{className:"w-12 h-12 sm:w-16 sm:h-16 text-red-500 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2",children:"Unable to Load Quiz"}),(0,Uv.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mb-6",children:E}),(0,Uv.jsx)("button",{onClick:()=>l("/student"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition text-sm sm:text-base",children:"Back to Dashboard"})]})});if(!h||!m)return null;if(A&&I)return(0,Uv.jsx)(Tx,{quiz:h,assignment:m,quizResults:I,questions:g,answers:y,onNavigate:l});const V=g[_];return(0,Uv.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 font-Outfit",children:[(0,Uv.jsx)("div",{className:"bg-components shadow-md sticky top-0 z-10",children:(0,Uv.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Uv.jsxs)("button",{onClick:()=>{l("/student")},className:"flex items-center gap-1 sm:gap-2 text-subtext hover:text-subsubtext transition text-sm sm:text-base",children:[(0,Uv.jsx)(wx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,Uv.jsx)("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),(0,Uv.jsx)("span",{className:"sm:hidden",children:"Back"})]}),null!==b&&(0,Uv.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 rounded-lg font-bold text-sm sm:text-base ".concat(b<=300?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:[(0,Uv.jsx)(Dy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(b)]})]})})}),(0,Uv.jsxs)("main",{className:"max-w-5xl mx-auto p-4 sm:p-6",children:[(0,Uv.jsxs)("div",{className:"bg-components rounded-2xl shadow-md p-4 sm:p-6 mb-4 sm:mb-6",children:[(0,Uv.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-title mb-2",children:h.title}),(0,Uv.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[(0,Uv.jsxs)("span",{className:"font-semibold text-blue-700 flex flex-row gap-2 items-center justify-center",children:[(0,Uv.jsx)(Ry,{className:"w-4 h-4"})," ",m.className]}),m.subject&&(0,Uv.jsxs)("span",{children:["\u2022 ",m.subject]}),(0,Uv.jsxs)("span",{children:["\u2022 ",g.length," Questions"]}),(0,Uv.jsxs)("span",{className:"hidden sm:inline",children:["\u2022 Total Points: ",h.totalPoints||g.length]})]}),m.instructions&&(0,Uv.jsx)("div",{className:"mt-4 p-3 sm:p-4 bg-blue-50 border-l-4 border-blue-500 rounded",children:(0,Uv.jsxs)("p",{className:"text-xs sm:text-sm text-gray-700",children:[(0,Uv.jsx)("strong",{children:"Instructions:"})," ",m.instructions]})})]}),(0,Uv.jsxs)("div",{className:"mb-4 sm:mb-6 flex flex-row items-center justify-between",children:[(0,Uv.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full border-2 font-bold text-sm sm:text-lg ".concat((e=>{switch(e){case"multiple_choice":return"bg-purple-100 text-purple-700 border-purple-300";case"true_false":return"bg-green-100 text-green-700 border-green-300";case"identification":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}})(V.type)),children:[(0,Uv.jsxs)("span",{className:"hidden sm:inline",children:["Question Type: ",B(V.type)]}),(0,Uv.jsx)("span",{className:"sm:hidden",children:B(V.type)})]}),(0,Uv.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600 font-semibold",children:["Question ",_+1," of ",g.length]})]}),(0,Uv.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uv.jsx)("span",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:"Progress"}),(0,Uv.jsxs)("span",{className:"text-xs sm:text-sm font-semibold text-blue-600",children:[Object.keys(y).length," / ",g.length," answered"]})]}),(0,Uv.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 sm:h-3",children:(0,Uv.jsx)("div",{className:"bg-blue-600 h-2 sm:h-3 rounded-full transition-all duration-300",style:{width:"".concat(Object.keys(y).length/g.length*100,"%")}})})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-4 sm:p-8 border-2 border-blue-200 mb-4 sm:mb-6",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,Uv.jsx)("span",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-base sm:text-lg",children:_+1}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:(0,Uv.jsxs)("span",{className:"text-xs sm:text-sm text-gray-600",style:{userSelect:"none"},children:[V.points||1," ",1===V.points?"point":"points"]})}),(0,Uv.jsx)("p",{className:"text-base sm:text-xl font-semibold text-gray-800 leading-relaxed",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:V.question})]})]}),(0,Uv.jsxs)("div",{className:"sm:ml-16",children:["multiple_choice"===V.type&&(0,Uv.jsx)("div",{className:"space-y-2 sm:space-y-3",children:null===(n=V.choices)||void 0===n?void 0:n.map((e,t)=>(0,Uv.jsxs)("label",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-5 rounded-xl border-2 cursor-pointer transition ".concat(y[_]===e.text?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 bg-white hover:shadow-sm"),children:[(0,Uv.jsx)("input",{type:"radio",name:"question-".concat(_),value:e.text,checked:y[_]===e.text,onChange:e=>z(_,e.target.value),className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),(0,Uv.jsx)("span",{className:"flex-1 text-gray-800 text-sm sm:text-lg",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e.text})]},t))}),"true_false"===V.type&&(0,Uv.jsx)("div",{className:"space-y-2 sm:space-y-3",children:["True","False"].map(e=>(0,Uv.jsxs)("label",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-5 rounded-xl border-2 cursor-pointer transition ".concat(y[_]===e?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 bg-white hover:shadow-sm"),children:[(0,Uv.jsx)("input",{type:"radio",name:"question-".concat(_),value:e,checked:y[_]===e,onChange:e=>z(_,e.target.value),className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),(0,Uv.jsx)("span",{className:"flex-1 text-gray-800 font-semibold text-sm sm:text-lg",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e})]},e))}),"identification"===V.type&&(0,Uv.jsxs)("div",{className:"relative",children:[(0,Uv.jsxs)("select",{value:y[_]||"",onChange:e=>z(_,e.target.value),className:"w-full px-4 sm:px-5 py-3 sm:py-4 pr-10 sm:pr-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white text-gray-800 cursor-pointer hover:border-blue-300 transition text-sm sm:text-lg",children:[(0,Uv.jsx)("option",{value:"",disabled:!0,children:"Select your answer..."}),null===(r=j[_])||void 0===r?void 0:r.map((e,t)=>(0,Uv.jsx)("option",{value:e,children:e},t))]}),(0,Uv.jsx)(gx,{className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 w-5 h-5 sm:w-6 sm:h-6 text-gray-400 pointer-events-none"})]})]})]}),(0,Uv.jsx)("div",{className:"flex items-center justify-end mt-4 sm:mt-6",children:_===g.length-1?(0,Uv.jsx)("button",{onClick:async()=>{if(N)return;const e=g.filter((e,t)=>!y[t]);e.length>0?alert("Please answer all questions before submitting. You have ".concat(e.length," unanswered question(s).")):window.confirm("Are you sure you want to submit your quiz? You cannot change your answers after submission.")&&await U()},disabled:N||Object.keys(y).length!==g.length,className:"flex items-center gap-2 bg-green-600 text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg font-bold hover:bg-green-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed text-sm sm:text-base",children:N?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),"Submitting..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Nx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Submit Quiz"]})}):(0,Uv.jsxs)("button",{onClick:()=>{q()?_<g.length-1&&C(_+1):alert("Please answer the current question before proceeding to the next one.")},disabled:!q(),className:"flex items-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold text-sm sm:text-base transition ".concat(q()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Next",(0,Uv.jsx)(cx,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})})]})]})}const Cx=Dv("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Ax=Dv("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function Ox(e){var t;let{quiz:n,assignment:r,questions:a,onNavigate:s}=e;return(0,Uv.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-100 flex items-center justify-center p-3 sm:p-4 md:p-6",children:[(0,Uv.jsx)("div",{className:"bg-white p-4 sm:p-6 md:p-8 rounded-2xl shadow-2xl max-w-2xl w-full transform transition-all duration-500 hover:shadow-3xl animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"text-center",children:[(0,Uv.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,Uv.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,Uv.jsx)(My,{className:"w-16 h-16 sm:w-20 sm:h-20 text-purple-600 mx-auto animate-pulse"}),(0,Uv.jsx)("div",{className:"absolute inset-0 w-16 h-16 sm:w-20 sm:h-20 mx-auto bg-purple-300 rounded-full blur-xl opacity-50 animate-ping"})]}),(0,Uv.jsx)("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-2 animate-slideDown",children:"Waiting Room"}),(0,Uv.jsx)("p",{className:"text-base sm:text-lg text-gray-600 animate-slideDown animation-delay-100",children:"Your teacher hasn't started the quiz yet"})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 transform transition-all duration-300 hover:scale-105 hover:shadow-lg animate-slideUp",children:[(0,Uv.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-purple-900 mb-3 sm:mb-4",children:"Quiz Details"}),(0,Uv.jsxs)("div",{className:"space-y-2 sm:space-y-3 text-xs sm:text-sm text-gray-700",children:[(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-1 sm:gap-2 p-2 bg-white rounded-lg transition-all hover:bg-purple-100",children:[(0,Uv.jsx)("strong",{className:"text-purple-800",children:"Quiz:"}),(0,Uv.jsx)("span",{className:"text-gray-900",children:(null===n||void 0===n?void 0:n.title)||"Loading..."})]}),(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-1 sm:gap-2 p-2 bg-white rounded-lg transition-all hover:bg-purple-100",children:[(0,Uv.jsx)("strong",{className:"text-purple-800",children:"Class:"}),(0,Uv.jsx)("span",{className:"text-gray-900",children:(null===r||void 0===r?void 0:r.className)||"Loading..."})]}),(null===r||void 0===r?void 0:r.subject)&&(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-1 sm:gap-2 p-2 bg-white rounded-lg transition-all hover:bg-purple-100",children:[(0,Uv.jsx)("strong",{className:"text-purple-800",children:"Subject:"}),(0,Uv.jsx)("span",{className:"text-gray-900",children:r.subject})]}),(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-1 sm:gap-2 p-2 bg-white rounded-lg transition-all hover:bg-purple-100",children:[(0,Uv.jsx)("strong",{className:"text-purple-800",children:"Questions:"}),(0,Uv.jsx)("span",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.length)||0})]}),(null===r||void 0===r||null===(t=r.settings)||void 0===t?void 0:t.timeLimit)&&(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-1 sm:gap-2 p-2 bg-white rounded-lg transition-all hover:bg-purple-100",children:[(0,Uv.jsx)("strong",{className:"text-purple-800",children:"Time Limit:"}),(0,Uv.jsxs)("span",{className:"text-gray-900",children:[r.settings.timeLimit," minutes"]})]})]})]}),(0,Uv.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-300 rounded-lg mb-4 sm:mb-6 animate-slideUp animation-delay-200 transition-all hover:shadow-md",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600 flex-shrink-0 mt-0.5 animate-bounce"}),(0,Uv.jsxs)("div",{className:"flex-1 text-left",children:[(0,Uv.jsx)("p",{className:"font-semibold text-yellow-900 mb-1 text-sm sm:text-base",children:"Please Wait for Instructions"}),(0,Uv.jsx)("p",{className:"text-xs sm:text-sm text-yellow-800 leading-relaxed",children:"Your teacher will start the quiz session shortly. Stay on this page and wait for the quiz to become active. Do not refresh or close this page."})]})]}),(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-500 mb-4 sm:mb-6 animate-pulse",children:[(0,Uv.jsx)(Ex,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),(0,Uv.jsx)("span",{className:"text-xs sm:text-sm md:text-base",children:"Waiting for teacher to start the quiz..."})]}),(0,Uv.jsx)("button",{onClick:()=>s("/student"),className:"w-full bg-gradient-to-r from-gray-200 to-gray-300 text-gray-700 px-4 sm:px-6 py-2.5 sm:py-3 rounded-lg font-semibold hover:from-gray-300 hover:to-gray-400 transition-all duration-300 transform hover:scale-105 active:scale-95 text-sm sm:text-base shadow-md hover:shadow-lg",children:"Back to Dashboard"})]})}),(0,Uv.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .animate-fadeIn {\n          animation: fadeIn 0.6s ease-out;\n        }\n\n        .animate-slideDown {\n          animation: slideDown 0.5s ease-out;\n        }\n\n        .animate-slideUp {\n          animation: slideUp 0.5s ease-out;\n        }\n\n        .animation-delay-100 {\n          animation-delay: 0.1s;\n          animation-fill-mode: backwards;\n        }\n\n        .animation-delay-200 {\n          animation-delay: 0.2s;\n          animation-fill-mode: backwards;\n        }\n      "})]})}function Ix(e){var n,r;let{user:a,userDoc:s}=e;const{assignmentId:i}=ye(),o=ge(),[l,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]),[v,y]=(0,t.useState)({}),[x,b]=(0,t.useState)(null),[w,N]=(0,t.useState)(!1),[S,E]=(0,t.useState)(null),[k,j]=(0,t.useState)("not_started"),[T,_]=(0,t.useState)(!1),[C,A]=(0,t.useState)({}),[O,I]=(0,t.useState)(0),[P,D]=(0,t.useState)(!1),[R,M]=(0,t.useState)(null),[L,z]=(0,t.useState)(!1),[F,U]=(0,t.useState)(!1),[q,B]=(0,t.useState)(!1),[V,H]=(0,t.useState)([]);(0,t.useEffect)(()=>{G()},[i]),(0,t.useEffect)(()=>{if(!i)return;const e=vv(cg(jv,"assignedQuizzes",i),e=>{if(e.exists()){const t=e.data();j(t.sessionStatus||"not_started"),"ended"!==t.sessionStatus||!T||w||L||P||(z(!0),$())}});return()=>e()},[i,T,w]),(0,t.useEffect)(()=>{if(null===x||x<=0||"active"!==k||!T)return;const e=setInterval(()=>{b(e=>e<=1?(X(),0):e-1)},1e3);return()=>clearInterval(e)},[x,k,T,O]);const W=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t},G=async()=>{u(!0),E(null);try{var e,t;const n=kv.currentUser;if(!n)return E("Please log in first"),void o("/login");const r=cg(jv,"assignedQuizzes",i),a=await uv(r);if(!a.exists())return void E("Assignment not found");const s=a.data();if(s.studentId!==n.uid)return void E("This quiz is not assigned to you");if("synchronous"!==s.quizMode)return void E("This is not a live quiz");if(s.completed)return void E("You have already completed this quiz");m(c({id:a.id},s)),j(s.sessionStatus||"not_started");const l=cg(jv,"quizzes",s.quizId),u=await uv(l);if(!u.exists())return void E("Quiz not found");const d=c({id:u.id},u.data());h(d),await(async e=>{try{const t=cg(jv,"quizzes",e),n=await uv(t);if(n.exists()){const e=n.data().questions||[],t=e.filter(e=>"identification"===e.type).map(e=>e.correct_answer).filter(e=>e&&""!==e.trim()),r=[...new Set(t)],a={};e.forEach((e,t)=>{if("identification"===e.type){const e=W([...r]);a[t]=e}}),A(a)}}catch(S){console.error("Error fetching identification choices:",S)}})(s.quizId);const f=(e=>{const t={multiple_choice:[],true_false:[],identification:[]};return e.forEach(e=>{"multiple_choice"===e.type?t.multiple_choice.push(e):"true_false"===e.type?t.true_false.push(e):"identification"===e.type&&t.identification.push(e)}),t})(d.questions||[]);null!==(e=s.settings)&&void 0!==e&&e.shuffleQuestions&&(f.multiple_choice=W(f.multiple_choice),f.true_false=W(f.true_false),f.identification=W(f.identification));const p=[...f.multiple_choice,...f.true_false,...f.identification];if(null!==(t=s.settings)&&void 0!==t&&t.shuffleChoices){const e=p.map(e=>"multiple_choice"===e.type&&e.choices?c(c({},e),{},{choices:W([...e.choices])}):e);g(e)}else g(p);const v=p.map(e=>(e=>{var t,n;let r=10;"true_false"===e.type&&(r=8);const a=e.question||"",s=Math.round(a.length/25);let i=0;if("multiple_choice"===e.type&&e.choices){const t=e.choices.reduce((e,t)=>{var n;return e+((null===(n=t.text)||void 0===n?void 0:n.length)||0)},0);i=Math.round(t/20)}const o=e.bloom_classification;let l=0;l="LOTS"===o?5:"HOTS"===o?10:5;const c=a.toLowerCase();let u=0;const d=["calculate","compute","solve","solve for","find the value","what is the sum","what is the total","what is the product","equation","formula"].some(e=>c.includes(e)),h=/\d+/.test(a),f=/[+\-\xd7\xf7=]/.test(a);if(d&&(h||f)){const e=(a.match(/\d+/g)||[]).length>=3,t=/percent|%/.test(c);u=/then|and then|after|next|first|second/.test(c)||e&&t?30:e||t?20:10}else u=0;let m=0;"true_false"===e.type&&s>20&&(m=-5);const p=r+s+i+l+u+m,g="true_false"===e.type?12:15;return{time:Math.max(g,Math.min(120,p)),breakdown:{baseTime:r,lengthFactor:s,questionLength:a.length,choiceReadingTime:i,numChoices:"multiple_choice"===e.type?null===(t=e.choices)||void 0===t?void 0:t.length:0,totalChoiceLength:"multiple_choice"===e.type?null===(n=e.choices)||void 0===n?void 0:n.reduce((e,t)=>{var n;return e+((null===(n=t.text)||void 0===n?void 0:n.length)||0)},0):0,difficultyFactor:l,cognitiveLevel:o||"UNKNOWN",computationFactor:u,computationLevel:0===u?"None":10===u?"Easy":20===u?"Moderate":"Hard",hasComputation:u>0,trueFalsePenalty:"true_false"===e.type?m:null,questionType:e.type}}})(e));if(H(v),s.inProgress&&(_(!0),s.currentAnswers&&y(s.currentAnswers),void 0!==s.currentQuestionIndex)){I(s.currentQuestionIndex);const e=v[s.currentQuestionIndex];b(e.time)}}catch(S){console.error("Error fetching quiz:",S),E("Failed to load quiz. Please try again.")}finally{u(!1)}},Q=async()=>{if(!F)try{U(!0);const e=cg(jv,"assignedQuizzes",i);await mv(e,{status:"in_progress",inProgress:!0,startedAt:Nv(),currentAnswers:{},currentQuestionIndex:0}),_(!0),V.length>0&&b(V[0].time)}catch(S){console.error("Error starting quiz:",S),alert("Error starting quiz. Please try again."),U(!1)}},K=(e,t)=>{const n=c(c({},v),{},{[e]:t});y(n),Y(n,O)},Y=async(e,t)=>{try{const n=cg(jv,"assignedQuizzes",i);await mv(n,{currentAnswers:e,currentQuestionIndex:t,lastSaved:Nv()})}catch(S){console.error("Error saving progress:",S)}},X=()=>{if(O<p.length-1){const e=O+1;I(e),b(V[e].time),Y(v,e)}else $()},$=async()=>{w||L||(N(!0),alert("Time's up! Your quiz will be submitted automatically."),await J())},J=async()=>{N(!0);try{const{rawScorePercentage:e,base50ScorePercentage:t,correctPoints:n,totalPoints:r}=(()=>{let e=0,t=0;p.forEach((n,r)=>{t+=n.points||1;const a=v[r];if(a)if("multiple_choice"===n.type){var s;const t=null===(s=n.choices)||void 0===s?void 0:s.find(e=>e.is_correct);t&&a===t.text&&(e+=n.points||1)}else"true_false"===n.type?a.toLowerCase()===n.correct_answer.toLowerCase()&&(e+=n.points||1):"identification"===n.type&&a.toLowerCase().trim()===n.correct_answer.toLowerCase().trim()&&(e+=n.points||1)});const n=t>0?Math.round(e/t*100):0;return{rawScorePercentage:n,base50ScorePercentage:Math.round(50+n/2),correctPoints:e,totalPoints:t}})(),a=kv.currentUser,o=cg(jv,"assignedQuizzes",i);await mv(o,{status:"completed",completed:!0,inProgress:!1,score:n,rawScorePercentage:e,base50ScorePercentage:t,attempts:(f.attempts||0)+1,submittedAt:Nv(),finalAnswers:v}),await gv(lg(jv,"quizSubmissions"),{assignmentId:i,quizId:d.id,quizTitle:d.title||"Untitled Quiz",studentId:a.uid,studentName:(null===s||void 0===s?void 0:s.name)||a.email||"Unknown",studentNo:(null===s||void 0===s?void 0:s.studentNo)||f.studentNo||null,studentDocId:f.studentDocId||null,teacherEmail:f.teacherEmail||null,teacherName:f.teacherName||null,classId:f.classId||null,className:f.className||"Unknown Class",subject:f.subject||"",answers:v,rawScorePercentage:e,base50ScorePercentage:t,correctPoints:n,totalPoints:r,totalQuestions:p.length,submittedAt:Nv(),quizMode:"synchronous",sessionStatus:k}),M({rawScorePercentage:e,base50ScorePercentage:t,correctPoints:n,totalPoints:r,totalQuestions:p.length}),D(!0),z(!0)}catch(S){console.error("Error submitting quiz:",S),alert("Failed to submit quiz. Please try again."),z(!1)}finally{N(!1)}},Z=()=>void 0!==v[O]&&null!==v[O]&&""!==v[O],ee=e=>"HOTS"===e?"bg-red-100 text-red-700 border-red-300":"LOTS"===e?"bg-green-100 text-green-700 border-green-300":"bg-yellow-100 text-yellow-700 border-yellow-300";if(l)return(0,Uv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-md",children:[(0,Uv.jsx)(Ex,{className:"w-10 h-10 md:w-12 md:h-12 animate-spin text-purple-600 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600 text-sm md:text-base",children:"Loading live quiz..."})]})});if(S)return(0,Uv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-md max-w-md w-full text-center",children:[(0,Uv.jsx)(bx,{className:"w-12 h-12 md:w-16 md:h-16 text-red-500 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Unable to Load Quiz"}),(0,Uv.jsx)("p",{className:"text-sm md:text-base text-gray-600 mb-6",children:S}),(0,Uv.jsx)("button",{onClick:()=>o("/student"),className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition text-sm md:text-base",children:"Back to Dashboard"})]})});if("not_started"===k&&!T)return(0,Uv.jsx)(Ox,{quiz:d,assignment:f,questions:p,onNavigate:o});if("ended"===k)return(0,Uv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 flex items-center justify-center p-4",children:(0,Uv.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-md max-w-md w-full text-center",children:[(0,Uv.jsx)(bx,{className:"w-12 h-12 md:w-16 md:h-16 text-red-500 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-2",children:"Quiz Session Ended"}),(0,Uv.jsx)("p",{className:"text-sm md:text-base text-gray-600 mb-6",children:"The teacher has ended this quiz session. You can no longer submit answers."}),(0,Uv.jsx)("button",{onClick:()=>o("/student"),className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition text-sm md:text-base",children:"Back to Dashboard"})]})});if("active"===k&&!T)return(0,Uv.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 flex items-center justify-center p-4",children:(0,Uv.jsx)("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-lg max-w-2xl w-full",children:(0,Uv.jsxs)("div",{className:"text-center",children:[(0,Uv.jsxs)("div",{className:"mb-6",children:[(0,Uv.jsx)(Iy,{className:"w-16 h-16 md:w-20 md:h-20 text-green-600 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:"Quiz is Now Active!"}),(0,Uv.jsx)("p",{className:"text-base md:text-lg text-gray-600",children:"Your teacher has started the quiz session"})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl p-4 md:p-6 mb-6",children:[(0,Uv.jsx)("h3",{className:"text-xl md:text-2xl font-bold mb-4",children:null===d||void 0===d?void 0:d.title}),(0,Uv.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4 text-xs md:text-sm",children:[(0,Uv.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-2 md:p-3",children:[(0,Uv.jsx)("p",{className:"font-semibold",children:"Questions"}),(0,Uv.jsx)("p",{className:"text-xl md:text-2xl font-bold",children:p.length})]}),(0,Uv.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-2 md:p-3",children:[(0,Uv.jsx)("p",{className:"font-semibold",children:"Total Points"}),(0,Uv.jsx)("p",{className:"text-xl md:text-2xl font-bold",children:(null===d||void 0===d?void 0:d.totalPoints)||p.length})]}),(0,Uv.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-2 md:p-3 col-span-2",children:[(0,Uv.jsx)("p",{className:"font-semibold",children:"\u23f1\ufe0f Adaptive Time Per Question"}),(0,Uv.jsx)("p",{className:"text-sm mt-1",children:"Time adjusts based on question complexity"})]})]})]}),(null===f||void 0===f?void 0:f.instructions)&&(0,Uv.jsx)("div",{className:"mb-6 p-3 md:p-4 bg-blue-50 border-l-4 border-blue-500 rounded text-left",children:(0,Uv.jsxs)("p",{className:"text-xs md:text-sm text-gray-700",children:[(0,Uv.jsx)("strong",{children:"Instructions:"})," ",f.instructions]})}),(0,Uv.jsxs)("div",{className:"flex items-start gap-2 md:gap-3 p-3 md:p-4 bg-green-50 border-2 border-green-300 rounded-lg mb-6",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 md:w-6 md:h-6 text-green-600 flex-shrink-0 mt-0.5"}),(0,Uv.jsxs)("div",{className:"flex-1 text-left",children:[(0,Uv.jsx)("p",{className:"font-semibold text-green-900 mb-1 text-sm md:text-base",children:"Ready to Begin"}),(0,Uv.jsx)("p",{className:"text-xs md:text-sm text-green-800",children:"Each question has its own time limit based on complexity. Your time will begin immediately."})]})]}),(0,Uv.jsx)("button",{onClick:Q,disabled:F,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-lg font-bold text-base md:text-xl hover:from-purple-700 hover:to-pink-700 transition transform hover:scale-[1.02] flex items-center justify-center gap-2 disabled:opacity-75 disabled:cursor-not-allowed",children:F?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ex,{className:"w-5 h-5 md:w-6 md:h-6 animate-spin"}),"Starting Quiz..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(My,{className:"w-5 h-5 md:w-6 md:h-6"}),"Start Quiz Now"]})}),(0,Uv.jsx)("button",{onClick:()=>o("/student"),disabled:F,className:"mt-4 w-full bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition disabled:opacity-75 disabled:cursor-not-allowed text-sm md:text-base",children:"Cancel"})]})})});if(!d||!f)return null;if(P&&R)return(0,Uv.jsx)(Tx,{quiz:d,assignment:f,quizResults:R,questions:p,answers:v,onNavigate:o});const te=p[O],ne=V[O];return(0,Uv.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 font-Outfit",children:[(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg sticky top-0 z-10",children:(0,Uv.jsx)("div",{className:"max-w-5xl mx-auto px-4 md:px-6 py-3 md:py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-5 h-5 md:w-6 md:h-6"}),(0,Uv.jsx)("span",{className:"font-bold text-base md:text-lg",children:"Sycronous Quiz"})]}),null!==x&&(0,Uv.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 px-3 md:px-4 py-2 rounded-lg font-bold text-sm md:text-base ".concat(x<=10?"bg-red-500 text-white animate-pulse":"bg-white text-purple-700"),children:[(0,Uv.jsx)(Dy,{className:"w-4 h-4 md:w-5 md:h-5"}),(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(x)]})]})})}),(0,Uv.jsxs)("main",{className:"max-w-5xl mx-auto p-4 md:p-6",children:[(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-4 md:p-6 mb-4 md:mb-6",children:[(0,Uv.jsx)("h1",{className:"text-xl md:text-3xl font-bold text-gray-800 mb-2",children:d.title}),(0,Uv.jsxs)("div",{className:"flex flex-wrap items-center gap-2 md:gap-4 text-xs md:text-sm text-gray-600",children:[(0,Uv.jsxs)("span",{className:"font-semibold text-purple-700",children:["\ud83d\udcda ",f.className]}),f.subject&&(0,Uv.jsxs)("span",{children:["\u2022 ",f.subject]}),(0,Uv.jsxs)("span",{children:["\u2022 ",p.length," Questions"]}),(0,Uv.jsxs)("span",{className:"hidden sm:inline",children:["\u2022 Total Points: ",d.totalPoints||p.length]}),(0,Uv.jsxs)("span",{className:"flex items-center gap-1 px-2 md:px-3 py-1 bg-green-100 text-green-700 rounded-full font-bold text-xs",children:[(0,Uv.jsx)(Iy,{className:"w-3 h-3 md:w-4 md:h-4"}),"Session Active"]})]}),f.instructions&&(0,Uv.jsx)("div",{className:"mt-4 p-3 md:p-4 bg-blue-50 border-l-4 border-blue-500 rounded",children:(0,Uv.jsxs)("p",{className:"text-xs md:text-sm text-gray-700",children:[(0,Uv.jsx)("strong",{children:"Instructions:"})," ",f.instructions]})})]}),(0,Uv.jsxs)("div",{className:"mb-4 md:mb-6 flex flex-col gap-3",children:[(0,Uv.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[(0,Uv.jsx)("div",{className:"inline-flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-full border-2 font-bold text-sm md:text-lg ".concat((e=>{switch(e){case"multiple_choice":return"bg-purple-100 text-purple-700 border-purple-300";case"true_false":return"bg-green-100 text-green-700 border-green-300";case"identification":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}})(te.type)),children:(0,Uv.jsx)("span",{children:(e=>{switch(e){case"multiple_choice":return"Multiple Choice";case"true_false":return"True or False";case"identification":return"Identification";default:return e}})(te.type)})}),(0,Uv.jsxs)("div",{className:"text-xs md:text-sm text-gray-600 font-semibold",children:["Question ",O+1," of ",p.length]})]}),ne&&(0,Uv.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4",children:[(0,Uv.jsxs)("button",{onClick:()=>B(!q),className:"w-full flex items-center justify-between text-left",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(lx,{className:"w-5 h-5 text-purple-600"}),(0,Uv.jsxs)("span",{className:"font-semibold text-gray-800 text-sm md:text-base",children:["\u23f1\ufe0f Time Allocated: ",ne.time,"s"]}),ne.breakdown.cognitiveLevel&&(0,Uv.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold border ".concat(ee(ne.breakdown.cognitiveLevel)),children:ne.breakdown.cognitiveLevel}),ne.breakdown.hasComputation&&(0,Uv.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-700 border border-blue-300",children:[(0,Uv.jsx)(Cx,{className:"w-3 h-3 inline mr-1"}),ne.breakdown.computationLevel]})]}),(0,Uv.jsx)(gx,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(q?"rotate-180":"")})]}),q&&(0,Uv.jsxs)("div",{className:"mt-4 pt-4 border-t space-y-2 text-xs md:text-sm",children:[(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\ud83e\udde0 Base Time:"}),(0,Uv.jsxs)("span",{className:"font-semibold",children:[ne.breakdown.baseTime,"s"]})]}),(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\u270f\ufe0f Length Factor:"}),(0,Uv.jsxs)("span",{className:"font-semibold",children:["+",ne.breakdown.lengthFactor,"s",(0,Uv.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",ne.breakdown.questionLength," chars \xf7 25)"]})]})]}),ne.breakdown.choiceReadingTime>0&&(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\ud83d\udccb Choice Reading:"}),(0,Uv.jsxs)("span",{className:"font-semibold",children:["+",ne.breakdown.choiceReadingTime,"s",(0,Uv.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",ne.breakdown.numChoices," choices, ",ne.breakdown.totalChoiceLength," chars)"]})]})]}),(0,Uv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\ud83c\udfaf Difficulty Factor:"}),(0,Uv.jsxs)("span",{className:"font-semibold",children:["+",ne.breakdown.difficultyFactor,"s",(0,Uv.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-bold ".concat(ee(ne.breakdown.cognitiveLevel)),children:ne.breakdown.cognitiveLevel})]})]}),ne.breakdown.hasComputation&&(0,Uv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\u2797 Computation Factor:"}),(0,Uv.jsxs)("span",{className:"font-semibold text-blue-600",children:["+",ne.breakdown.computationFactor,"s",(0,Uv.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-700",children:ne.breakdown.computationLevel})]})]}),null!==ne.breakdown.trueFalsePenalty&&(0,Uv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\u2702\ufe0f True/False Adjustment:"}),(0,Uv.jsxs)("span",{className:"font-semibold text-green-600",children:[ne.breakdown.trueFalsePenalty,"s",(0,Uv.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(Binary choice efficiency)"})]})]}),(0,Uv.jsx)("div",{className:"pt-2 border-t",children:(0,Uv.jsxs)("div",{className:"flex justify-between font-bold text-purple-700",children:[(0,Uv.jsx)("span",{children:"\ud83e\uddee TOTAL TIME:"}),(0,Uv.jsxs)("span",{children:[ne.breakdown.baseTime," +",ne.breakdown.lengthFactor,ne.breakdown.choiceReadingTime>0&&" + ".concat(ne.breakdown.choiceReadingTime)," ","+ ",ne.breakdown.difficultyFactor,ne.breakdown.hasComputation&&" + ".concat(ne.breakdown.computationFactor),null!==ne.breakdown.trueFalsePenalty&&" ".concat(ne.breakdown.trueFalsePenalty>0?"+":""," ").concat(ne.breakdown.trueFalsePenalty)," ","= ",ne.time,"s"]})]})}),(0,Uv.jsx)("div",{className:"pt-2 border-t",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-2 text-gray-600",children:[(0,Uv.jsx)(Ax,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,Uv.jsxs)("span",{className:"text-xs",children:[(0,Uv.jsx)("strong",{children:"Formula:"})," Base (MC:10s, T/F:8s) + Length (chars\xf725) + Choices (chars\xf720) + Difficulty (LOTS:10s, HOTS:20s) + Computation (0-30s) + T/F Adjustment (-5s if long)"]})]})})]})]})]}),(0,Uv.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Uv.jsx)("span",{className:"text-xs md:text-sm font-semibold text-gray-700",children:"Progress"}),(0,Uv.jsxs)("span",{className:"text-xs md:text-sm font-semibold text-purple-600",children:[Object.keys(v).length," / ",p.length," answered"]})]}),(0,Uv.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 md:h-3",children:(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 h-2 md:h-3 rounded-full transition-all duration-300",style:{width:"".concat(Object.keys(v).length/p.length*100,"%")}})})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-4 md:p-8 border-2 border-purple-200 mb-4 md:mb-6",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 md:gap-4 mb-4 md:mb-6",children:[(0,Uv.jsx)("span",{className:"flex-shrink-0 w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full flex items-center justify-center font-bold text-base md:text-lg",children:O+1}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:(0,Uv.jsxs)("span",{className:"text-xs md:text-sm text-gray-600",style:{userSelect:"none"},children:[te.points||1," ",1===te.points?"point":"points"]})}),(0,Uv.jsx)("p",{className:"text-base md:text-xl font-semibold text-gray-800 leading-relaxed",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:te.question})]})]}),(0,Uv.jsxs)("div",{className:"md:ml-16",children:["multiple_choice"===te.type&&(0,Uv.jsx)("div",{className:"space-y-2 md:space-y-3",children:null===(n=te.choices)||void 0===n?void 0:n.map((e,t)=>(0,Uv.jsxs)("label",{className:"flex items-center gap-3 md:gap-4 p-3 md:p-5 rounded-xl border-2 cursor-pointer transition ".concat(v[O]===e.text?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 bg-white hover:shadow-sm"),children:[(0,Uv.jsx)("input",{type:"radio",name:"question-".concat(O),value:e.text,checked:v[O]===e.text,onChange:e=>K(O,e.target.value),className:"w-5 h-5 md:w-6 md:h-6 text-purple-600 flex-shrink-0"}),(0,Uv.jsx)("span",{className:"flex-1 text-gray-800 text-sm md:text-lg",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e.text})]},t))}),"true_false"===te.type&&(0,Uv.jsx)("div",{className:"space-y-2 md:space-y-3",children:["True","False"].map(e=>(0,Uv.jsxs)("label",{className:"flex items-center gap-3 md:gap-4 p-3 md:p-5 rounded-xl border-2 cursor-pointer transition ".concat(v[O]===e?"border-purple-500 bg-purple-50 shadow-md":"border-gray-200 hover:border-purple-300 bg-white hover:shadow-sm"),children:[(0,Uv.jsx)("input",{type:"radio",name:"question-".concat(O),value:e,checked:v[O]===e,onChange:e=>K(O,e.target.value),className:"w-5 h-5 md:w-6 md:h-6 text-purple-600 flex-shrink-0"}),(0,Uv.jsx)("span",{className:"flex-1 text-gray-800 font-semibold text-sm md:text-lg",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},children:e})]},e))}),"identification"===te.type&&(0,Uv.jsxs)("div",{className:"relative",children:[(0,Uv.jsxs)("select",{value:v[O]||"",onChange:e=>K(O,e.target.value),className:"w-full px-4 md:px-5 py-3 md:py-4 pr-10 md:pr-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent appearance-none bg-white text-gray-800 cursor-pointer hover:border-purple-300 transition text-sm md:text-lg",children:[(0,Uv.jsx)("option",{value:"",disabled:!0,children:"Select your answer..."}),null===(r=C[O])||void 0===r?void 0:r.map((e,t)=>(0,Uv.jsx)("option",{value:e,children:e},t))]}),(0,Uv.jsx)(gx,{className:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 w-5 h-5 md:w-6 md:h-6 text-gray-400 pointer-events-none"})]})]})]}),(0,Uv.jsx)("div",{className:"flex items-center justify-end gap-3 md:gap-4 mb-4 md:mb-6",children:O===p.length-1?(0,Uv.jsx)("button",{onClick:async()=>{if(w)return;const e=p.filter((e,t)=>!v[t]);e.length>0?alert("Please answer all questions before submitting. You have ".concat(e.length," unanswered question(s).")):window.confirm("Are you sure you want to submit your quiz? You cannot change your answers after submission.")&&await J()},disabled:w||Object.keys(v).length!==p.length,className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 md:px-8 py-2.5 md:py-3 rounded-lg font-bold text-sm md:text-base hover:from-green-700 hover:to-emerald-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:w?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ex,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}),(0,Uv.jsx)("span",{className:"hidden sm:inline",children:"Submitting..."}),(0,Uv.jsx)("span",{className:"sm:hidden",children:"Submit..."})]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Nx,{className:"w-4 h-4 md:w-5 md:h-5"}),"Submit Quiz"]})}):(0,Uv.jsxs)("button",{onClick:()=>{if(Z()){if(O<p.length-1){const e=O+1;I(e),b(V[e].time),Y(v,e)}}else alert("Please answer the current question before proceeding to the next one.")},disabled:!Z(),className:"flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 rounded-lg font-semibold text-sm md:text-base transition ".concat(Z()?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:["Next",(0,Uv.jsx)(cx,{className:"w-4 h-4 md:w-5 md:h-5"})]})})]})]})}const Px=Dv("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Dx=Dv("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Rx=Dv("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);function Mx(e){let{user:n,userDoc:r}=e;const[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)([]),v=ge(),y=fe(),x=!i;(0,t.useEffect)(()=>{document.documentElement.style.setProperty("--sidebar-width",x?"288px":"80px")},[x]),(0,t.useEffect)(()=>{n&&b()},[n]),(0,t.useEffect)(()=>{const e=()=>{console.log("\ud83d\udd04 Classes updated event received, refreshing sidebar..."),b(),h(!0)},t=()=>{console.log("\ud83d\udce6 Class archived event received, removing from sidebar..."),b(),h(!0)};return window.addEventListener("classesUpdated",e),window.addEventListener("classArchived",t),()=>{window.removeEventListener("classesUpdated",e),window.removeEventListener("classArchived",t)}},[n]),(0,t.useEffect)(()=>{y.pathname.includes("/teacher/class")&&b()},[y.pathname]);const b=async()=>{if(n)try{const e=Xg(lg(jv,"classes"),Jg("teacherId","==",n.uid)),t=await hv(e),r=[];t.forEach(e=>{const t=e.data();"archived"!==t.status&&r.push(c({id:e.id},t))}),r.sort((e,t)=>{var n,r;const a=(null===(n=e.uploadedAt)||void 0===n?void 0:n.toDate())||new Date(0);return((null===(r=t.uploadedAt)||void 0===r?void 0:r.toDate())||new Date(0))-a}),g(r),console.log("\u2705 Fetched ".concat(r.length," active classes"))}catch(e){console.error("Error fetching classes:",e)}},w=[{to:"/teacher",icon:Gy,label:"Dashboard"}],N=[{to:"quizzes",icon:Qy,label:"Quizzes"},{to:"reports",icon:Vy,label:"Reports"}],S=e=>"/teacher"===e?"/teacher"===y.pathname:y.pathname.includes(e),E=(null===r||void 0===r?void 0:r.firstName)||(null===n||void 0===n?void 0:n.displayName)||"Teacher",k=(null===r||void 0===r?void 0:r.email)||(null===n||void 0===n?void 0:n.email)||(null===r||void 0===r?void 0:r.teacherEmail)||"Educator",j=E.charAt(0).toUpperCase();return(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("button",{onClick:()=>s(!a),className:"fixed top-6 right-6 z-50 bg-components text-black p-3 rounded-full shadow-md hover:bg-gray-50 transition-all lg:hidden border border-gray-100 hover:scale-105","aria-label":"Toggle menu",children:a?(0,Uv.jsx)(Mv,{size:22}):(0,Uv.jsx)(Rv,{size:22})}),(0,Uv.jsxs)("div",{className:"fixed top-0 left-0 h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 shadow-2xl transition-all duration-300 ease-in-out z-40\n        ".concat(a?"translate-x-0":"-translate-x-full"," \n        lg:translate-x-0\n        ").concat(x?"lg:w-72":"lg:w-20","\n        w-72"),children:[(0,Uv.jsxs)("div",{className:"relative bg-gradient-to-r from-green-800/50 to-blue-800/50 backdrop-blur-sm font-Outfit cursor-default",children:[(0,Uv.jsx)("div",{className:"flex items-center ".concat(x?"px-10 py-6 gap-3":"justify-center py-6 ml-4"," transition-all duration-300"),children:(0,Uv.jsxs)("div",{className:"flex items-center gap-4 transform hover:scale-105 transition-transform duration-300",children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"transition-all duration-300 ".concat(x?"w-12 h-12":"w-10 h-10")}),(0,Uv.jsxs)("div",{className:"flex flex-col text-white overflow-hidden transition-all duration-300 ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0"),children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold leading-tight",children:"iQuizU"}),(0,Uv.jsx)("p",{className:"text-sm -mt-1",children:"Teacher"})]})]})}),(0,Uv.jsx)("button",{onClick:()=>{console.log("\ud83d\udd18 Toggle clicked! Current:",i,"\u2192 New:",!i),o(!i)},className:"hidden lg:flex absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full items-center justify-center shadow-md hover:bg-green-50 transition-all hover:scale-110 border-2 border-blue-600","aria-label":"Toggle sidebar",children:i?(0,Uv.jsx)(cx,{size:14,className:"text-blue-600"}):(0,Uv.jsx)(Cy,{size:14,className:"text-blue-600"})})]}),(0,Uv.jsxs)("nav",{style:{scrollbarWidth:"thin",scrollbarColor:"rgba(255, 255, 255, 0.3) transparent"},className:"flex flex-col py-6 space-y-1 overflow-y-auto h-[calc(100vh-200px)] transition-all duration-300 custom-scrollbar ".concat(x?"px-6":"px-2"),children:[(0,Uv.jsxs)("div",{className:"flex flex-col space-y-3",children:[w.map(e=>(0,Uv.jsxs)(wt,{to:e.to,onClick:()=>{s(!1),S(e.to)&&window.dispatchEvent(new Event("refreshPage"))},title:x?"":e.label,className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group\n                ".concat(x?"gap-4 px-3 py-3 hover:bg-white/10":"justify-center py-3 hover:bg-white/10","\n                ").concat(S(e.to)?"bg-white/20 shadow-lg":""),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 to-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300 ".concat(S(e.to)?"scale-110":""),children:(0,Uv.jsx)(e.icon,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0 overflow-hidden"),children:e.label})]},e.to)),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("button",{onClick:()=>{x&&h(!d)},title:x?"":"Classes",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group w-full\n                ".concat(x?"gap-4 px-3 py-3 hover:bg-white/10":"justify-center py-3 hover:bg-white/10","\n                ").concat(y.pathname.includes("/teacher/class")&&!y.pathname.includes("/archive")?"bg-white/20 shadow-lg":""),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 to-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300 ".concat(y.pathname.includes("/teacher/class")&&!y.pathname.includes("/archive")?"scale-110":""),children:(0,Uv.jsx)(Ry,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap flex-1 text-left ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0 overflow-hidden"),children:"Classes"}),x&&(0,Uv.jsx)("div",{className:"relative",children:d?(0,Uv.jsx)(Px,{size:18,className:"text-white"}):(0,Uv.jsx)(gx,{size:18,className:"text-white"})})]}),x&&d&&(0,Uv.jsxs)("div",{className:"mt-2 ml-4 space-y-2 border-l-2 border-white/20 pl-4 animate-fadeIn",children:[(0,Uv.jsxs)(wt,{to:"/teacher/classes/add",onClick:()=>s(!1),className:"flex items-center -ml-1 gap-3 px-3 py-2 rounded-lg text-white hover:bg-white/10 transition-all duration-200 group",children:[(0,Uv.jsx)(Dx,{size:18,className:"text-white group-hover:scale-110 transition-transform"}),(0,Uv.jsx)("span",{className:"font-Outfit text-sm font-medium",children:"Add Class"})]}),0===p.length&&(0,Uv.jsx)("div",{className:"px-3 py-2 text-white/60 text-sm italic font-Outfit",children:"No classes yet"}),p.map(e=>{return(0,Uv.jsxs)(wt,{to:"/teacher/class/".concat(e.id),onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-white hover:bg-white/10 transition-all duration-200 group ".concat((t=e.id,y.pathname.includes("/teacher/class/".concat(t))?"bg-white/15":"")),children:[(0,Uv.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400 group-hover:scale-125 transition-transform"}),(0,Uv.jsx)("span",{className:"font-Outfit text-sm font-medium truncate flex-1",children:e.name}),(0,Uv.jsx)("span",{className:"text-xs text-white/60 font-Outfit",children:e.studentCount})]},e.id);var t})]})]}),N.map(e=>(0,Uv.jsxs)(wt,{to:e.to,onClick:()=>{s(!1),S(e.to)&&window.dispatchEvent(new Event("refreshPage"))},title:x?"":e.label,className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group\n                ".concat(x?"gap-4 px-3 py-3 hover:bg-white/10":"justify-center py-3 hover:bg-white/10","\n                ").concat(S(e.to)?"bg-white/20 shadow-lg":""),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 to-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300 ".concat(S(e.to)?"scale-110":""),children:(0,Uv.jsx)(e.icon,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0 overflow-hidden"),children:e.label})]},e.to)),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("button",{onClick:()=>{x&&m(!f)},title:x?"":"Archives",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group w-full\n                ".concat(x?"gap-4 px-3 py-3 hover:bg-white/10":"justify-center py-3 hover:bg-white/10","\n                ").concat(y.pathname.includes("/teacher/archives")?"bg-white/20 shadow-lg":""),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 to-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300 ".concat(y.pathname.includes("/teacher/archives")?"scale-110":""),children:(0,Uv.jsx)(Rx,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap flex-1 text-left ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0 overflow-hidden"),children:"Archives"}),x&&(0,Uv.jsx)("div",{className:"relative",children:f?(0,Uv.jsx)(Px,{size:18,className:"text-white"}):(0,Uv.jsx)(gx,{size:18,className:"text-white"})})]}),x&&f&&(0,Uv.jsxs)("div",{className:"mt-2 ml-4 space-y-2 border-l-2 border-white/20 pl-4 animate-fadeIn",children:[(0,Uv.jsxs)(wt,{to:"/teacher/archives/classes",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-white hover:bg-white/10 transition-all duration-200 group ".concat("/teacher/archives/classes"===y.pathname?"bg-white/15":""),children:[(0,Uv.jsx)(Ry,{size:18,className:"text-amber-300 group-hover:scale-110 transition-transform"}),(0,Uv.jsx)("span",{className:"font-Outfit text-sm font-medium",children:"Archived Classes"})]}),(0,Uv.jsxs)(wt,{to:"/teacher/archives/quizzes",onClick:()=>s(!1),className:"flex items-center gap-3 px-3 py-2 rounded-lg text-white hover:bg-white/10 transition-all duration-200 group ".concat("/teacher/archives/quizzes"===y.pathname?"bg-white/15":""),children:[(0,Uv.jsx)(Qy,{size:18,className:"text-amber-300 group-hover:scale-110 transition-transform"}),(0,Uv.jsx)("span",{className:"font-Outfit text-sm font-medium",children:"Archived Quizzes"})]})]})]})]}),(0,Uv.jsx)("div",{className:"pt-4 pb-2",children:(0,Uv.jsx)("div",{className:"border-t border-white/20 rounded-full"})}),(0,Uv.jsxs)("button",{onClick:()=>{s(!1),u(!0)},title:x?"":"Logout",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group w-full\n              ".concat(x?"gap-4 px-3 py-3.5 hover:bg-red-500/30":"justify-center py-3 hover:bg-red-500/30"),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/50 to-red-500/20 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300",children:(0,Uv.jsx)(Yy,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0 overflow-hidden"),children:"Logout"})]})]}),(0,Uv.jsx)("div",{onClick:()=>{s(!1),v("/teacher/profile")},className:"flex w-full absolute bottom-0 font-Outfit items-center bg-gradient-to-r from-green-900/50 to-blue-900/50 backdrop-blur-sm border-t border-white/10 transition-all duration-300 cursor-pointer ".concat(x?"px-10 py-6 gap-3":"items-center justify-center py-6 pl-4"),children:(0,Uv.jsxs)("div",{className:"flex items-center gap-4 transform hover:scale-105 transition-transform duration-300",children:[(0,Uv.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white/20 flex-shrink-0",children:j}),(0,Uv.jsxs)("div",{className:"flex flex-col text-white overflow-hidden transition-all duration-300 ".concat(x?"opacity-100 max-w-xs":"opacity-0 max-w-0"),children:[(0,Uv.jsx)("p",{className:"text-white font-semibold text-sm",children:E}),(0,Uv.jsx)("p",{className:"text-blue-200 font-light text-xs",children:k})]})]})})]}),a&&(0,Uv.jsx)("div",{onClick:()=>s(!1),className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-30 lg:hidden transition-opacity"}),l&&(0,Uv.jsx)("div",{className:"font-Outfit fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 transform animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Uv.jsx)("div",{className:"bg-red-100 p-4 rounded-full items-center justify-center flex",children:(0,Uv.jsx)(Yy,{className:"text-red-500",size:24})}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold text-title",children:"Confirm Logout"}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Are you sure you want to log out?"})]})]}),(0,Uv.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Uv.jsx)("button",{onClick:()=>u(!1),className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 active:scale-95 hover:scale-105 duration-200 transition font-semibold",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{try{await Qs(kv),v("/")}catch(e){console.error("Error logging out:",e),alert("Failed to logout. Please try again.")}},className:"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 active:scale-95 hover:scale-105 duration-200 transition font-semibold",children:"Log Out"})]})]})})]})}const Lx=Dv("school",[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),zx=Dv("notebook-pen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);function Fx(e){let{user:n,userDoc:r}=e;const[a,s]=(0,t.useState)("288px"),i=fe(),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(0),[d,h]=(0,t.useState)(0),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!0),x=(null===r||void 0===r?void 0:r.id)||(null===n||void 0===n?void 0:n.uid);(0,t.useEffect)(()=>{if(!x)return void m(!1);m(!0);const e=vv(Xg(lg(jv,"classes"),Jg("teacherId","==",x)),e=>{l(e.size),m(!1)},e=>{console.error("Error fetching classes:",e),m(!1)});return()=>e()},[x,i.pathname]),(0,t.useEffect)(()=>{if(!x)return void g(!1);g(!0);const e=vv(Xg(lg(jv,"quizzes"),Jg("teacherId","==",x)),e=>{u(e.size),g(!1)},e=>{console.error("Error fetching quizzes:",e),g(!1)});return()=>e()},[x,i.pathname]),(0,t.useEffect)(()=>{if(!x)return void y(!1);y(!0);const e=vv(Xg(lg(jv,"classes"),Jg("teacherId","==",x)),e=>{let t=0;e.forEach(e=>{t+=e.data().studentCount||0}),h(t),y(!1)},e=>{console.error("Error fetching students:",e),y(!1)});return()=>e()},[x,i.pathname]),(0,t.useEffect)(()=>{const e=new MutationObserver(()=>{const e=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();e&&s(e)});e.observe(document.documentElement,{attributes:!0,attributeFilter:["style"]});const t=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();return t&&s(t),()=>e.disconnect()},[]);const b="/teacher"===i.pathname||"/teacher/"===i.pathname;return(0,Uv.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,Uv.jsx)(Mx,{user:n,userDoc:r}),(0,Uv.jsx)("div",{className:"flex-1 overflow-y-auto transition-all duration-300",style:{marginLeft:window.innerWidth>=1024?a:"0"},children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit",children:b?(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 animate-fadeIn",children:[(0,Uv.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-title",children:["Welcome, ",(null===r||void 0===r?void 0:r.firstName)||(null===n||void 0===n?void 0:n.displayName)||"Teacher","!"]}),(0,Uv.jsx)("p",{className:"text-md md:text-xl text-subtext",children:"Manage your classes, quizzes, and view student performance analytics"}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"bg-components p-6 m-4 rounded-2xl shadow hover:shadow-lg transition",children:[(0,Uv.jsxs)("div",{className:"flex flex-row",children:[(0,Uv.jsx)(Lx,{className:"h-6 w-6 mr-2 text-blue-500 animate-bounceIn"}),(0,Uv.jsx)("h1",{className:"text-xl font-semibold mb-2 text-title",children:"Classes"})]}),(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-blue-500 mt-2",children:f?"...":o}),(0,Uv.jsx)("p",{className:"text-sm text-subtext mt-1",children:"Total Classes"})]}),(0,Uv.jsxs)("div",{className:"bg-components p-6 m-4 rounded-2xl shadow hover:shadow-lg transition",children:[(0,Uv.jsxs)("div",{className:"flex flex-row",children:[(0,Uv.jsx)(zx,{className:"h-6 w-6 mr-2 text-blue-500 animate-bounceIn"}),(0,Uv.jsx)("h1",{className:"text-xl font-semibold mb-2 text-title",children:"Quizzes"})]}),(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-blue-500 mt-2",children:p?"...":c}),(0,Uv.jsx)("p",{className:"text-sm text-subtext mt-1",children:"Total Quizzes"})]}),(0,Uv.jsxs)("div",{className:"bg-components p-6 m-4 rounded-2xl shadow hover:shadow-lg transition [animation-delay:200ms]",children:[(0,Uv.jsxs)("div",{className:"flex flex-row",children:[(0,Uv.jsx)(fx,{className:"h-6 w-6 mr-2 text-blue-500 animate-bounceIn"}),(0,Uv.jsx)("h1",{className:"text-xl font-semibold mb-2 text-title",children:"Students"})]}),(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-blue-500 mt-2",children:v?"...":d}),(0,Uv.jsx)("p",{className:"text-sm text-subtext mt-1",children:"Total Students"})]})]})]}):(0,Uv.jsx)(Me,{})})})})]})}const Ux=Dv("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var qx=n(847),Bx=n.n(qx),Vx={version:"0.18.5"},Hx=1200,Wx=1252,Gx=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Qx={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Kx=function(e){-1!=Gx.indexOf(e)&&(Wx=Qx[0]=e)};var Yx=function(e){Hx=e,Kx(e)};function Xx(){Yx(1200),Kx(1252)}function $x(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function Jx(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Zx,eb=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?function(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==n?Jx(e.slice(2)):65279==t?e.slice(1):e},tb=function(e){return String.fromCharCode(e)},nb=function(e){return String.fromCharCode(e)};var rb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ab(e){for(var t="",n=0,r=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)s=(n=e.charCodeAt(c++))>>2,i=(3&n)<<4|(r=e.charCodeAt(c++))>>4,o=(15&r)<<2|(a=e.charCodeAt(c++))>>6,l=63&a,isNaN(r)?o=l=64:isNaN(a)&&(l=64),t+=rb.charAt(s)+rb.charAt(i)+rb.charAt(o)+rb.charAt(l);return t}function sb(e){var t="",n=0,r=0,a=0,s=0,i=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=rb.indexOf(e.charAt(l++))<<2|(s=rb.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&s)<<4|(i=rb.indexOf(e.charAt(l++)))>>2,64!==i&&(t+=String.fromCharCode(r)),a=(3&i)<<6|(o=rb.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(a));return t}var ib=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),ob=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(G5){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function lb(e){return ib?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function cb(e){return ib?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var ub=function(e){return ib?ob(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function db(e){if("undefined"===typeof ArrayBuffer)return ub(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function hb(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function fb(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return fb(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var mb=ib?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:ob(e)}))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var pb=/\u0000/g,gb=/[\u0001-\u0006]/g;function vb(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function yb(e,t){var n=""+e;return n.length>=t?n:Iw("0",t-n.length)+n}function xb(e,t){var n=""+e;return n.length>=t?n:Iw(" ",t-n.length)+n}function bb(e,t){var n=""+e;return n.length>=t?n:n+Iw(" ",t-n.length)}var wb=Math.pow(2,32);function Nb(e,t){return e>wb||e<-wb?function(e,t){var n=""+Math.round(e);return n.length>=t?n:Iw("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:Iw("0",t-n.length)+n}(Math.round(e),t)}function Sb(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var Eb=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],kb=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var jb={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},Tb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_b={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cb(e,t,n){for(var r=e<0?-1:1,a=e*r,s=0,i=1,o=0,l=1,c=0,u=0,d=Math.floor(a);c<t&&(o=(d=Math.floor(a))*i+s,u=d*c+l,!(a-d<5e-8));)a=1/(a-d),s=i,i=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=i)),!n)return[0,r*o,u];var h=Math.floor(r*o/u);return[h,r*o-h*u,u]}function Ab(e,t,n){if(e>2958465||e<0)return null;var r=0|e,a=Math.floor(86400*(e-r)),s=0,i=[],o={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++a&&(o.T=a=0,++r,++o.D)),60===r)i=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)i=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var Ob=new Date(1899,11,31,0,0,0),Ib=Ob.getTime(),Pb=new Date(1900,2,1,0,0,0);function Db(e,t){var n=e.getTime();return t?n-=1262304e5:e>=Pb&&(n+=864e5),(n-(Ib+6e4*(e.getTimezoneOffset()-Ob.getTimezoneOffset())))/864e5}function Rb(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Mb(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=Rb(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=Rb(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),Rb(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function Lb(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):Mb(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return aw(14,Db(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function zb(e,t,n,r){var a,s="",i=0,o=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:a=l%100,c=2;break;default:a=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:a=n.m,c=t.length;break;case 3:return kb[n.m-1][1];case 5:return kb[n.m-1][0];default:return kb[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:a=n.d,c=t.length;break;case 3:return Eb[n.q][0];default:return Eb[n.q][1]}break;case 104:switch(t.length){case 1:case 2:a=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:a=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:a=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(i=Math.round(o*(n.S+n.u)))>=60*o&&(i=0),"s"===t?0===i?"0":""+i/o:(s=yb(i,2+r),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):yb(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":a=24*n.D+n.H;break;case"[m]":case"[mm]":a=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":a=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:a=l,c=1}return c>0?yb(a,c):""}function Fb(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var Ub=/%/g;function qb(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+qb(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),-1===(n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a)).indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+s):n+="E+"+(i-s);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(a+s)%a)+"."+r.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Bb=/# (\?+)( ?)\/( ?)(\d+)/;var Vb=/^#*0*\.([0#]+)/,Hb=/\).*[0#]/,Wb=/\(###\) ###\\?-####/;function Gb(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function Qb(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Kb(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Yb(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Hb)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Yb("n",r,n):"("+Yb("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Jb(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(Ub,""),a=t.length-r.length;return Jb(e,r,n*Math.pow(10,2*a))+Iw("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return qb(t,n);if(36===t.charCodeAt(0))return"$"+Yb(e,t.substr(" "==t.charAt(1)?2:1),n);var a,s,i,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Nb(l,t.length);if(t.match(/^[#?]+$/))return"0"===(a=Nb(n,0))&&(a=""),a.length>t.length?a:Gb(t.substr(0,t.length-a.length))+a;if(s=t.match(Bb))return function(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),s=Math.floor(a/r),i=a-s*r,o=r;return n+(0===s?"":""+s)+" "+(0===i?Iw(" ",e[1].length+1+e[4].length):xb(i,e[1].length)+e[2]+"/"+e[3]+yb(o,e[4].length))}(s,l,c);if(t.match(/^#+0+$/))return c+Nb(l,t.length-t.indexOf("0"));if(s=t.match(Vb))return a=Qb(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Gb(s[1])).replace(/\.$/,"."+Gb(s[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+Iw("0",Gb(s[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+Qb(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Fb(Nb(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Yb(e,t,-n):Fb(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,s[1].length)))+"."+yb(Kb(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Yb(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=vb(Yb(e,t.replace(/[\\-]/g,""),n)),i=0,vb(vb(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""}));if(t.match(Wb))return"("+(a=Yb(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Cb(l,Math.pow(10,i)-1,!1),a=""+c," "==(u=Jb("n",s[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],(u=bb(o[2],i)).length<s[4].length&&(u=Gb(s[4].substr(s[4].length-u.length))+u),a+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=Cb(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?xb(o[1],i)+s[2]+"/"+s[3]+bb(o[2],i):Iw(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Nb(n,0),t.length<=a.length?a:Gb(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var d=t.indexOf(".")-i,h=t.length-a.length-d;return Gb(t.substr(0,d)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=Kb(n,s[1].length),n<0?"-"+Yb(e,t,-n):Fb(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?yb(0,3-e.length):"")+e})+"."+yb(i,s[1].length);switch(t){case"###,##0.00":return Yb(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=Fb(Nb(l,0));return"0"!==f?c+f:"";case"###,###.00":return Yb(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Yb(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Xb(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+Xb(e,-t);var a=e.indexOf(".");-1===a&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),!(n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a)).match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+s):n+="E+"+(i-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(a+s)%a)+"."+r.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function $b(e,t,n){if(40===e.charCodeAt(0)&&!t.match(Hb)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?$b("n",r,n):"("+$b("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return Jb(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(Ub,""),a=t.length-r.length;return Jb(e,r,n*Math.pow(10,2*a))+Iw("%",a)}(e,t,n);if(-1!==t.indexOf("E"))return Xb(t,n);if(36===t.charCodeAt(0))return"$"+$b(e,t.substr(" "==t.charAt(1)?2:1),n);var a,s,i,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+yb(l,t.length);if(t.match(/^[#?]+$/))return a=""+n,0===n&&(a=""),a.length>t.length?a:Gb(t.substr(0,t.length-a.length))+a;if(s=t.match(Bb))return function(e,t,n){return n+(0===t?"":""+t)+Iw(" ",e[1].length+2+e[4].length)}(s,l,c);if(t.match(/^#+0+$/))return c+yb(l,t.length-t.indexOf("0"));if(s=t.match(Vb))return a=(a=(""+n).replace(/^([^\.]+)$/,"$1."+Gb(s[1])).replace(/\.$/,"."+Gb(s[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+Iw("0",Gb(s[1]).length-t.length)}),-1!==t.indexOf("0.")?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+Fb(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+$b(e,t,-n):Fb(""+n)+"."+Iw("0",s[1].length);if(s=t.match(/^#,#*,#0/))return $b(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=vb($b(e,t.replace(/[\\-]/g,""),n)),i=0,vb(vb(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<a.length?a.charAt(i++):"0"===e?"0":""}));if(t.match(Wb))return"("+(a=$b(e,"##########",n)).substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Cb(l,Math.pow(10,i)-1,!1),a=""+c," "==(u=Jb("n",s[1],o[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],(u=bb(o[2],i)).length<s[4].length&&(u=Gb(s[4].substr(s[4].length-u.length))+u),a+=u;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),c+((o=Cb(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?xb(o[1],i)+s[2]+"/"+s[3]+bb(o[2],i):Iw(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Gb(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var d=t.indexOf(".")-i,h=t.length-a.length-d;return Gb(t.substr(0,d)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+$b(e,t,-n):Fb(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?yb(0,3-e.length):"")+e})+"."+yb(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=Fb(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return $b(e,t.slice(0,t.lastIndexOf(".")),n)+Gb(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Jb(e,t,n){return(0|n)===n?$b(e,t,n):Yb(e,t,n)}var Zb=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ew(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Sb(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(Zb))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var tw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function nw(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function rw(e,t){var n=function(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var i=n[0].match(tw),o=n[1].match(tw);return nw(t,i)?[r,n[0]]:nw(t,o)?[r,n[1]]:[r,n[null!=i&&null!=o?2:1]]}return[r,s]}function aw(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:jb)[e])&&(r=n.table&&n.table[Tb[e]]||jb[Tb[e]]),null==r&&(r=_b[e]||"General")}if(Sb(r,0))return Lb(t,n);t instanceof Date&&(t=Db(t,n.date1904));var a=rw(r,t);if(Sb(a[1]))return Lb(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var a,s,i,o=[],l="",c=0,u="",d="t",h="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!Sb(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(i);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),m="("===f||")"===f?f:"t";o[o.length]={t:m,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==a&&null==(a=Ab(t,n,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==a&&null==(a=Ab(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),o[o.length]={t:u,v:l},d=u;break;case"A":case"a":case"\u4e0a":var p={t:u,v:u};if(null==a&&(a=Ab(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=a&&(p.v=a.H>=12?"P":"A"),p.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=a&&(p.v=a.H>=12?"PM":"AM"),p.t="T",c+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=a&&(p.v=a.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),p.t="T",c+=5,h="h"):(p.t="t",++c),null==a&&"T"===p.t)return"";o[o.length]=p,d=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(Zb)){if(null==a&&null==(a=Ab(t,n)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",ew(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=a){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;o[o.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;o[o.length]={t:u,v:l},d=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=o.length-1,d="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=h,d="h",v<1&&(v=1);break;case"s":(g=o[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=o[c].t;break;case"m":"s"===d&&(o[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[c].v.match(/[Hh]/)&&(v=1),v<2&&o[c].v.match(/[Mm]/)&&(v=2),v<3&&o[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M),a.M>=60&&(a.M=0,++a.H);break;case 2:a.u>=.5&&(a.u=0,++a.S),a.S>=60&&(a.S=0,++a.M)}var x,b="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=zb(o[c].t.charCodeAt(0),o[c].v,a,y),o[c].t="t";break;case"n":case"?":for(x=c+1;null!=o[x]&&("?"===(u=o[x].t)||"D"===u||(" "===u||"t"===u)&&null!=o[x+1]&&("?"===o[x+1].t||"t"===o[x+1].t&&"/"===o[x+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[x].v||" "===o[x].v&&null!=o[x+1]&&"?"==o[x+1].t));)o[c].v+=o[x].v,o[x]={v:"",t:";"},++x;b+=o[c].v,c=x-1;break;case"G":o[c].t="t",o[c].v=Lb(t,n)}var w,N,S="";if(b.length>0){40==b.charCodeAt(0)?(w=t<0&&45===b.charCodeAt(0)?-t:t,N=Jb("n",b,w)):(N=Jb("n",b,w=t<0&&r>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(N=N.substr(1),o[0].v="-"+o[0].v)),x=N.length-1;var E=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){E=c;break}var k=o.length;if(E===o.length&&-1===N.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(x>=o[c].v.length-1?(x-=o[c].v.length,o[c].v=N.substr(x+1,o[c].v.length)):x<0?o[c].v="":(o[c].v=N.substr(0,x+1),x=-1),o[c].t="t",k=c);x>=0&&k<o.length&&(o[k].v=N.substr(0,x+1)+o[k].v)}else if(E!==o.length&&-1===N.indexOf("E")){for(x=N.indexOf(".")-1,c=E;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(s=o[c].v.indexOf(".")>-1&&c===E?o[c].v.indexOf(".")-1:o[c].v.length-1,S=o[c].v.substr(s+1);s>=0;--s)x>=0&&("0"===o[c].v.charAt(s)||"#"===o[c].v.charAt(s))&&(S=N.charAt(x--)+S);o[c].v=S,o[c].t="t",k=c}for(x>=0&&k<o.length&&(o[k].v=N.substr(0,x+1)+o[k].v),x=N.indexOf(".")+1,c=E;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===E)){for(s=o[c].v.indexOf(".")>-1&&c===E?o[c].v.indexOf(".")+1:0,S=o[c].v.substr(0,s);s<o[c].v.length;++s)x<N.length&&(S+=N.charAt(x++));o[c].v=S,o[c].t="t",k=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=Jb(o[c].t,o[c].v,w),o[c].t="t");var j="";for(c=0;c!==o.length;++c)null!=o[c]&&(j+=o[c].v);return j}(a[1],t,n,a[0])}function sw(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=jb[n]){if(jb[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return jb[t]=e,t}function iw(e){for(var t=0;392!=t;++t)void 0!==e[t]&&sw(e[t],t)}function ow(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',jb=e}var lw={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},cw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var uw=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,a="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)a[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=a[t]=n>>>8^e[255&n];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!==typeof Int32Array?a.subarray(256*r,256*r+256):a.slice(256*r,256*r+256);return s}(t),r=n[0],a=n[1],s=n[2],i=n[3],o=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],m=n[11],p=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,a=0,s=e.length;a<s;)r=r>>>8^t[255&(r^e.charCodeAt(a++))];return~r},e.buf=function(e,n){for(var y=-1^n,x=e.length-15,b=0;b<x;)y=v[e[b++]^255&y]^g[e[b++]^y>>8&255]^p[e[b++]^y>>16&255]^m[e[b++]^y>>>24]^f[e[b++]]^h[e[b++]]^d[e[b++]]^u[e[b++]]^c[e[b++]]^l[e[b++]]^o[e[b++]]^i[e[b++]]^s[e[b++]]^a[e[b++]]^r[e[b++]]^t[e[b++]];for(x+=15;b<x;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,n){for(var r=-1^n,a=0,s=e.length,i=0,o=0;a<s;)(i=e.charCodeAt(a++))<128?r=r>>>8^t[255&(r^i)]:i<2048?r=(r=r>>>8^t[255&(r^(192|i>>6&31))])>>>8^t[255&(r^(128|63&i))]:i>=55296&&i<57344?(i=64+(1023&i),o=1023&e.charCodeAt(a++),r=(r=(r=(r=r>>>8^t[255&(r^(240|i>>8&7))])>>>8^t[255&(r^(128|i>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&i)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|i>>12&15))])>>>8^t[255&(r^(128|i>>6&63))])>>>8^t[255&(r^(128|63&i))];return~r},e}(),dw=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function a(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function s(e){DS(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),a=e.read_shift(2),s=e.l+a,i={};if(21589===r)1&(n=e.read_shift(1))&&(i.mtime=e.read_shift(4)),a>5&&(2&n&&(i.atime=e.read_shift(4)),4&n&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));e.l=s,t[r]=i}return t}function i(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=N(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(ib&&Buffer.isBuffer(e)?e.toString("binary"):N(e)).split("\r\n"),a=0,s="";for(a=0;a<r.length;++a)if(s=r[a],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),n||(n=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),s.slice(0,n.length)!=n););var i=(r[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var o="--"+(i[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};h(u);var d,f=0;for(a=0;a<r.length;++a){var m=r[a];m!==o&&m!==o+"--"||(f++&&ce(u,r.slice(d,a),n),d=a)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,a,s,i,o,f=512,m=[],p=e.slice(0,512);DS(p,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(p);switch(n=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&DS(p=e.slice(0,f),28);var x=e.slice(0,f);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(p,n);var b=p.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);p.l+=4,s=p.read_shift(4,"i"),p.l+=4,p.chk("00100000","Mini Stream Cutoff Size: "),i=p.read_shift(4,"i"),r=p.read_shift(4,"i"),o=p.read_shift(4,"i"),a=p.read_shift(4,"i");for(var w=-1,S=0;S<109&&!((w=p.read_shift(4,"i"))<0);++S)m[S]=w;var E=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],a=1;a<n;++a)r[a-1]=e.slice(a*t,(a+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);c(o,a,E,f,m);var k=function(e,t,n,r){var a=e.length,s=[],i=[],o=[],l=[],c=r-1,u=0,d=0,h=0,f=0;for(u=0;u<a;++u)if(o=[],(h=u+t)>=a&&(h-=a),!i[h]){l=[];var m=[];for(d=h;d>=0;){m[d]=!0,i[d]=!0,o[o.length]=d,l.push(e[d]);var p=n[Math.floor(4*d/r)];if(r<4+(f=4*d&c))throw new Error("FAT boundary crossed: "+d+" 4 "+r);if(!e[p])break;if(m[d=jS(e[p],f)])break}s[h]={nodes:o,data:tS([l])}}return s}(E,s,m,f);k[s].name="!Directory",r>0&&i!==v&&(k[i].name="!MiniFAT"),k[m[0]].name="!FAT",k.fat_addrs=m,k.ssz=f;var j=[],T=[],_=[];!function(e,t,n,r,a,s,i,o){for(var c,h=0,f=r.length?2:0,m=t[e].data,p=0,g=0;p<m.length;p+=128){var y=m.slice(p,p+128);DS(y,64),g=y.read_shift(2),c=rS(y,0,g-f),r.push(c);var x={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(x.ct=d(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(x.mt=d(y,y.l-8)),x.start=y.read_shift(4,"i"),x.size=y.read_shift(4,"i"),x.size<0&&x.start<0&&(x.size=x.type=0,x.start=v,x.name=""),5===x.type?(h=x.start,a>0&&h!==v&&(t[h].name="!StreamData")):x.size>=4096?(x.storage="fat",void 0===t[x.start]&&(t[x.start]=u(n,x.start,t.fat_addrs,t.ssz)),t[x.start].name=x.name,x.content=t[x.start].data.slice(0,x.size)):(x.storage="minifat",x.size<0?x.size=0:h!==v&&x.start!==v&&t[h]&&(x.content=l(x,t[h].data,(t[o]||{}).data))),x.content&&DS(x.content,0),s[c]=x,i.push(x)}}(s,k,E,j,r,{},T,i),function(e,t,n){for(var r=0,a=0,s=0,i=0,o=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;o<u.length;++o)a=e[r=u[o]].L,s=e[r].R,i=e[r].C,c[r]===r&&(-1!==a&&c[a]!==a&&(c[r]=c[a]),-1!==s&&c[s]!==s&&(c[r]=c[s])),-1!==i&&(c[i]=r),-1!==a&&r!=c[r]&&(c[a]=c[r],u.lastIndexOf(a)<o&&u.push(a)),-1!==s&&r!=c[r]&&(c[s]=c[r],u.lastIndexOf(s)<o&&u.push(s));for(r=1;r<l;++r)c[r]===r&&(-1!==s&&c[s]!==s?c[r]=c[s]:-1!==a&&c[a]!==a&&(c[r]=c[a]));for(r=1;r<l;++r)if(0!==e[r].type){if((o=r)!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(T,_,j),j.shift();var C={FileIndex:T,FullPaths:_};return t&&t.raw&&(C.raw={header:x,sectors:E}),C}function l(e,t,n){for(var r=e.start,a=e.size,s=[],i=r;n&&a>0&&i>=0;)s.push(t.slice(i*g,i*g+g)),a-=g,i=jS(n,4*i);return 0===s.length?MS(0):mb(s).slice(0,e.size)}function c(e,t,n,r,a){var s=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=n[e],o=(r>>>2)-1;if(!i)return;for(var l=0;l<o&&(s=jS(i,4*l))!==v;++l)a.push(s);c(jS(i,r-4),t-1,n,r,a)}}function u(e,t,n,r,a){var s=[],i=[];a||(a=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){a[l]=!0,s[s.length]=l,i.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=jS(e[u],c)}return{nodes:s,data:tS([i])}}function d(e,t){return new Date(1e3*(kS(e,t+4)/1e7*Math.pow(2,32)+kS(e,t)/1e7-11644473600))}function h(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(dw.find(e,"/"+t))return;var n=MS(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var a=!1,s=!1,i=e.FullPaths.length-1;i>=0;--i){var o=e.FileIndex[i];switch(o.type){case 0:s?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(o.R*o.L*o.C)&&(a=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(a=!0);break;default:a=!0}}if(a||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},d=[];for(i=0;i<e.FullPaths.length;++i)u[e.FullPaths[i]]=!0,0!==e.FileIndex[i].type&&d.push([e.FullPaths[i],e.FileIndex[i]]);for(i=0;i<d.length;++i){var f=n(d[i][0]);(s=u[f])||(d.push([f,{name:r(f).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),u[f]=!0)}for(d.sort(function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0,s=0,i=Math.min(n.length,r.length);a<i;++a){if(s=n[a].length-r[a].length)return s;if(n[a]!=r[a])return n[a]<r[a]?-1:1}return n.length-r.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],i=0;i<d.length;++i)e.FullPaths[i]=d[i][0],e.FileIndex[i]=d[i][1];for(i=0;i<d.length;++i){var m=e.FileIndex[i],p=e.FullPaths[i];if(m.name=r(p).replace("/",""),m.L=m.R=m.C=-(m.color=1),m.size=m.content?m.content.length:0,m.start=0,m.clsid=m.clsid||b,0===i)m.C=d.length>1?1:-1,m.size=0,m.type=5;else if("/"==p.slice(-1)){for(c=i+1;c<d.length&&n(e.FullPaths[c])!=p;++c);for(m.C=c>=d.length?-1:c,c=i+1;c<d.length&&n(e.FullPaths[c])!=n(p);++c);m.R=c>=d.length?-1:c,m.type=1}else n(e.FullPaths[i+1]||"")==n(p)&&(m.R=i+1),m.type=2}}}function m(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",a=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],s=e.FullPaths[0],i=s,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(s.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=o.content,u=ib&&Buffer.isBuffer(c)?c.toString("binary"):N(c),d=0,h=Math.min(1024,u.length),f=0,m=0;m<=h;++m)(f=u.charCodeAt(m))>=32&&f<128&&++d;var p=d>=4*h/5;a.push(r),a.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+i),a.push("Content-Transfer-Encoding: "+(p?"quoted-printable":"base64")),a.push("Content-Type: "+ie(o,i)),a.push(""),a.push(p?le(u):oe(u))}return a.push(r+"--\r\n"),a.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],s=[],i=MS(1),o=n.compression?8:0,l=0;0;var c=0,u=0,d=0,h=0,f=e.FullPaths[0],m=f,p=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(m=e.FullPaths[c].slice(f.length),(p=e.FileIndex[c]).size&&p.content&&"\x01Sh33tJ5"!=m){var y=d,x=MS(m.length);for(u=0;u<m.length;++u)x.write_shift(1,127&m.charCodeAt(u));x=x.slice(0,x.l),g[h]=uw.buf(p.content,0);var b=p.content;8==o&&(b=S(b)),(i=MS(30)).write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),p.mt?a(i,p.mt):i.write_shift(4,0),i.write_shift(-4,8&l?0:g[h]),i.write_shift(4,8&l?0:b.length),i.write_shift(4,8&l?0:p.content.length),i.write_shift(2,x.length),i.write_shift(2,0),d+=i.length,r.push(i),d+=x.length,r.push(x),d+=b.length,r.push(b),8&l&&((i=MS(12)).write_shift(-4,g[h]),i.write_shift(4,b.length),i.write_shift(4,p.content.length),d+=i.l,r.push(i)),(i=MS(46)).write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),i.write_shift(4,0),i.write_shift(-4,g[h]),i.write_shift(4,b.length),i.write_shift(4,p.content.length),i.write_shift(2,x.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,y),v+=i.l,s.push(i),v+=x.length,s.push(x),++h}return i=MS(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,h),i.write_shift(2,h),i.write_shift(4,v),i.write_shift(4,d),i.write_shift(2,0),mb([mb(r),mb(s),i])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var a=e.FileIndex[r];if(a.content){var s=a.content.length;s>0&&(s<4096?t+=s+63>>6:n+=s+511>>9)}}for(var i=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+i+o,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var d=[1,u,c,o,i,n,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),s=MS(r[7]<<9),i=0,o=0;for(i=0;i<8;++i)s.write_shift(1,x[i]);for(i=0;i<8;++i)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),i=0;i<3;++i)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,r[2]),s.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),s.write_shift(4,r[3]),s.write_shift(-4,r[1]?r[0]-1:v),s.write_shift(4,r[1]),i=0;i<109;++i)s.write_shift(-4,i<r[2]?r[1]+i:-1);if(r[1])for(o=0;o<r[1];++o){for(;i<236+127*o;++i)s.write_shift(-4,i<r[2]?r[1]+i:-1);s.write_shift(-4,o===r[1]-1?v:o+1)}var l=function(e){for(o+=e;i<o-1;++i)s.write_shift(-4,i+1);e&&(++i,s.write_shift(-4,v))};for(o=i=0,o+=r[1];i<o;++i)s.write_shift(-4,w.DIFSECT);for(o+=r[2];i<o;++i)s.write_shift(-4,w.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,d=e.FileIndex[0];c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&((u=d.content.length)<4096||(d.start=o,l(u+511>>9)));for(l(r[6]+7>>3);511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(o=i=0,c=0;c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&(!(u=d.content.length)||u>=4096||(d.start=o,l(u+63>>6)));for(;511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(i=0;i<r[4]<<2;++i){var h=e.FullPaths[i];if(h&&0!==h.length){d=e.FileIndex[i],0===i&&(d.start=d.size?d.start-1:v);var m=0===i&&n.root||d.name;if(u=2*(m.length+1),s.write_shift(64,m,"utf16le"),s.write_shift(2,u),s.write_shift(1,d.type),s.write_shift(1,d.color),s.write_shift(-4,d.L),s.write_shift(-4,d.R),s.write_shift(-4,d.C),d.clsid)s.write_shift(16,d.clsid,"hex");else for(c=0;c<4;++c)s.write_shift(4,0);s.write_shift(4,d.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,d.start),s.write_shift(4,d.size),s.write_shift(4,0)}else{for(c=0;c<17;++c)s.write_shift(4,0);for(c=0;c<3;++c)s.write_shift(4,-1);for(c=0;c<12;++c)s.write_shift(4,0)}}for(i=1;i<e.FileIndex.length;++i)if((d=e.FileIndex[i]).size>=4096)if(s.l=d.start+1<<9,ib&&Buffer.isBuffer(d.content))d.content.copy(s,s.l,0,d.size),s.l+=d.size+511&-512;else{for(c=0;c<d.size;++c)s.write_shift(1,d.content[c]);for(;511&c;++c)s.write_shift(1,0)}for(i=1;i<e.FileIndex.length;++i)if((d=e.FileIndex[i]).size>0&&d.size<4096)if(ib&&Buffer.isBuffer(d.content))d.content.copy(s,s.l,0,d.size),s.l+=d.size+63&-64;else{for(c=0;c<d.size;++c)s.write_shift(1,d.content[c]);for(;63&c;++c)s.write_shift(1,0)}if(ib)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var p,g=64,v=-2,y="d0cf11e0a1b11ae1",x=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function N(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return p?p.deflateRawSync(e):K(e)}var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function T(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var _="undefined"!==typeof Uint8Array,C=_?new Uint8Array(256):[],A=0;A<256;++A)C[A]=T(A);function O(e,t){var n=C[255&e];return t<=8?n>>>8-t:(n=n<<8|C[e>>8&255],t<=16?n>>>16-t:(n=n<<8|C[e>>16&255])>>>24-t)}function I(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function R(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function M(e,t,n){var r=7&t,a=t>>>3,s=(1<<n)-1,i=e[a]>>>r;return n<8-r?i&s:(i|=e[a+1]<<8-r,n<16-r?i&s:(i|=e[a+2]<<16-r,n<24-r?i&s:(i|=e[a+3]<<24-r)&s))}function L(e,t,n){var r=7&t,a=t>>>3;return r<=5?e[a]|=(7&n)<<r:(e[a]|=n<<r&255,e[a+1]=(7&n)>>8-r),t+3}function z(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function F(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function U(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function q(e,t){var n=e.length,r=2*n>t?2*n:t+5,a=0;if(n>=t)return e;if(ib){var s=cb(r);if(e.copy)e.copy(s);else for(;a<e.length;++a)s[a]=e[a];return s}if(_){var i=new Uint8Array(r);if(i.set)i.set(e);else for(;a<n;++a)i[a]=e[a];return i}return e.length=r,e}function B(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function V(e,t,n){var r=1,a=0,s=0,i=0,o=0,l=e.length,c=_?new Uint16Array(32):B(32);for(s=0;s<32;++s)c[s]=0;for(s=l;s<n;++s)e[s]=0;l=e.length;var u=_?new Uint16Array(l):B(l);for(s=0;s<l;++s)c[a=e[s]]++,r<a&&(r=a),u[s]=0;for(c[0]=0,s=1;s<=r;++s)c[s+16]=o=o+c[s-1]<<1;for(s=0;s<l;++s)0!=(o=e[s])&&(u[s]=c[o+16]++);var d=0;for(s=0;s<l;++s)if(0!=(d=e[s]))for(o=O(u[s],r)>>r-d,i=(1<<r+4-d)-1;i>=0;--i)t[o|i<<d]=15&d|s<<4;return r}var H=_?new Uint16Array(512):B(512),W=_?new Uint16Array(32):B(32);if(!_){for(var G=0;G<512;++G)H[G]=0;for(G=0;G<32;++G)W[G]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);V(e,W,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);V(n,H,288)}();var Q=function(){for(var e=_?new Uint8Array(32768):[],t=0,n=0;t<j.length-1;++t)for(;n<j[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=_?new Uint8Array(259):[];for(t=0,n=0;t<k.length-1;++t)for(;n<k[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),a=n+r==e.length;for(t.write_shift(1,+a),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var a=0,s=0,i=_?new Uint16Array(32768):[];s<t.length;){var o=Math.min(65535,t.length-s);if(o<10){for(7&(a=L(n,a,+!(s+o!=t.length)))&&(a+=8-(7&a)),n.l=a/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[s++];a=8*n.l}else{a=L(n,a,+!(s+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[s],u=-1,d=0;if((u=i[l=32767&(l<<5^c)])&&((u|=-32768&s)>s&&(u-=32768),u<s))for(;t[u+d]==t[s+d]&&d<250;)++d;if(d>2){(c=r[d])<=22?a=F(n,a,C[c+1]>>1)-1:(F(n,a,3),F(n,a+=5,C[c-23]>>5),a+=3);var h=c<8?0:c-4>>2;h>0&&(U(n,a,d-k[c]),a+=h),c=e[s-u],a=F(n,a,C[c]>>3),a-=3;var f=c<4?0:c-2>>1;f>0&&(U(n,a,s-u-j[c]),a+=f);for(var m=0;m<d;++m)i[l]=32767&s,l=32767&(l<<5^t[s]),++s;o-=d-1}else c<=143?c+=48:a=z(n,a,1),a=F(n,a,C[c]),i[l]=32767&s,++s}a=F(n,a,0)-1}}return n.l=(a+7)/8|0,n.l}(t,n)}}();function K(e){var t=MS(50+Math.floor(1.1*e.length)),n=Q(e,t);return t.slice(0,n)}var Y=_?new Uint16Array(32768):B(32768),X=_?new Uint16Array(32768):B(32768),$=_?new Uint16Array(128):B(128),J=1,Z=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,a=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var s=0,i=_?new Uint8Array(19):B(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=_?new Uint8Array(8):B(8),u=_?new Uint8Array(8):B(8),d=i.length,h=0;h<a;++h)i[E[h]]=s=P(e,t),l<s&&(l=s),c[s]++,t+=3;var f=0;for(c[0]=0,h=1;h<=l;++h)u[h]=f=f+c[h-1]<<1;for(h=0;h<d;++h)0!=(f=i[h])&&(o[h]=u[f]++);var m=0;for(h=0;h<d;++h)if(0!=(m=i[h])){f=C[o[h]]>>8-m;for(var p=(1<<7-m)-1;p>=0;--p)$[f|p<<m]=7&m|h<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(f=$[R(e,t)]),f>>>=3){case 16:for(s=3+I(e,t),t+=2,f=g[g.length-1];s-- >0;)g.push(f);break;case 17:for(s=3+P(e,t),t+=3;s-- >0;)g.push(0);break;case 18:for(s=11+R(e,t),t+=7;s-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,n),y=g.slice(n);for(h=n;h<286;++h)v[h]=0;for(h=r;h<30;++h)y[h]=0;return J=V(v,Y,286),Z=V(y,X,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[lb(t),2];for(var n=0,r=0,a=cb(t||1<<18),s=0,i=a.length>>>0,o=0,l=0;0==(1&r);)if(r=P(e,n),n+=3,r>>>1!=0)for(r>>1==1?(o=9,l=5):(n=ee(e,n),o=J,l=Z);;){!t&&i<s+32767&&(i=(a=q(a,s+32767)).length);var c=M(e,n,o),u=r>>>1==1?H[c]:Y[c];if(n+=15&u,0===((u>>>=4)>>>8&255))a[s++]=u;else{if(256==u)break;var d=(u-=257)<8?0:u-4>>2;d>5&&(d=0);var h=s+k[u];d>0&&(h+=M(e,n,d),n+=d),c=M(e,n,l),n+=15&(u=r>>>1==1?W[c]:X[c]);var f=(u>>>=4)<4?0:u-2>>1,m=j[u];for(f>0&&(m+=M(e,n,f),n+=f),!t&&i<h&&(i=(a=q(a,h+100)).length);s<h;)a[s]=a[s-m],++s}}else{7&n&&(n+=8-(7&n));var p=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,p>0)for(!t&&i<s+p&&(i=(a=q(a,s+p)).length);p-- >0;)a[s++]=e[n>>>3],n+=8}return t?[a,n+7>>>3]:[a.slice(0,s),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;DS(n,0);var r={FileIndex:[],FullPaths:[]};h(r,{root:t.root});for(var a=n.length-4;(80!=n[a]||75!=n[a+1]||5!=n[a+2]||6!=n[a+3])&&a>=0;)--a;n.l=a+4,n.l+=4;var i=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,a=0;a<i;++a){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),d=n.read_shift(2),f=n.read_shift(2);n.l+=8;var m=n.read_shift(4),p=s(n.slice(n.l+u,n.l+u+d));n.l+=u+d+f;var g=n.l;n.l=m+4,ae(n,l,c,r,p),n.l=g}return r}function ae(e,t,n,r,a){e.l+=2;var i=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,a=31&n,s=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(s-1),r.setDate(a);var i=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(i<<1),r}(e);if(8257&i)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),f="",m=0;m<d;++m)f+=String.fromCharCode(e[e.l++]);if(h){var g=s(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(l=g[21589].mt),((a||{})[21589]||{}).mt&&(l=a[21589].mt)}e.l+=h;var v=e.slice(e.l,e.l+c);switch(o){case 8:v=function(e,t){if(!p)return te(e,t);var n=new(0,p.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var y=!1;8&i&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,f,v,{unsafe:!0,mt:l})}var se={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&se[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&se[r[1]]?se[r[1]]:"application/octet-stream"}function oe(e){for(var t=ab(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),a=0;a<r.length;++a){var s=r[a];if(0!=s.length)for(var i=0;i<s.length;){var o=76,l=s.slice(i,i+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=s.slice(i,i+o),(i+=o)<s.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,a="",s="",i="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":a=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":s=c[2].trim()}}switch(++o,s.toLowerCase()){case"base64":r=ub(sb(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var a=0;a<t.length;++a)t[a]=t[a].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return ub(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var u=ue(e,a.slice(n.length),r,{unsafe:!0});i&&(u.ctype=i)}function ue(e,t,n,a){var s=a&&a.unsafe;s||h(e);var i=!s&&dw.find(e,t);if(!i){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),i={name:r(t),type:2},e.FileIndex.push(i),e.FullPaths.push(o),s||dw.utils.cfb_gc(e)}return i.content=n,i.size=n?n.length:0,a&&(a.CLSID&&(i.clsid=a.CLSID),a.mt&&(i.mt=a.mt),a.ct&&(i.ct=a.ct)),i}return t.find=function(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),a=!1;47===t.charCodeAt(0)?(a=!0,t=n[0].slice(0,-1)+t):a=-1!==t.indexOf("/");var s=t.toUpperCase(),i=!0===a?n.indexOf(s):r.indexOf(s);if(-1!==i)return e.FileIndex[i];var o=!s.match(gb);for(s=s.replace(pb,""),o&&(s=s.replace(gb,"!")),i=0;i<n.length;++i){if((o?n[i].replace(gb,"!"):n[i]).replace(pb,"")==s)return e.FileIndex[i];if((o?r[i].replace(gb,"!"):r[i]).replace(pb,"")==s)return e.FileIndex[i]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||ib&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return i(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(ub(sb(t)),n);case"binary":return o(ub(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var r=m(t,n);switch(n&&n.type||"buffer"){case"file":return i(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:N(r);case"base64":return ab("string"==typeof r?r:N(r));case"buffer":if(ib)return Buffer.isBuffer(r)?r:ob(r);case"array":return"string"==typeof r?ub(r):r}return r},t.writeFile=function(t,n,r){i();var a=m(t,r);e.writeFileSync(n,a)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:ue,cfb_del:function(e,t){h(e);var n=dw.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){h(e);var a=dw.find(e,t);if(a)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==a)return e.FileIndex[s].name=r(n),e.FullPaths[s]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:_S,CheckField:PS,prep_blob:DS,bconcat:mb,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");p=e}catch(G5){console.error("cannot use native zlib: "+(G5.message||G5))}},_deflateRaw:K,_inflateRaw:te,consts:w},t}();let hw;function fw(e){return"string"===typeof e?db(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function mw(e,t,n){if("undefined"!==typeof hw&&hw.writeFileSync)return n?hw.writeFileSync(e,t,n):hw.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=db(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?xN(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var a=new Blob([fw(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if("undefined"!==typeof saveAs)return saveAs(a,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var i=document.createElement("a");if(null!=i.download)return i.download=e,i.href=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=hb(t)),o.write(t),o.close(),t}catch(G5){if(!G5.message||!G5.message.match(/onstruct/))throw G5}throw new Error("cannot save file "+e)}function pw(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function gw(e,t){for(var n=[],r=pw(e),a=0;a!==r.length;++a)null==n[e[r[a]][t]]&&(n[e[r[a]][t]]=r[a]);return n}function vw(e){for(var t=[],n=pw(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function yw(e){for(var t=[],n=pw(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var xw=new Date(1899,11,30,0,0,0);function bw(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(xw.getTime()+6e4*(e.getTimezoneOffset()-xw.getTimezoneOffset())))/864e5}var ww=new Date,Nw=xw.getTime()+6e4*(ww.getTimezoneOffset()-xw.getTimezoneOffset()),Sw=ww.getTimezoneOffset();function Ew(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Nw),t.getTimezoneOffset()!==Sw&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-Sw)),t}function kw(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(n=1,s>3&&(r=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60}t+=n*parseInt(a[s],10)}return t}var jw=new Date("2017-02-19T19:06:09.000Z"),Tw=isNaN(jw.getFullYear())?new Date("2/19/17"):jw,_w=2017==Tw.getFullYear();function Cw(e,t){var n=new Date(e);if(_w)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==Tw.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Aw(e,t){if(ib&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return xN(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return xN(Jx(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return xN(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return xN(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(e){return n[e]||e})}catch(G5){}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Ow(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Ow(e[n]));return t}function Iw(e,t){for(var n="";n.length<t;)n+=e;return n}function Pw(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(t=Number(r))?t:t/n):t/n}var Dw=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rw(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Dw.indexOf(i))return n}else if(i.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||s>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}var Mw=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,n,r){if(e||"string"==typeof n)return t.split(n);for(var a=t.split(n),s=[a[0]],i=1;i<a.length;++i)s.push(r),s.push(a[i]);return s}}();function Lw(e){return e?e.content&&e.type?Aw(e.content,!0):e.data?eb(e.data):e.asNodeBuffer&&ib?eb(e.asNodeBuffer().toString("binary")):e.asBinary?eb(e.asBinary()):e._data&&e._data.getContent?eb(Aw(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function zw(e){if(!e)return null;if(e.data)return $x(e.data);if(e.asNodeBuffer&&ib)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?$x(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Fw(e,t){for(var n=e.FullPaths||pw(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var i=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==i||a==i)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function Uw(e,t){var n=Fw(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function qw(e,t,n){if(!n)return function(e){return e&&".bin"===e.name.slice(-4)?zw(e):Lw(e)}(Uw(e,t));if(!t)return null;try{return qw(e,t)}catch(G5){return null}}function Bw(e,t,n){if(!n)return Lw(Uw(e,t));if(!t)return null;try{return Bw(e,t)}catch(G5){return null}}function Vw(e,t,n){if(!n)return zw(Uw(e,t));if(!t)return null;try{return Vw(e,t)}catch(G5){return null}}function Hw(e){for(var t=e.FullPaths||pw(e.files),n=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Ww(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=ib?ob(n):function(e){for(var t=[],n=0,r=e.length+250,a=lb(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[n++]=i;else if(i<2048)a[n++]=192|i>>6&31,a[n++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var o=1023&e.charCodeAt(++s);a[n++]=240|i>>8&7,a[n++]=128|i>>2&63,a[n++]=128|o>>6&15|(3&i)<<4,a[n++]=128|63&o}else a[n++]=224|i>>12&15,a[n++]=128|i>>6&63,a[n++]=128|63&i;n>r&&(t.push(a.slice(0,n)),n=0,a=lb(65535),r=65530)}return t.push(a.slice(0,n)),mb(t)}(n),dw.utils.cfb_add(e,t,r);dw.utils.cfb_add(e,t,n)}else e.file(t,n)}function Gw(){return dw.utils.cfb_new()}function Qw(e,t){switch(t.type){case"base64":return dw.read(e,{type:"base64"});case"binary":return dw.read(e,{type:"binary"});case"buffer":case"array":return dw.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Kw(e,t){if("/"==e.charAt(0))return e.slice(1);var n=t.split("/");"/"!=t.slice(-1)&&n.pop();for(var r=e.split("/");0!==r.length;){var a=r.shift();".."===a?n.pop():"."!==a&&n.push(a)}return n.join("/")}var Yw='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Xw=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$w=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,Jw=Yw.match($w)?$w:/<[^>]*>/g,Zw=/<\w*:/,eN=/<(\/?)\w+:/;function tN(e,t,n){for(var r={},a=0,s=0;a!==e.length&&(32!==(s=e.charCodeAt(a))&&10!==s&&13!==s);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var i=e.match(Xw),o=0,l="",c=0,u="",d="",h=1;if(i)for(c=0;c!=i.length;++c){for(d=i[c],s=0;s!=d.length&&61!==d.charCodeAt(s);++s);for(u=d.slice(0,s).trim();32==d.charCodeAt(s+1);)++s;for(h=34==(a=d.charCodeAt(s+1))||39==a?1:0,l=d.slice(s+1+h,d.length-h),o=0;o!=u.length&&58!==u.charCodeAt(o);++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,n||(r[u.toLowerCase()]=l);else{var f=(5===o&&"xmlns"===u.slice(0,5)?"xmlns":"")+u.slice(o+1);if(r[f]&&"ext"==u.slice(o-3,o))continue;r[f]=l,n||(r[f.toLowerCase()]=l)}}return r}function nN(e){return e.replace(eN,"<$1")}var rN={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},aN=vw(rN),sN=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var a=r+"",s=a.indexOf("<![CDATA[");if(-1==s)return a.replace(e,function(e,t){return rN[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e}).replace(t,function(e,t){return String.fromCharCode(parseInt(t,16))});var i=a.indexOf("]]>");return n(a.slice(0,s))+a.slice(s+9,i)+n(a.slice(i+3))}}(),iN=/[&<>'"]/g,oN=/[\u0000-\u0008\u000b-\u001f]/g;function lN(e){return(e+"").replace(iN,function(e){return aN[e]}).replace(oN,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function cN(e){return lN(e).replace(/ /g,"_x0020_")}var uN=/[\u0000-\u001f]/g;function dN(e){return(e+"").replace(iN,function(e){return aN[e]}).replace(/\n/g,"<br/>").replace(uN,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var hN=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}}();function fN(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function mN(e){for(var t="",n=0,r=0,a=0,s=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(a=e.charCodeAt(n++),r>191&&r<224?(i=(31&r)<<6,i|=63&a,t+=String.fromCharCode(i)):(s=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&s):(o=((7&r)<<18|(63&a)<<12|(63&s)<<6|63&(i=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function pN(e){var t,n,r,a=lb(2*e.length),s=1,i=0,o=0;for(n=0;n<e.length;n+=s)s=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),s=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),s=3):(s=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(a[i++]=255&o,a[i++]=o>>>8,o=0),a[i++]=t%256,a[i++]=t>>>8;return a.slice(0,i).toString("ucs2")}function gN(e){return ob(e,"binary").toString("utf8")}var vN="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",yN=ib&&(gN(vN)==mN(vN)&&gN||pN(vN)==mN(vN)&&pN)||mN,xN=ib?function(e){return ob(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(63&a)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},bN=function(){var e={};return function(t,n){var r=t+"|"+(n||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),wN=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),NN=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),SN=/<\/?(?:vt:)?variant>/g,EN=/<(?:vt:)([^>]*)>([\s\S]*)</;function kN(e,t){var n=tN(e),r=e.match(NN(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach(function(e){var t=e.replace(SN,"").match(EN);t&&a.push({v:yN(t[2]),t:t[1]})}),a}var jN=/(^\s|\s$|\n)/;function TN(e,t){return"<"+e+(t.match(jN)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function _N(e){return pw(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function CN(e,t,n){return"<"+e+(null!=n?_N(n):"")+(null!=t?(t.match(jN)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function AN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(G5){if(t)throw G5}return""}function ON(e){if(ib&&Buffer.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return yN(hb(fb(e)));throw new Error("Bad input format: expected Buffer or string")}var IN=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,PN="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",DN="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",RN="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",MN="http://schemas.openxmlformats.org/package/2006/content-types",LN="http://schemas.openxmlformats.org/package/2006/relationships",zN="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",FN="http://purl.org/dc/elements/1.1/",UN="http://purl.org/dc/terms/",qN="http://purl.org/dc/dcmitype/",BN="http://schemas.openxmlformats.org/officeDocument/2006/relationships",VN="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",HN="http://www.w3.org/2001/XMLSchema-instance",WN="http://www.w3.org/2001/XMLSchema",GN=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],QN="urn:schemas-microsoft-com:office:office",KN="urn:schemas-microsoft-com:office:excel",YN="urn:schemas-microsoft-com:office:spreadsheet",XN="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",$N="http://macVmlSchemaUri",JN="urn:schemas-microsoft-com:vml",ZN="http://www.w3.org/TR/REC-html40";var eS=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,a=e[0][n].length;r<a;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},tS=ib?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:ob(e)})):eS(e)}:eS,nS=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(SS(e,a)));return r.join("").replace(pb,"")},rS=ib?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(pb,""):nS(e,t,n)}:nS,aS=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},sS=ib?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):aS(e,t,n)}:aS,iS=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(NS(e,a)));return r.join("")},oS=ib?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):iS(e,t,n)}:iS,lS=function(e,t){var n=kS(e,t);return n>0?oS(e,t+4,t+4+n-1):""},cS=lS,uS=function(e,t){var n=kS(e,t);return n>0?oS(e,t+4,t+4+n-1):""},dS=uS,hS=function(e,t){var n=2*kS(e,t);return n>0?oS(e,t+4,t+4+n-1):""},fS=hS,mS=function(e,t){var n=kS(e,t);return n>0?rS(e,t+4,t+4+n):""},pS=mS,gS=function(e,t){var n=kS(e,t);return n>0?oS(e,t+4,t+4+n):""},vS=gS,yS=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),a=15&e[t+6],s=5;s>=0;--s)a=256*a+e[t+s];return 2047==r?0==a?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}(e,t)},xS=yS,bS=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function wS(){rS=function(e,t,n){return Zx.utils.decode(1200,e.slice(t,n)).replace(pb,"")},oS=function(e,t,n){return Zx.utils.decode(65001,e.slice(t,n))},cS=function(e,t){var n=kS(e,t);return n>0?Zx.utils.decode(Wx,e.slice(t+4,t+4+n-1)):""},dS=function(e,t){var n=kS(e,t);return n>0?Zx.utils.decode(Hx,e.slice(t+4,t+4+n-1)):""},fS=function(e,t){var n=2*kS(e,t);return n>0?Zx.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},pS=function(e,t){var n=kS(e,t);return n>0?Zx.utils.decode(1200,e.slice(t+4,t+4+n)):""},vS=function(e,t){var n=kS(e,t);return n>0?Zx.utils.decode(65001,e.slice(t+4,t+4+n)):""}}ib&&(cS=function(e,t){if(!Buffer.isBuffer(e))return lS(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},dS=function(e,t){if(!Buffer.isBuffer(e))return uS(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},fS=function(e,t){if(!Buffer.isBuffer(e))return hS(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},pS=function(e,t){if(!Buffer.isBuffer(e))return mS(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},vS=function(e,t){if(!Buffer.isBuffer(e))return gS(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},xS=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):yS(e,t)},bS=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof Zx&&wS();var NS=function(e,t){return e[t]},SS=function(e,t){return 256*e[t+1]+e[t]},ES=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},kS=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},jS=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},TS=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function _S(e,t){var n,r,a,s,i,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,ib&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i<e;++i)l+=String.fromCharCode(SS(this,o)),o+=2;e*=2;break;case"utf8":l=oS(this,this.l,this.l+e);break;case"utf16le":e*=2,l=rS(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof Zx)return _S.call(this,e,"dbcs");l=Zx.utils.decode(Hx,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=cS(this,this.l),e=4+kS(this,this.l);break;case"lpstr-cp":l=dS(this,this.l),e=4+kS(this,this.l);break;case"lpwstr":l=fS(this,this.l),e=4+2*kS(this,this.l);break;case"lpp4":e=4+kS(this,this.l),l=pS(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+kS(this,this.l),l=vS(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(a=NS(this,this.l+e++));)c.push(tb(a));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(a=SS(this,this.l+e));)c.push(tb(a)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,i=0;i<e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return a=NS(this,o),this.l=o+1,s=_S.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(tb(SS(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof Zx){l=Zx.utils.decode(Hx,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return a=NS(this,o),this.l=o+1,s=_S.call(this,e-i,a?"dbcs-cont":"sbcs-cont"),c.join("")+s;c.push(tb(NS(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=NS(this,this.l),this.l++,n;case 2:return n=("i"===t?ES:SS)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?jS:TS)(this,this.l),this.l+=4,n):(r=kS(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?xS(this,this.l):xS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=sS(this,this.l,e)}}return this.l+=e,l}var CS=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},AS=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},OS=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function IS(e,t,n){var r=0,a=0;if("dbcs"===n){for(a=0;a!=t.length;++a)OS(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof Zx&&874==Wx)for(a=0;a!=t.length;++a){var s=Zx.utils.encode(Wx,t.charAt(a));this[this.l+a]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=255&t.charCodeAt(a);r=t.length}else{if("hex"===n){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}if("utf16le"===n){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,CS(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=r?-t:t;isFinite(i)?0==i?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[n+o]=255&s;e[n+6]=(15&a)<<4|15&s,e[n+7]=a>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,AS(this,t,this.l)}}return this.l+=r,this}function PS(e,t){var n=sS(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function DS(e,t){e.l=t,e.read_shift=_S,e.chk=PS,e.write_shift=IS}function RS(e,t){e.l+=t}function MS(e){var t=lb(e);return DS(t,0),t}function LS(e,t,n){if(e){var r,a,s;DS(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=WA[o]||WA[65535];for(s=127&(r=e.read_shift(1)),a=1;a<4&&128&r;++a)s+=(127&(r=e.read_shift(1)))<<7*a;l=e.l+s;var u=c.f&&c.f(e,s,n);if(e.l=l,t(u,c,o))return}}}function zS(){var e=[],t=ib?256:2048,n=function(e){var t=MS(e);return DS(t,0),t},r=n(t),a=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},s=function(e){return r&&e<r.length-r.l?r:(a(),r=n(Math.max(e+1,t)))};return{next:s,push:function(e){a(),null==(r=e).l&&(r.l=r.length),s(t)},end:function(){return a(),mb(e)},_bufs:e}}function FS(e,t,n,r){var a,s=+t;if(!isNaN(s)){r||(r=WA[s].p||(n||[]).length||0),a=1+(s>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var i=e.next(a);s<=127?i.write_shift(1,s):(i.write_shift(1,128+(127&s)),i.write_shift(1,s>>7));for(var o=0;4!=o;++o){if(!(r>=128)){i.write_shift(1,r);break}i.write_shift(1,128+(127&r)),r>>=7}r>0&&bS(n)&&e.push(n)}}function US(e,t,n){var r=Ow(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function qS(e,t,n){var r=Ow(e);return r.s=US(r.s,t.s,n),r.e=US(r.e,t.s,n),r}function BS(e,t){if(e.cRel&&e.c<0)for(e=Ow(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ow(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=YS(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function VS(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?BS(e.s,t.biff)+":"+BS(e.e,t.biff):(e.s.rRel?"":"$")+WS(e.s.r)+":"+(e.e.rRel?"":"$")+WS(e.e.r):(e.s.cRel?"":"$")+QS(e.s.c)+":"+(e.e.cRel?"":"$")+QS(e.e.c)}function HS(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function WS(e){return""+(e+1)}function GS(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function QS(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function KS(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function YS(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function XS(e){var t=e.indexOf(":");return-1==t?{s:KS(e),e:KS(e)}:{s:KS(e.slice(0,t)),e:KS(e.slice(t+1))}}function $S(e,t){return"undefined"===typeof t||"number"===typeof t?$S(e.s,e.e):("string"!==typeof e&&(e=YS(e)),"string"!==typeof t&&(t=YS(t)),e==t?e:e+":"+t)}function JS(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,s=e.length;for(n=0;r<s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===s||10!=a)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function ZS(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=aw(e.z,n?bw(t):t)}catch(G5){}try{return e.w=aw((e.XF||{}).numFmtId||(n?14:0),n?bw(t):t)}catch(G5){return""+t}}function eE(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?FE[e.v]||e.v:ZS(e,void 0==t?e.v:t))}function tE(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function nE(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense;var s=e||(a?[]:{}),i=0,o=0;if(s&&null!=r.origin){if("number"==typeof r.origin)i=r.origin;else{var l="string"==typeof r.origin?KS(r.origin):r.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=JS(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==i&&(c.e.r=i=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if("undefined"!==typeof t[d][h]){var f={v:t[d][h]},m=i+d,p=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>p&&(c.s.c=p),c.e.r<m&&(c.e.r=m),c.e.c<p&&(c.e.c=p),!t[d][h]||"object"!==typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"===typeof f.v?f.t="n":"boolean"===typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||jb[14],r.cellDates?(f.t="d",f.w=aw(f.z,bw(f.v))):(f.t="n",f.v=bw(f.v),f.w=aw(f.z,f.v))):f.t="s";else f=t[d][h];if(a)s[m]||(s[m]=[]),s[m][p]&&s[m][p].z&&(f.z=s[m][p].z),s[m][p]=f;else{var g=YS({c:p,r:m});s[g]&&s[g].z&&(f.z=s[g].z),s[g]=f}}}return c.s.c<1e7&&(s["!ref"]=$S(c)),s}function rE(e,t){return nE(null,e,t)}function aE(e,t){return t||(t=MS(4)),t.write_shift(4,e),t}function sE(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function iE(e,t){var n=!1;return null==t&&(n=!0,t=MS(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function oE(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function lE(e,t){var n=e.l,r=e.read_shift(1),a=sE(e),s=[],i={t:a,h:a};if(0!==(1&r)){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(oE(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=n+t,i}var cE=lE;function uE(e,t){var n=!1;return null==t&&(n=!0,t=MS(23+4*e.t.length)),t.write_shift(1,1),iE(e.t,t),t.write_shift(4,1),function(e,t){t||(t=MS(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function dE(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function hE(e,t){return null==t&&(t=MS(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function fE(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function mE(e,t){return null==t&&(t=MS(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var pE=sE,gE=iE;function vE(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function yE(e,t){var n=!1;return null==t&&(n=!0,t=MS(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var xE=sE,bE=vE,wE=yE;function NE(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var a=0===r?xS([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):jS(t,0)>>2;return n?a/100:a}function SE(e,t){null==t&&(t=MS(4));var n=0,r=0,a=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:a==(0|a)&&a>=-(1<<29)&&a<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?a:e)<<2)+(n+2))}function EE(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var kE=EE,jE=function(e,t){return t||(t=MS(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function TE(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _E(e,t){return(t||MS(8)).write_shift(8,e,"f")}function CE(e,t){if(t||(t=MS(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function AE(e,t){var n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var OE=80,IE=[OE,81],PE={1:{n:"CodePage",t:2},2:{n:"Category",t:OE},3:{n:"PresentationFormat",t:OE},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:OE},15:{n:"Company",t:OE},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:OE},27:{n:"ContentStatus",t:OE},28:{n:"Language",t:OE},29:{n:"Version",t:OE},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},DE={1:{n:"CodePage",t:2},2:{n:"Title",t:OE},3:{n:"Subject",t:OE},4:{n:"Author",t:OE},5:{n:"Keywords",t:OE},6:{n:"Comments",t:OE},7:{n:"Template",t:OE},8:{n:"LastAuthor",t:OE},9:{n:"RevNumber",t:OE},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:OE},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},RE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ME=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function LE(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var zE=Ow(LE([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),FE={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UE={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},qE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},BE={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function VE(e,t){var n,r=function(e){for(var t=[],n=pw(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(qE),a=[];a[a.length]=Yw,a[a.length]=CN("Types",null,{xmlns:MN,"xmlns:xsd":WN,"xmlns:xsi":HN}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return CN("Default",null,{Extension:e[0],ContentType:e[1]})}));var s=function(r){e[r]&&e[r].length>0&&(n=e[r][0],a[a.length]=CN("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:BE[r][t.bookType]||BE[r].xlsx}))},i=function(n){(e[n]||[]).forEach(function(e){a[a.length]=CN("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:BE[n][t.bookType]||BE[n].xlsx})})},o=function(t){(e[t]||[]).forEach(function(e){a[a.length]=CN("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})})};return s("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var HE={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function WE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function GE(e,t){var n={"!id":{}};if(!e)return n;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(Jw)||[]).forEach(function(e){var a=tN(e);if("<Relationship"===a[0]){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var i="External"===a.TargetMode?a.Target:Kw(a.Target,t);n[i]=s,r[a.Id]=s}}),n["!id"]=r,n}function QE(e){var t=[Yw,CN("Relationships",null,{xmlns:LN})];return pw(e["!id"]).forEach(function(n){t[t.length]=CN("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function KE(e,t,n,r,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,s?a.TargetMode=s:[HE.HLINK,HE.XPATH,HE.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function YE(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function XE(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function $E(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Vx.version+"</meta:generator></office:meta></office:document-meta>"}var JE=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ZE=function(){for(var e=new Array(JE.length),t=0;t<JE.length;++t){var n=JE[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function ek(e){var t={};e=yN(e);for(var n=0;n<JE.length;++n){var r=JE[n],a=e.match(ZE[n]);null!=a&&a.length>0&&(t[r[1]]=sN(a[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=Cw(t[r[1]]))}return t}function tk(e,t,n,r,a){null==a[e]&&null!=t&&""!==t&&(a[e]=t,t=lN(t),r[r.length]=n?CN(e,t,n):TN(e,t))}function nk(e,t){var n=t||{},r=[Yw,CN("cp:coreProperties",null,{"xmlns:cp":PN,"xmlns:dc":FN,"xmlns:dcterms":UN,"xmlns:dcmitype":qN,"xmlns:xsi":HN})],a={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&tk("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:AN(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),null!=e.ModifiedDate&&tk("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:AN(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var s=0;s!=JE.length;++s){var i=JE[s],o=n.Props&&null!=n.Props[i[1]]?n.Props[i[1]]:e?e[i[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&tk(i[0],o,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var rk=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ak=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sk(e,t,n,r){var a=[];if("string"==typeof e)a=kN(e,r);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(e){return{v:e}}));var i="string"==typeof t?kN(t,r).map(function(e){return e.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"\u5de5\u4f5c\u8868":case"\u041b\u0438\u0441\u0442\u044b":case"\u0623\u0648\u0631\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":case"\u30ef\u30fc\u30af\u30b7\u30fc\u30c8":case"\u05d2\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05d3\u05d4":case"Arbeitsbl\xe4tter":case"\xc7al\u0131\u015fma Sayfalar\u0131":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de c\xe1lculo":case"Planilhas":case"Regneark":case"Hojas de c\xe1lculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"\u540d\u524d\u4ed8\u304d\u4e00\u89a7":case"Benannte Bereiche":case"Navngivne omr\xe5der":n.NamedRanges=l,n.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=i.slice(o,o+l)}o+=l}}function ik(e){var t=[],n=CN;return e||(e={}),e.Application="SheetJS",t[t.length]=Yw,t[t.length]=CN("Properties",null,{xmlns:RN,"xmlns:vt":VN}),rk.forEach(function(r){if(void 0!==e[r[1]]){var a;switch(r[2]){case"string":a=lN(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false"}void 0!==a&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+lN(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ok=/<[^>]+>[^<]*/g;function lk(e){var t=[Yw,CN("Properties",null,{xmlns:DN,"xmlns:vt":VN})];if(!e)return t.join("");var n=1;return pw(e).forEach(function(r){++n,t[t.length]=CN("property",function(e,t){switch(typeof e){case"string":var n=CN("vt:lpwstr",lN(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return CN((0|e)==e?"vt:i4":"vt:r8",lN(String(e)));case"boolean":return CN("vt:bool",e?"true":"false")}if(e instanceof Date)return CN("vt:filetime",AN(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:lN(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ck,uk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function dk(e,t,n){ck||(ck=vw(uk)),e[t=ck[t]||t]=n}function hk(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function fk(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function mk(e,t,n){var r=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function pk(e,t,n){return 31===t?mk(e):fk(e,0,n)}function gk(e,t,n){return pk(e,t,!1===n?0:4)}function vk(e){var t=e.l,n=bk(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[n,bk(e,3)]}function yk(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var s=e.read_shift(4),i=e.read_shift(4);r[s]=e.read_shift(i,1200===t?"utf16le":"utf8").replace(pb,"").replace(gb,"!"),1200===t&&i%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function xk(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),n}function bk(e,t,n){var r,a=e.read_shift(2),s=n||{};if(e.l+=2,12!==t&&a!==t&&-1===IE.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&a)))throw new Error("Expected type "+t+" saw "+a);switch(12===t?a:t){case 2:return r=e.read_shift(2,"i"),s.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4);case 30:return fk(e,0,4).replace(pb,"");case 31:return mk(e);case 64:return hk(e);case 65:return xk(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return gk(e,a,!s.raw).replace(pb,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return pk(e,t,0)}(e,a).replace(pb,"");case 4108:return function(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(vk(e));return n}(e);case 4126:case 4127:return 4127==a?function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(pb,""),e.l-a&2&&(e.l+=2)}return n}(e):function(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(pb,"");return n}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function wk(e,t){var n=MS(4),r=MS(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=MS(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var a=(n*=1e7)/Math.pow(2,32)|0;a>0&&(n%=Math.pow(2,32),r+=a);var s=MS(8);return s.write_shift(4,n),s.write_shift(4,r),s}(t);break;case 31:case 80:for((r=MS(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return mb([n,r])}function Nk(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var u=e.read_shift(4),d=e.read_shift(4);s[i]=[u,d+n]}s.sort(function(e,t){return e[1]-t[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var f=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,f=!1);break;case 80:case 4108:e.l<=s[i][1]&&(e.l=s[i][1],f=!1)}if((!t||0==i)&&e.l<=s[i][1]&&(f=!1,e.l=s[i][1]),f)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var m=t[s[i][0]];if(h[m.n]=bk(e,m.t,{raw:!0}),"version"===m.p&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(65535&h[m.n])).slice(-4)),"CodePage"==m.n)switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Yx(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(1===s[i][0]){if(o=h.CodePage=bk(e,2),Yx(o),-1!==l){var p=e.l;e.l=s[l][1],c=yk(e,o),e.l=p}}else if(0===s[i][0]){if(0===o){l=i,e.l=s[i+1][1];continue}c=yk(e,o)}else{var g,v=c[s[i][0]];switch(e[e.l]){case 65:e.l+=4,g=xk(e);break;case 30:case 31:e.l+=4,g=gk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Ck(e,4);break;case 64:e.l+=4,g=Cw(hk(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=g}}return e.l=n+r,h}var Sk=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Ek(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function kk(e,t,n){var r=MS(8),a=[],s=[],i=8,o=0,l=MS(8),c=MS(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),a.push(c),i+=8+l.length,!t){(c=MS(8)).write_shift(4,0),a.unshift(c);var u=[MS(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for((l=MS(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=mb(u),s.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(Sk.indexOf(e[o][0])>-1||ak.indexOf(e[o][0])>-1)&&null!=e[o][1]){var h=e[o][1],f=0;if(t){var m=n[f=+t[e[o][0]]];if("version"==m.p&&"string"==typeof h){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}l=wk(m.t,h)}else{var g=Ek(h);-1==g&&(g=31,h=String(h)),l=wk(g,h)}s.push(l),(c=MS(8)).write_shift(4,t?f:2+o),a.push(c),i+=8+l.length}var v=8*(s.length+1);for(o=0;o<s.length;++o)a[o].write_shift(4,v),v+=s[o].length;return r.write_shift(4,i),r.write_shift(4,s.length),mb([r].concat(a).concat(s))}function jk(e,t,n){var r=e.content;if(!r)return{};DS(r,0);var a,s,i,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==dw.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(1!==(a=r.read_shift(4))&&2!==a)throw new Error("Unrecognized #Sets: "+a);if(s=r.read_shift(16),o=r.read_shift(4),1===a&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);2===a&&(i=r.read_shift(16),l=r.read_shift(4));var d,h=Nk(r,t),f={SystemIdentifier:c};for(var m in h)f[m]=h[m];if(f.FMTID=s,1===a)return f;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{d=Nk(r,null)}catch(G5){}for(m in d)f[m]=d[m];return f.FMTID=[s,i],f}function Tk(e,t,n,r,a,s){var i=MS(a?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,dw.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,a?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,a?68:48);var l=kk(e,n,r);if(o.push(l),a){var c=kk(a,null,null);i.write_shift(16,s,"hex"),i.write_shift(4,68+l.length),o.push(c)}return mb(o)}function _k(e,t){return e.read_shift(t),null}function Ck(e,t){return 1===e.read_shift(t)}function Ak(e,t){return t||(t=MS(2)),t.write_shift(2,+!!e),t}function Ok(e){return e.read_shift(2,"u")}function Ik(e,t){return t||(t=MS(2)),t.write_shift(2,e),t}function Pk(e,t){return function(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}(e,t,Ok)}function Dk(e,t,n){return n||(n=MS(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function Rk(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont",s=Hx;(n&&n.biff>=8&&(Hx=1200),n&&8!=n.biff)?12==n.biff&&(a="wstr"):e.read_shift(1)&&(a="dbcs-cont");n.biff>=2&&n.biff<=5&&(a="cpstr");var i=r?e.read_shift(r,a):"";return Hx=s,i}function Mk(e){var t=Hx;Hx=1200;var n,r=e.read_shift(2),a=e.read_shift(1),s=4&a,i=8&a,o=1+(1&a),l=0,c={};i&&(l=e.read_shift(2)),s&&(n=e.read_shift(4));var u=2==o?"dbcs-cont":"sbcs-cont",d=0===r?"":e.read_shift(r,u);return i&&(e.l+=4*l),s&&(e.l+=n),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),Hx=t,c}function Lk(e){var t=e.t||"",n=MS(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=MS(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),mb([n,r])}function zk(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function Fk(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):zk(e,r,n)}function Uk(e,t,n){if(n.biff>5)return Fk(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function qk(e,t,n){return n||(n=MS(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function Bk(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(pb,"");return r&&(e.l+=24),a}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return n+r.replace(/\\/g,"/");var a=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return n+e.read_shift(a>>1,"utf16le").replace(pb,"")}(e);default:throw new Error("Unsupported Moniker "+n)}}function Vk(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(pb,""):""}function Hk(e,t){t||(t=MS(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Wk(e){var t=MS(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var a=r.indexOf("#"),s=a>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var i=[8,6815827,6619237,4849780,83];for(n=0;n<i.length;++n)t.write_shift(4,i[n]);if(28==s)Hk(r=r.slice(1),t);else if(2&s){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<i.length;++n)t.write_shift(1,parseInt(i[n],16));var o=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)t.write_shift(2,o.charCodeAt(n));t.write_shift(2,0),8&s&&Hk(a>-1?r.slice(a+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<i.length;++n)t.write_shift(1,parseInt(i[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Gk(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function Qk(e,t){var n=Gk(e);return n[3]=0,n}function Kk(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function Yk(e,t,n,r){return r||(r=MS(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function Xk(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function $k(e){return[e.read_shift(2),NE(e)]}function Jk(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function Zk(e,t){return t||(t=MS(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function ej(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:n}}}var tj=ej;function nj(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function rj(e){e.l+=2,e.l+=e.read_shift(2)}var aj={0:rj,4:rj,5:rj,6:rj,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:rj,9:rj,10:rj,11:rj,12:rj,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:rj,15:rj,16:rj,17:rj,18:rj,19:rj,20:rj,21:nj};function sj(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),(t-=2)>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function ij(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;default:throw new Error("unsupported BIFF version")}var s=MS(a);return s.write_shift(2,r),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function oj(e,t){var n=!t||t.biff>=8?2:1,r=MS(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function lj(e,t,n){var r=0;n&&2==n.biff||(r=e.read_shift(2));var a=e.read_shift(2);return n&&2==n.biff&&(r=1-(a>>15),a&=32767),[{Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3},a]}function cj(e,t,n,r){var a=n&&5==n.biff;r||(r=MS(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}var uj=Uk;function dj(e,t,n){var r=e.l+t,a=8!=n.biff&&n.biff?2:4,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:o},e:{r:i,c:l}}}function hj(e,t,n,r){var a=n&&5==n.biff;r||(r=MS(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function fj(e,t,n){var r=Kk(e);2!=n.biff&&9!=t||++e.l;var a=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return r.val=a,r.t=!0===a||!1===a?"b":"e",r}var mj=function(e,t,n){return 0===t?"":Uk(e,0,n)};function pj(e,t,n){var r,a=e.read_shift(2),s={fBuiltIn:1&a,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return 14849===n.sbcch&&(r=function(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=Rk(e,0,n),s=e.read_shift(2);if(s!==(r-=e.l))throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,a}(e,t-2,n)),s.body=r||e.read_shift(t-2),"string"===typeof r&&(s.Name=r),s}var gj=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vj(e,t,n){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),l=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var c=zk(e,i,n);32&a&&(c=gj[c.charCodeAt(0)]);var u=r-e.l;n&&2==n.biff&&--u;var d=r!=e.l&&0!==o&&u>0?function(e,t,n,r){var a,s=e.l+t,i=I_(e,r,n);s!==e.l&&(a=O_(e,s-e.l,i,n));return[i,a]}(e,u,n,o):[];return{chKey:s,Name:c,itab:l,rgce:d}}function yj(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=Rk(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],a=e.l+t,s=e.read_shift(n.biff>8?4:2);0!==s--;)r.push(Xk(e,n.biff,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function xj(e,t,n){var r=tj(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,z_(e,t,n)]}var bj={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function wj(e){var t=MS(24),n=KS(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return mb([t,Wk(e[1])])}function Nj(e){var t=e[1].Tooltip,n=MS(10+2*(t.length+1));n.write_shift(2,2048);var r=KS(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function Sj(e,t,n){if(!n.cellStyles)return RS(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),s=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var Ej=Kk,kj=Pk,jj=Fk;var Tj=[2,3,48,49,131,139,140,245],_j=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=vw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var a=rE(function(t,n){var r=[],a=lb(1);switch(n.type){case"base64":a=ub(sb(t));break;case"binary":a=ub(t);break;case"buffer":case"array":a=t}DS(a,0);var s=a.read_shift(1),i=!!(136&s),o=!1,l=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,i=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var c=0,u=521;2==s&&(c=a.read_shift(2)),a.l+=3,2!=s&&(c=a.read_shift(4)),c>1048576&&(c=1e6),2!=s&&(u=a.read_shift(2));var d=a.read_shift(2),h=n.codepage||1252;2!=s&&(a.l+=16,a.read_shift(1),0!==a[a.l]&&(h=e[a[a.l]]),a.l+=1,a.l+=2),l&&(a.l+=36);for(var f=[],m={},p=Math.min(a.length,2==s?521:u-10-(o?264:0)),g=l?32:11;a.l<p&&13!=a[a.l];)switch((m={}).name=Zx.utils.decode(h,a.slice(a.l,a.l+g)).replace(/[\u0000\r\n].*$/g,""),a.l+=g,m.type=String.fromCharCode(a.read_shift(1)),2==s||l||(m.offset=a.read_shift(4)),m.len=a.read_shift(1),2==s&&(m.offset=a.read_shift(2)),m.dec=a.read_shift(1),m.name.length&&f.push(m),2!=s&&(a.l+=l?13:14),m.type){case"B":o&&8==m.len||!n.WTF||console.log("Skipping "+m.name+":"+m.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+m.name+":"+m.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+m.type)}if(13!==a[a.l]&&(a.l=u-1),13!==a.read_shift(1))throw new Error("DBF Terminator not found "+a.l+" "+a[a.l]);a.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;c-- >0;)if(42!==a[a.l])for(++a.l,r[++v]=[],y=0,y=0;y!=f.length;++y){var x=a.slice(a.l,a.l+f[y].len);a.l+=f[y].len,DS(x,0);var b=Zx.utils.decode(h,x);switch(f[y].type){case"C":b.trim().length&&(r[v][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?r[v][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):r[v][y]=b;break;case"F":r[v][y]=parseFloat(b.trim());break;case"+":case"I":r[v][y]=l?2147483648^x.read_shift(-4,"i"):x.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));r[v][y]="##MEMO##"+(l?parseInt(b.trim(),10):x.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(r[v][y]=+b||0);break;case"@":r[v][y]=new Date(x.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(x.read_shift(4)-2440588)+x.read_shift(4));break;case"Y":r[v][y]=x.read_shift(4,"i")/1e4+x.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-x.read_shift(-8,"f");break;case"B":if(o&&8==f[y].len){r[v][y]=x.read_shift(8,"f");break}case"G":case"P":x.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else a.l+=d;if(2!=s&&a.l<a.length&&26!=a[a.l++])throw new Error("DBF EOF Marker missing "+(a.l-1)+" of "+a.length+" "+a[a.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return a["!cols"]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,a}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return tE(n(e,t),t)}catch(G5){if(t&&t.WTF)throw G5}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var a=n||{};if(+a.codepage>=0&&Yx(+a.codepage),"string"==a.type)throw new Error("Cannot write DBF to JS string");var s=zS(),i=mI(e,{header:1,raw:!0,cellDates:!0}),o=i[0],l=i.slice(1),c=e["!cols"]||[],u=0,d=0,h=0,f=1;for(u=0;u<o.length;++u)if(((c[u]||{}).DBF||{}).name)o[u]=c[u].DBF.name,++h;else if(null!=o[u]){if(++h,"number"===typeof o[u]&&(o[u]=o[u].toString(10)),"string"!==typeof o[u])throw new Error("DBF Invalid column name "+o[u]+" |"+typeof o[u]+"|");if(o.indexOf(o[u])!==u)for(d=0;d<1024;++d)if(-1==o.indexOf(o[u]+"_"+d)){o[u]+="_"+d;break}}var m=JS(e["!ref"]),p=[],g=[],v=[];for(u=0;u<=m.e.c-m.s.c;++u){var y="",x="",b=0,w=[];for(d=0;d<l.length;++d)null!=l[d][u]&&w.push(l[d][u]);if(0!=w.length&&null!=o[u]){for(d=0;d<w.length;++d){switch(typeof w[d]){case"number":x="B";break;case"string":default:x="C";break;case"boolean":x="L";break;case"object":x=w[d]instanceof Date?"D":"C"}b=Math.max(b,String(w[d]).length),y=y&&y!=x?"C":x}b>250&&(b=250),"C"==(x=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>b&&(b=c[u].DBF.len),"B"==y&&"N"==x&&(y="N",v[u]=c[u].DBF.dec,b=c[u].DBF.len),g[u]="C"==y||"N"==x?b:r[y]||0,f+=g[u],p[u]=y}else p[u]="?"}var N=s.next(32);for(N.write_shift(4,318902576),N.write_shift(4,l.length),N.write_shift(2,296+32*h),N.write_shift(2,f),u=0;u<4;++u)N.write_shift(4,0);for(N.write_shift(4,(+t[Wx]||3)<<8),u=0,d=0;u<o.length;++u)if(null!=o[u]){var S=s.next(32),E=(o[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,E,"sbcs"),S.write_shift(1,"?"==p[u]?"C":p[u],"sbcs"),S.write_shift(4,d),S.write_shift(1,g[u]||r[p[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),d+=g[u]||r[p[u]]||0}var k=s.next(264);for(k.write_shift(4,13),u=0;u<65;++u)k.write_shift(4,0);for(u=0;u<l.length;++u){var j=s.next(f);for(j.write_shift(1,0),d=0;d<o.length;++d)if(null!=o[d])switch(p[d]){case"L":j.write_shift(1,null==l[u][d]?63:l[u][d]?84:70);break;case"B":j.write_shift(8,l[u][d]||0,"f");break;case"N":var T="0";for("number"==typeof l[u][d]&&(T=l[u][d].toFixed(v[d]||0)),h=0;h<g[d]-T.length;++h)j.write_shift(1,32);j.write_shift(1,T,"sbcs");break;case"D":l[u][d]?(j.write_shift(4,("0000"+l[u][d].getFullYear()).slice(-4),"sbcs"),j.write_shift(2,("00"+(l[u][d].getMonth()+1)).slice(-2),"sbcs"),j.write_shift(2,("00"+l[u][d].getDate()).slice(-2),"sbcs")):j.write_shift(8,"00000000","sbcs");break;case"C":var _=String(null!=l[u][d]?l[u][d]:"").slice(0,g[d]);for(j.write_shift(1,_,"sbcs"),h=0;h<g[d]-_.length;++h)j.write_shift(1,32)}}return s.next(1).write_shift(1,26),s.end()}}}(),Cj=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+pw(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?nb(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:nb(r)};function a(e,a){var s,i=e.split(/[\n\r]+/),o=-1,l=-1,c=0,u=0,d=[],h=[],f=null,m={},p=[],g=[],v=[],y=0;for(+a.codepage>=0&&Yx(+a.codepage);c!==i.length;++c){y=0;var x,b=i[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=b.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),N=w[0];if(b.length>0)switch(N){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&h.push(b.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,E=!1,k=!1,j=!1,T=-1,_=-1;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(w[u].slice(1))-1,E=!0;break;case"Y":for(o=parseInt(w[u].slice(1))-1,E||(l=0),s=d.length;s<=o;++s)d[s]=[];break;case"K":'"'===(x=w[u].slice(1)).charAt(0)?x=x.slice(1,x.length-1):"TRUE"===x?x=!0:"FALSE"===x?x=!1:isNaN(Pw(x))?isNaN(Rw(x).getDate())||(x=Cw(x)):(x=Pw(x),null!==f&&ew(f)&&(x=Ew(x))),"undefined"!==typeof Zx&&"string"==typeof x&&"string"!=(a||{}).type&&(a||{}).codepage&&(x=Zx.utils.decode(a.codepage,x)),S=!0;break;case"E":j=!0;var C=i_(w[u].slice(1),{r:o,c:l});d[o][l]=[d[o][l],C];break;case"S":k=!0,d[o][l]=[d[o][l],"S5S"];break;case"R":T=parseInt(w[u].slice(1))-1;break;case"C":_=parseInt(w[u].slice(1))-1;break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}if(S&&(d[o][l]&&2==d[o][l].length?d[o][l][0]=x:d[o][l]=x,f=null),k){if(j)throw new Error("SYLK shared formula cannot have own formula");var A=T>-1&&d[T][_];if(!A||!A[1])throw new Error("SYLK shared formula cannot find base");d[o][l][1]=c_(A[1],{r:o-T,c:l-_})}break;case"F":var O=0;for(u=1;u<w.length;++u)switch(w[u].charAt(0)){case"X":l=parseInt(w[u].slice(1))-1,++O;break;case"Y":for(o=parseInt(w[u].slice(1))-1,s=d.length;s<=o;++s)d[s]=[];break;case"M":y=parseInt(w[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(w[u].slice(1))];break;case"W":for(v=w[u].slice(1).split(" "),s=parseInt(v[0],10);s<=parseInt(v[1],10);++s)y=parseInt(v[2],10),g[s-1]=0===y?{hidden:!0}:{wch:y},pT(g[s-1]);break;case"C":g[l=parseInt(w[u].slice(1))-1]||(g[l]={});break;case"R":p[o=parseInt(w[u].slice(1))-1]||(p[o]={}),y>0?(p[o].hpt=y,p[o].hpx=yT(y)):0===y&&(p[o].hidden=!0);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}O<1&&(f=null);break;default:if(a&&a.WTF)throw new Error("SYLK bad record "+b)}}return p.length>0&&(m["!rows"]=p),g.length>0&&(m["!cols"]=g),a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),[d,m]}function s(e,t){var n=function(e,t){switch(t.type){case"base64":return a(sb(e),t);case"binary":return a(e,t);case"buffer":return a(ib&&Buffer.isBuffer(e)?e.toString("binary"):hb(e),t);case"array":return a(Aw(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],s=n[1],i=rE(r,t);return pw(s).forEach(function(e){i[e]=s[e]}),i}function i(e,t,n,r){var a="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":a+=e.v||0,e.f&&!e.F&&(a+=";E"+l_(e.f,{r:n,c:r}));break;case"b":a+=e.v?"TRUE":"FALSE";break;case"e":a+=e.w||e.v;break;case"d":a+='"'+(e.w||e.v)+'"';break;case"s":a+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return a}return e["|"]=254,{to_workbook:function(e,t){return tE(s(e,t),t)},to_sheet:s,from_sheet:function(e,t){var n,r,a=["ID;PWXL;N;E"],s=[],o=JS(e["!ref"]),l=Array.isArray(e),c="\r\n";a.push("P;PGeneral"),a.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=a,e["!cols"].forEach(function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=uT(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=dT(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)})),e["!rows"]&&function(e,t){t.forEach(function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*vT(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))})}(a,e["!rows"]),a.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var u=o.s.r;u<=o.e.r;++u)for(var d=o.s.c;d<=o.e.c;++d){var h=YS({r:u,c:d});(n=l?(e[u]||[])[d]:e[h])&&(null!=n.v||n.f&&!n.F)&&s.push(i(n,0,u,d))}return a.join(c)+c+s.join(c)+c+"E"+c}}}(),Aj=function(){function e(e,t){for(var n=e.split("\n"),r=-1,a=-1,s=0,i=[];s!==n.length;++s)if("BOT"!==n[s].trim()){if(!(r<0)){for(var o=n[s].trim().split(","),l=o[0],c=o[1],u=n[++s]||"";1&(u.match(/["]/g)||[]).length&&s<n.length-1;)u+="\n"+n[++s];switch(u=u.trim(),+l){case-1:if("BOT"===u){i[++r]=[],a=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?i[r][a]=!0:"FALSE"===u?i[r][a]=!1:isNaN(Pw(c))?isNaN(Rw(c).getDate())?i[r][a]=c:i[r][a]=Cw(c):i[r][a]=Pw(c),++a;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),i[r][a++]=""!==u?u:null}if("EOD"===u)break}}else i[++r]=[],a=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function t(t,n){return rE(function(t,n){switch(n.type){case"base64":return e(sb(t),n);case"binary":return e(t,n);case"buffer":return e(ib&&Buffer.isBuffer(t)?t.toString("binary"):hb(t),n);case"array":return e(Aw(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,a){e.push(t),e.push(n+","+r),e.push('"'+a.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,a=[],s=JS(n["!ref"]),i=Array.isArray(n);e(a,"TABLE",0,1,"sheetjs"),e(a,"VECTORS",0,s.e.r-s.s.r+1,""),e(a,"TUPLES",0,s.e.c-s.s.c+1,""),e(a,"DATA",0,0,"");for(var o=s.s.r;o<=s.e.r;++o){t(a,-1,0,"BOT");for(var l=s.s.c;l<=s.e.c;++l){var c=YS({r:o,c:l});if(r=i?(n[o]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(a,1,0,"="+r.f):t(a,1,0,""):t(a,0,u,"V");break;case"b":t(a,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(a,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=aw(r.z||jb[14],bw(Cw(r.v)))),t(a,0,r.w,"V");break;default:t(a,1,0,"")}else t(a,1,0,"")}}t(a,-1,0,"EOD");return a.join("\r\n")}}();return{to_workbook:function(e,n){return tE(t(e,n),n)},to_sheet:t,from_sheet:n}}(),Oj=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return rE(function(t,n){for(var r=t.split("\n"),a=-1,s=-1,i=0,o=[];i!==r.length;++i){var l=r[i].trim().split(":");if("cell"===l[0]){var c=KS(l[1]);if(o.length<=c.r)for(a=o.length;a<=c.r;++a)o[a]||(o[a]=[]);switch(a=c.r,s=c.c,l[2]){case"t":o[a][s]=e(l[3]);break;case"v":o[a][s]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?o[a][s]=!!+l[4]:o[a][s]=+l[4],"vtf"==l[2]&&(o[a][s]=[o[a][s],u])}}}return n&&n.sheetRows&&(o=o.slice(0,n.sheetRows)),o}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var n,r=[],a=[],s="",i=XS(e["!ref"]),o=Array.isArray(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c)if(s=YS({r:l,c:c}),(n=o?(e[l]||[])[c]:e[s])&&null!=n.v&&"z"!==n.t){switch(a=["cell",s,"t"],n.t){case"s":case"str":a.push(t(n.v));break;case"n":n.f?(a[2]="vtf",a[3]="n",a[4]=n.v,a[5]=t(n.f)):(a[2]="v",a[3]=n.v);break;case"b":a[2]="vt"+(n.f?"f":"c"),a[3]="nl",a[4]=n.v?"1":"0",a[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=bw(Cw(n.v));a[2]="vtc",a[3]="nd",a[4]=""+u,a[5]=n.w||aw(n.z||jb[14],u);break;case"e":continue}r.push(a.join(":"))}return r.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return tE(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,a,s,a,o(e),i].join("\n")}}}(),Ij=function(){function e(e,t,n,r,a){a.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(Pw(e))?isNaN(Rw(e).getDate())?t[n][r]=e:t[n][r]=Cw(e):t[n][r]=Pw(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},a=!1,s=0,i=0;s<e.length;++s)34==(i=e.charCodeAt(s))?a=!a:!a&&i in t&&(r[i]=(r[i]||0)+1);for(s in i=[],r)Object.prototype.hasOwnProperty.call(r,s)&&i.push([r[s],s]);if(!i.length)for(s in r=n)Object.prototype.hasOwnProperty.call(r,s)&&i.push([r[s],s]);return i.sort(function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]}),t[i.pop()[1]]||44}function a(e,t){var n=t||{},a="";var s=n.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(a=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(a=e.charAt(4),e=e.slice(6)):a=r(e.slice(0,1024)):a=n&&n.FS?n.FS:r(e.slice(0,1024));var o=0,l=0,c=0,u=0,d=0,h=a.charCodeAt(0),f=!1,m=0,p=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=n.dateNF?function(e){var t="number"==typeof e?jb[e]:e;return t=t.replace(cw,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function v(){var t=e.slice(u,d),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=Pw(t)))if(!isNaN(Rw(t).getDate())||g&&t.match(g)){r.z=n.dateNF||jb[14];var a=0;g&&t.match(g)&&(t=function(e,t,n){var r=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(cw)||[]).forEach(function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":s=c;break;case"h":i=c;break;case"s":l=c;break;case"m":i>=0?o=c:a=c}}),l>=0&&-1==o&&a>=0&&(o=a,a=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==o&&-1==l?c:-1==r&&-1==a&&-1==s?u:c+"T"+u}(0,n.dateNF,t.match(g)||[]),a=1),n.cellDates?(r.t="d",r.v=Cw(t,a)):(r.t="n",r.v=bw(Cw(t,a))),!1!==n.cellText&&(r.w=aw(r.z,r.v instanceof Date?bw(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(s[o]||(s[o]=[]),s[o][l]=r):s[YS({c:l,r:o})]=r),u=d+1,p=e.charCodeAt(u),i.e.c<l&&(i.e.c=l),i.e.r<o&&(i.e.r=o),m==h)++l;else if(l=0,++o,n.sheetRows&&n.sheetRows<=o)return!0}e:for(;d<e.length;++d)switch(m=e.charCodeAt(d)){case 34:34===p&&(f=!f);break;case h:case 10:case 13:if(!f&&v())break e}return d-u>0&&v(),s["!ref"]=$S(i),s}function s(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?a(t,n):rE(function(t,n){var r=n||{},a=[];if(!t||0===t.length)return a;for(var s=t.split(/[\r\n]/),i=s.length-1;i>=0&&0===s[i].length;)--i;for(var o=10,l=0,c=0;c<=i;++c)-1==(l=s[c].indexOf(" "))?l=s[c].length:l++,o=Math.max(o,l);for(c=0;c<=i;++c){a[c]=[];var u=0;for(e(s[c].slice(0,o).trim(),a,c,u,r),u=1;u<=(s[c].length-o)/10+1;++u)e(s[c].slice(o+10*(u-1),o+10*u).trim(),a,c,u,r)}return r.sheetRows&&(a=a.slice(0,r.sheetRows)),a}(t,n),n):a(t,n)}function i(e,t){var n="",r="string"==t.type?[0,0,0,0]:nI(e,t);switch(t.type){case"base64":n=sb(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof Zx?Zx.utils.decode(t.codepage,e):ib&&Buffer.isBuffer(e)?e.toString("binary"):hb(e);break;case"array":n=Aw(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=yN(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=yN(n):"binary"==t.type&&"undefined"!==typeof Zx&&t.codepage&&(n=Zx.utils.decode(t.codepage,Zx.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?Oj.to_sheet("string"==t.type?n:yN(n),t):s(n,t)}return{to_workbook:function(e,t){return tE(i(e,t),t)},to_sheet:i,from_sheet:function(e){for(var t,n=[],r=JS(e["!ref"]),a=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var i=[],o=r.s.c;o<=r.e.c;++o){var l=YS({r:s,c:o});if((t=a?(e[s]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(eE(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";i.push(c+(0===o?" ":""))}else i.push("          ")}n.push(i.join(""))}return n.join("\n")}}}();var Pj=function(){function e(e,t,n){if(e){DS(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var a=e.read_shift(2),s=r[a]||r[65535],i=e.read_shift(2),o=e.l+i,l=s.f&&s.f(e,i,n);if(e.l=o,t(l,s,a))return}}}function t(t,n){if(!t)return t;var r=n||{};var a=r.dense?[]:{},s="Sheet1",i="",o=0,l={},c=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:d=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||jb[14],r.cellDates&&(e[1].t="d",e[1].v=Ew(e[1].v))),r.qpro&&e[3]>o&&(a["!ref"]=$S(d),l[s]=a,c.push(s),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s=i||"Sheet"+(o+1),i="");var u=r.dense?(a[e[0].r]||[])[e[0].c]:a[YS(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[YS(e[0])]=e[1]}},r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:s=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(a["!ref"]=$S(d),l[s]=a,c.push(s),a=r.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s="Sheet"+(o+1)),h>0&&e[0].r>=h)break;r.dense?(a[e[0].r]||(a[e[0].r]=[]),a[e[0].r][e[0].c]=e[1]):a[YS(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==o&&(s=e[1])}},r)}if(a["!ref"]=$S(d),l[i||s]=a,c.push(i||s),!u.length)return{SheetNames:c,Sheets:l};for(var f={},m=[],p=0;p<u.length;++p)l[c[p]]?(m.push(u[p]||c[p]),f[u[p]]=l[u[p]]||l[c[p]]):(m.push(u[p]),f[u[p]]={"!ref":"A1"});return{SheetNames:m,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var a=e.l+t,s=n(e,0,r);if(s[1].t="s",20768==r.vers){e.l++;var i=e.read_shift(1);return s[1].v=e.read_shift(i,"utf8"),s}return r.qpro&&e.l++,s[1].v=e.read_shift(a-e.l,"cstr"),s}function a(e,t,n){var r=MS(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var a=0;a<r.length;++a){var s=n.charCodeAt(a);r.write_shift(1,s>=128?95:s)}return r.write_shift(1,0),r}function s(e,t,n){var r=MS(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function i(e,t,n){var r=MS(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function o(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?QS(t):WS(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,n,r){var a=MS(6+r.length);a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),a.write_shift(1,39);for(var s=0;s<r.length;++s){var i=r.charCodeAt(s);a.write_shift(1,i>=128?95:i)}return a.write_shift(1,0),a}function h(e,t){var n=u(e),r=e.read_shift(4),a=e.read_shift(4),s=e.read_shift(2);if(65535==s)return 0===r&&3221225472===a?(n[1].t="e",n[1].v=15):0===r&&3489660928===a?(n[1].t="e",n[1].v=42):n[1].v=0,n;var i=32768&s;return s=(32767&s)-16446,n[1].v=(1-2*i)*(a*Math.pow(2,s+32)+r*Math.pow(2,s)),n}function f(e,t,n,r){var a=MS(14);if(a.write_shift(2,e),a.write_shift(1,n),a.write_shift(1,t),0==r)return a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,65535),a;var s,i=0,o=0,l=0;return r<0&&(i=1,r=-r),o=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,o-31))>>>0))&&(++o,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,s=(r*=Math.pow(2,32))>>>0,a.write_shift(4,s),a.write_shift(4,l),o+=16383+(i?32768:0),a.write_shift(2,o),a}function m(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function p(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=MS(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var a=e.charCodeAt(r);n[n.l++]=a>127?95:a}return n[n.l++]=0,n}var v={0:{n:"BOF",f:Ok},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(2,"i"),a}},14:{n:"NUMBER",f:function(e,t,r){var a=n(e,0,r);return a[1].v=e.read_shift(8,"f"),a}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var a=e.l+t,s=n(e,0,r);if(s[1].v=e.read_shift(8,"f"),r.qpro)e.l=a;else{var i=e.read_shift(2);!function(e,t){DS(e,0);var n=[],r=0,a="",s="",i="",u="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:n.push(e.read_shift(8,"f"));break;case 1:s=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),n.push(s+a);break;case 2:var h=o(t[0].c,e.read_shift(2),!0),f=o(t[0].r,e.read_shift(2),!1);s=o(t[0].c,e.read_shift(2),!0),a=o(t[0].r,e.read_shift(2),!1),n.push(h+f+":"+s+a);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var m="";d=e[e.l++];)m+=String.fromCharCode(d);n.push('"'+m.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),i=n.pop(),n.push(["AND","OR"][d-20]+"("+i+","+u+")");break;default:if(d<32&&c[d])u=n.pop(),i=n.pop(),n.push(i+c[d]+u);else{if(!l[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(r=l[d][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+n.join("|")+"|");var p=n.slice(-r);n.length-=r,n.push(l[d][0]+"("+p.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+i),s),e.l+=i}return s}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:p},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=h(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var a=e.read_shift(2);if(14e3==a){for(n[a]=[0,""],n[a][0]=e.read_shift(2);e[e.l];)n[a][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:m},40:{n:"FORMULA28",f:function(e,t){var n=m(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:p},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&Yx(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=zS(),o=JS(e["!ref"]),l=Array.isArray(e),c=[];QA(r,0,function(e){var t=MS(2);return t.write_shift(2,e),t}(1030)),QA(r,6,function(e){var t=MS(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var u=Math.min(o.e.r,8191),d=o.s.r;d<=u;++d)for(var h=WS(d),f=o.s.c;f<=o.e.c;++f){d===o.s.r&&(c[f]=QS(f));var m=c[f]+h,p=l?(e[d]||[])[f]:e[m];if(p&&"z"!=p.t)if("n"==p.t)(0|p.v)==p.v&&p.v>=-32768&&p.v<=32767?QA(r,13,s(d,f,p.v)):QA(r,14,i(d,f,p.v));else QA(r,15,a(d,f,eE(p).slice(0,239)))}return QA(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&Yx(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=zS();QA(r,0,function(e){var t=MS(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,a=0,s=0;s<e.SheetNames.length;++s){var i=e.SheetNames[s],o=e.Sheets[i];if(o&&o["!ref"]){++a;var l=XS(o["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,a),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var a=0,s=0;a<e.SheetNames.length;++a)(e.Sheets[e.SheetNames[a]]||{})["!ref"]&&QA(r,27,g(e.SheetNames[a],s++));var i=0;for(a=0;a<e.SheetNames.length;++a){var o=e.Sheets[e.SheetNames[a]];if(o&&o["!ref"]){for(var l=JS(o["!ref"]),c=Array.isArray(o),u=[],h=Math.min(l.e.r,8191),m=l.s.r;m<=h;++m)for(var p=WS(m),v=l.s.c;v<=l.e.c;++v){m===l.s.r&&(u[v]=QS(v));var y=u[v]+p,x=c?(o[m]||[])[v]:o[y];if(x&&"z"!=x.t)if("n"==x.t)QA(r,23,f(m,v,i,x.v));else QA(r,22,d(m,v,i,eE(x).slice(0,239)))}++i}}return QA(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(ub(sb(e)),n);case"binary":return t(ub(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var Dj=function(){var e=bN("t"),t=bN("rPr");function n(n){var r=n.match(e);if(!r)return{t:"s",v:""};var a={t:"s",v:sN(r[1])},s=n.match(t);return s&&(a.s=function(e){var t={},n=e.match(Jw),r=0,a=!1;if(n)for(;r!=n.length;++r){var s=tN(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=Qx[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(47!==s[0].charCodeAt(1)&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}(s[1])),a}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(a).map(n).filter(function(e){return e.v})}}(),Rj=function(){var e=/(\r\n|\n)/g;function t(t){var n=[[],t.v,[]];return t.v?(t.s&&function(e,t,n){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var a=e.valign||"";"superscript"==a||"super"==a?a="sup":"subscript"==a&&(a="sub"),""!=a&&(t.push("<"+a+">"),n.push("</"+a+">")),n.push("</span>")}(t.s,n[0],n[2]),n[0].join("")+n[1].replace(e,"<br/>")+n[2].join("")):""}return function(e){return e.map(t).join("")}}(),Mj=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Lj=/<(?:\w+:)?r>/,zj=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Fj(e,t){var n=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=sN(yN(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=yN(e),n&&(r.h=dN(r.t))):e.match(Lj)&&(r.r=yN(e),r.t=sN(yN((e.replace(zj,"").match(Mj)||[]).join("").replace(Jw,""))),n&&(r.h=Rj(Dj(r.r)))),r):{t:""}}var Uj=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,qj=/<(?:\w+:)?(?:si|sstItem)>/g,Bj=/<\/(?:\w+:)?(?:si|sstItem)>/;var Vj=/^\s|\s$|[\t\n\r]/;function Hj(e,t){if(!t.bookSST)return"";var n=[Yw];n[n.length]=CN("sst",null,{xmlns:GN[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var a=e[r],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(Vj)&&(s+=' xml:space="preserve"'),s+=">"+lN(a.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var Wj=function(e,t){var n=!1;return null==t&&(n=!0,t=MS(15+4*e.t.length)),t.write_shift(1,0),iE(e.t,t),n?t.slice(0,t.l):t};function Gj(e){var t=zS();FS(t,159,function(e,t){return t||(t=MS(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)FS(t,19,Wj(e[n]));return FS(t,160),t.end()}function Qj(e){if("undefined"!==typeof Zx)return Zx.utils.encode(Wx,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Kj(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function Yj(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function Xj(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Kj(e,4),t.U=Kj(e,4),t.W=Kj(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function $j(e,t){var n=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=36==r.Flags;break;case 26625:a=4==r.Flags;break;case 0:a=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Jj(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function Zj(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:$j(e,t),v:Jj(e,e.length-e.l)}}function eT(){throw new Error("File is password-protected: ECMA-376 Extensible")}function tT(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Jw,function(e){var n=tN(e);switch(nN(n[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach(function(e){r[e]=n[e]});break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"<keyEncryptor":r.uri=n.uri;break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}}),r}function nT(e){var t,n,r=0,a=Qj(e),s=a.length+1;for((t=lb(s))[0]=a.length,n=1;n!=s;++n)t[n]=a[n-1];for(n=s-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var rT=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e,t){return 255&((n=e^t)/2|128*n);var n};return function(a){for(var s,i,o,l=Qj(a),c=function(e){for(var r=t[e.length-1],a=104,s=e.length-1;s>=0;--s)for(var i=e[s],o=0;7!=o;++o)64&i&&(r^=n[a]),i*=2,--a;return r}(l),u=l.length,d=lb(16),h=0;16!=h;++h)d[h]=0;for(1===(1&u)&&(s=c>>8,d[u]=r(e[0],s),--u,s=255&c,i=l[l.length-1],d[u]=r(i,s));u>0;)s=c>>8,d[--u]=r(l[u],s),s=255&c,d[--u]=r(l[u],s);for(u=15,o=15-l.length;o>0;)s=c>>8,d[u]=r(e[o],s),--o,s=255&c,d[--u]=r(l[u],s),--u,--o;return d}}(),aT=function(e){var t=0,n=rT(e);return function(e){var r=function(e,t,n,r,a){var s,i;for(a||(a=t),r||(r=rT(e)),s=0;s!=t.length;++s)i=t[s],i=255&((i^=r[n])>>5|i<<3),a[s]=i,++n;return[a,n,r]}("",e,t,n);return t=r[1],r[0]}};function sT(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=function(e){var t={},n=t.EncryptionVersionInfo=Kj(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):r.Data=function(e,t){var n={},r=n.EncryptionVersionInfo=Kj(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=$j(e,a),t-=a,n.EncryptionVerifier=Jj(e,t),n}(e,t),r}var iT=function(){function e(e,n){switch(n.type){case"base64":return t(sb(e),n);case"binary":return t(e,n);case"buffer":return t(ib&&Buffer.isBuffer(e)?e.toString("binary"):hb(e),n);case"array":return t(Aw(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var a={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach(function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,s=/\\\w+\b/g,i=0,o=-1;r=s.exec(e);){if("\\cell"===r[0]){var l=e.slice(i,s.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][o]=c:n[YS({r:t,c:o})]=c}}i=s.lastIndex}o>a.e.c&&(a.e.c=o)}),n["!ref"]=$S(a),n}return{to_workbook:function(t,n){return tE(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=JS(e["!ref"]),a=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){n.push("\\trowd\\trautofit1");for(var i=r.s.c;i<=r.e.c;++i)n.push("\\cellx"+(i+1));for(n.push("\\pard\\intbl"),i=r.s.c;i<=r.e.c;++i){var o=YS({r:s,c:i});(t=a?(e[s]||[])[i]:e[o])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(eE(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function oT(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function lT(e,t){if(0===t)return e;var n=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),s=Math.min(t,n,r),i=a-s;if(0===i)return[0,0,t];var o,l=0,c=a+s;switch(o=i/(c>1?2-c:c),a){case t:l=((n-r)/i+6)%6;break;case n:l=(r-t)/i+2;break;case r:l=(t-n)/i+4}return[l/6,o,c/2]}(function(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}(e));return n[2]=t<0?n[2]*(1+t):1-(1-n[2])*(1-t),oT(function(e){var t,n=e[0],r=e[1],a=e[2],s=2*r*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],l=6*n;if(0!==r)switch(0|l){case 0:case 6:t=s*l,o[0]+=s,o[1]+=t;break;case 1:t=s*(2-l),o[0]+=t,o[1]+=s;break;case 2:t=s*(l-2),o[1]+=s,o[2]+=t;break;case 3:t=s*(4-l),o[1]+=t,o[2]+=s;break;case 4:t=s*(l-4),o[2]+=s,o[0]+=t;break;case 5:t=s*(6-l),o[2]+=t,o[0]+=s}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(n))}var cT=6;function uT(e){return Math.floor((e+Math.round(128/cT)/256)*cT)}function dT(e){return Math.floor((e-5)/cT*100+.5)/100}function hT(e){return Math.round((e*cT+5)/cT*256)/256}function fT(e){return hT(dT(uT(e)))}function mT(e){var t=Math.abs(e-fT(e)),n=cT;if(t>.005)for(cT=1;cT<15;++cT)Math.abs(e-fT(e))<=t&&(t=Math.abs(e-fT(e)),n=cT);cT=n}function pT(e){e.width?(e.wpx=uT(e.width),e.wch=dT(e.wpx),e.MDW=cT):e.wpx?(e.wch=dT(e.wpx),e.width=hT(e.wch),e.MDW=cT):"number"==typeof e.wch&&(e.width=hT(e.wch),e.wpx=uT(e.width),e.MDW=cT),e.customWidth&&delete e.customWidth}var gT=96;function vT(e){return 96*e/gT}function yT(e){return e*gT/96}var xT={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var bT=["numFmtId","fillId","fontId","borderId","xfId"],wT=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var NT=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,i,o){var l,c={};return s?((l=(s=s.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,n){t.NumberFmt=[];for(var r=pw(jb),a=0;a<r.length;++a)t.NumberFmt[r[a]]=jb[r[a]];var s=e[0].match(Jw);if(s)for(a=0;a<s.length;++a){var i=tN(s[a]);switch(nN(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=sN(yN(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}sw(o,l)}break;default:if(n.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}(l,c,o),(l=s.match(r))&&function(e,t,n,r){t.Fonts=[];var a={},s=!1;(e[0].match(Jw)||[]).forEach(function(e){var i=tN(e);switch(nN(i[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":i.val&&(a.name=yN(i.val));break;case"<b":a.bold=i.val?fN(i.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=i.val?fN(i.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(i.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=i.val?fN(i.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=i.val?fN(i.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=i.val?fN(i.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=i.val?fN(i.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=i.val?fN(i.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":i.val&&(a.sz=+i.val);break;case"<vertAlign":i.val&&(a.vertAlign=i.val);break;case"<family":i.val&&(a.family=parseInt(i.val,10));break;case"<scheme":i.val&&(a.scheme=i.val);break;case"<charset":if("1"==i.val)break;i.codepage=Qx[parseInt(i.val,10)];break;case"<color":if(a.color||(a.color={}),i.auto&&(a.color.auto=fN(i.auto)),i.rgb)a.color.rgb=i.rgb.slice(-6);else if(i.indexed){a.color.index=parseInt(i.indexed,10);var o=zE[a.color.index];81==a.color.index&&(o=zE[1]),o||(o=zE[1]),a.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else i.theme&&(a.color.theme=parseInt(i.theme,10),i.tint&&(a.color.tint=parseFloat(i.tint)),i.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=lT(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in fonts")}})}(l,c,i,o),(l=s.match(n))&&function(e,t,n,r){t.Fills=[];var a={},s=!1;(e[0].match(Jw)||[]).forEach(function(e){var n=tN(e);switch(nN(n[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":n.patternType&&(a.patternType=n.patternType);break;case"<bgColor":a.bgColor||(a.bgColor={}),n.indexed&&(a.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(a.bgColor.theme=parseInt(n.theme,10)),n.tint&&(a.bgColor.tint=parseFloat(n.tint)),n.rgb&&(a.bgColor.rgb=n.rgb.slice(-6));break;case"<fgColor":a.fgColor||(a.fgColor={}),n.theme&&(a.fgColor.theme=parseInt(n.theme,10)),n.tint&&(a.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(a.fgColor.rgb=n.rgb.slice(-6));break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in fills")}})}(l,c,0,o),(l=s.match(a))&&function(e,t,n,r){t.Borders=[];var a={},s=!1;(e[0].match(Jw)||[]).forEach(function(e){var n=tN(e);switch(nN(n[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":a={},n.diagonalUp&&(a.diagonalUp=fN(n.diagonalUp)),n.diagonalDown&&(a.diagonalDown=fN(n.diagonalDown)),t.Borders.push(a);break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in borders")}})}(l,c,0,o),(l=s.match(t))&&function(e,t,n){var r;t.CellXf=[];var a=!1;(e[0].match(Jw)||[]).forEach(function(e){var s=tN(e),i=0;switch(nN(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(r=s)[0],i=0;i<bT.length;++i)r[bT[i]]&&(r[bT[i]]=parseInt(r[bT[i]],10));for(i=0;i<wT.length;++i)r[wT[i]]&&(r[wT[i]]=fN(r[wT[i]]));if(t.NumberFmt&&r.numFmtId>392)for(i=392;i>60;--i)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[i]){r.numFmtId=i;break}t.CellXf.push(r);break;case"<alignment":case"<alignment/>":var o={};s.vertical&&(o.vertical=s.vertical),s.horizontal&&(o.horizontal=s.horizontal),null!=s.textRotation&&(o.textRotation=s.textRotation),s.indent&&(o.indent=s.indent),s.wrapText&&(o.wrapText=fN(s.wrapText)),r.alignment=o;break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}(l,c,o),c):c}}();function ST(e,t){var n,r=[Yw,CN("styleSheet",null,{xmlns:GN[0],"xmlns:vt":VN})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=CN("numFmt",null,{numFmtId:r,formatCode:lN(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=CN("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=CN("cellXfs",null),e.forEach(function(e){t[t.length]=CN("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=CN("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function ET(e,t,n){n||(n=MS(6+4*t.length)),n.write_shift(2,e),iE(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function kT(e,t){t||(t=MS(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=MS(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),CE(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),iE(e.name,t),t.length>t.l?t.slice(0,t.l):t}var jT,TT=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],_T=RS;function CT(e,t){t||(t=MS(84)),jT||(jT=vw(TT));var n=jT[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(CE({auto:1},t),CE({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function AT(e,t,n){n||(n=MS(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function OT(e,t){return t||(t=MS(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var IT=RS;function PT(e){var t;FS(e,613,aE(1)),FS(e,46,(t||(t=MS(51)),t.write_shift(1,0),OT(0,t),OT(0,t),OT(0,t),OT(0,t),OT(0,t),t.length>t.l?t.slice(0,t.l):t)),FS(e,614)}function DT(e){var t,n;FS(e,619,aE(1)),FS(e,48,(t={xfId:0,builtinId:0,name:"Normal"},n||(n=MS(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),yE(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),FS(e,620)}function RT(e){FS(e,508,function(e,t,n){var r=MS(2052);return r.write_shift(4,e),yE(t,r),yE(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),FS(e,509)}function MT(e,t){var n=zS();return FS(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n}),0!=n&&(FS(e,615,aE(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&FS(e,44,ET(r,t[r]))}),FS(e,616))}}(n,e.SSF),function(e){FS(e,611,aE(1)),FS(e,43,kT({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),FS(e,612)}(n),function(e){FS(e,603,aE(2)),FS(e,45,CT({patternType:"none"})),FS(e,45,CT({patternType:"gray125"})),FS(e,604)}(n),PT(n),function(e){FS(e,626,aE(1)),FS(e,47,AT({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),FS(e,627)}(n),function(e,t){FS(e,617,aE(t.length)),t.forEach(function(t){FS(e,47,AT(t,0))}),FS(e,618)}(n,t.cellXfs),DT(n),function(e){FS(e,505,aE(0)),FS(e,506)}(n),RT(n),FS(n,279),n.end()}var LT=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zT(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Jw)||[]).forEach(function(e){var a=tN(e);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===a[0].charAt(1)?(t.themeElements.clrScheme[LT.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function FT(){}function UT(){}var qT=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,BT=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,VT=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var HT=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function WT(e,t){var n;e&&0!==e.length||(e=GT());var r={};if(!(n=e.match(HT)))throw new Error("themeElements not found in theme");return function(e,t,n){var r;t.themeElements={},[["clrScheme",qT,zT],["fontScheme",BT,FT],["fmtScheme",VT,UT]].forEach(function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)})}(n[0],r,t),r.raw=e,r}function GT(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[Yw];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function QT(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return RS(e,t)}(e,4);break;case 2:t.xclrValue=Gk(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function KT(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=QT(e);break;case 6:r[1]=function(e,t){return RS(e,t)}(e,n);break;case 14:case 15:r[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function YT(e,t){t.forEach(function(e){e[0]})}function XT(){var e=zS();return FS(e,332),FS(e,334,aE(1)),FS(e,335,function(e){var t=MS(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),iE(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),FS(e,336),FS(e,339,function(e,t){var n=MS(8+2*t.length);return n.write_shift(4,e),iE(t,n),n.slice(0,n.l)}(1,"XLDAPR")),FS(e,52),FS(e,35,aE(514)),FS(e,4096,aE(0)),FS(e,4097,Ik(1)),FS(e,36),FS(e,53),FS(e,340),FS(e,337,function(e,t){var n=MS(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),FS(e,51,function(e){var t=MS(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),FS(e,338),FS(e,333),e.end()}function $T(){var e=[Yw];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var JT=1024;function ZT(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[CN("xml",null,{"xmlns:v":JN,"xmlns:o":QN,"xmlns:x":KN,"xmlns:mv":$N}).replace(/\/>/,">"),CN("o:shapelayout",CN("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),CN("v:shapetype",[CN("v:stroke",null,{joinstyle:"miter"}),CN("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];JT<1e3*e;)JT+=1e3;return t.forEach(function(e){var t=KS(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?CN("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=CN("v:fill",r,n);++JT,a=a.concat(["<v:shape"+_N({id:"_x0000_s"+JT,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,CN("v:shadow",null,{on:"t",obscured:"t"}),CN("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",TN("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),TN("x:AutoFill","False"),TN("x:Row",String(t.r)),TN("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function e_(e,t,n,r){var a,s=Array.isArray(e);t.forEach(function(t){var i=KS(t.ref);if(s?(e[i.r]||(e[i.r]=[]),a=e[i.r][i.c]):a=e[t.ref],!a){a={t:"z"},s?e[i.r][i.c]=a:e[t.ref]=a;var o=JS(e["!ref"]||"BDWGO1000001:A1");o.s.r>i.r&&(o.s.r=i.r),o.e.r<i.r&&(o.e.r=i.r),o.s.c>i.c&&(o.s.c=i.c),o.e.c<i.c&&(o.e.c=i.c);var l=$S(o);l!==e["!ref"]&&(e["!ref"]=l)}a.c||(a.c=[]);var c={a:t.author,t:t.t,r:t.r,T:n};t.h&&(c.h=t.h);for(var u=a.c.length-1;u>=0;--u){if(!n&&a.c[u].T)return;n&&!a.c[u].T&&a.c.splice(u,1)}if(n&&r)for(u=0;u<r.length;++u)if(c.a==r[u].id){c.a=r[u].name||c.a;break}a.c.push(c)})}function t_(e){var t=[Yw,CN("comments",null,{xmlns:GN[0]})],n=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var r=lN(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var r=0,a=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(lN(e.a))),a.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),a.length<=1)t.push(TN("t",lN(a[0]||"")));else{for(var s="Comment:\n    "+a[0]+"\n",i=1;i<a.length;++i)s+="Reply:\n    "+a[i]+"\n";t.push(TN("t",lN(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function n_(e,t,n){var r=[Yw,CN("ThreadedComments",null,{xmlns:zN}).replace(/[\/]>/,">")];return e.forEach(function(e){var a="";(e[1]||[]).forEach(function(s,i){if(s.T){s.a&&-1==t.indexOf(s.a)&&t.push(s.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==i?a=o.id:o.parentId=a,s.ID=o.id,s.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),r.push(CN("threadedComment",TN("text",s.t||""),o))}else delete s.ID})}),r.push("</ThreadedComments>"),r.join("")}var r_=sE;function a_(e){var t=zS(),n=[];return FS(t,628),FS(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),FS(t,632,function(e){return iE(e.slice(0,54))}(e.a)))})}),FS(t,631),FS(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var a={s:KS(e[0]),e:KS(e[0])};FS(t,635,function(e,t){return null==t&&(t=MS(36)),t.write_shift(4,e[1].iauthor),jE(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([a,r])),r.t&&r.t.length>0&&FS(t,637,uE(r)),FS(t,636),delete r.iauthor})}),FS(t,634),FS(t,629),t.end()}var s_=["xlsb","xlsm","xlam","biff8","xla"];var i_=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,a){var s=!1,i=!1;0==r.length?i=!0:"["==r.charAt(0)&&(i=!0,r=r.slice(1,-1)),0==a.length?s=!0:"["==a.charAt(0)&&(s=!0,a=a.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=a.length>0?0|parseInt(a,10):0;return s?l+=t.c:--l,i?o+=t.r:--o,n+(s?"":"$")+QS(l)+(i?"":"$")+WS(o)}return function(r,a){return t=a,r.replace(e,n)}}(),o_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,l_=function(){return function(e,t){return e.replace(o_,function(e,n,r,a,s,i){var o=GS(a)-(r?0:t.c),l=HS(i)-(s?0:t.r);return n+"R"+(0==l?"":s?l+1:"["+l+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")})}}();function c_(e,t){return e.replace(o_,function(e,n,r,a,s,i){return n+("$"==r?r+a:QS(GS(a)+t.c))+("$"==s?s+i:WS(HS(i)+t.r))})}function u_(e,t,n){var r=XS(t).s,a=KS(n);return c_(e,{r:a.r-r.r,c:a.c-r.c})}function d_(e){return e.replace(/_xlfn\./g,"")}function h_(e){e.l+=1}function f_(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function m_(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return p_(e);12==n.biff&&(r=4)}var a=e.read_shift(r),s=e.read_shift(r),i=f_(e,2),o=f_(e,2);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function p_(e){var t=f_(e,2),n=f_(e,2),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function g_(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=f_(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),a=f_(e,2);return{r:r,c:a[0],cRel:a[1],rRel:a[2]}}function v_(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function y_(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function x_(e){return[e.read_shift(1),e.read_shift(1)]}function b_(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=Ck(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=FE[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=TE(e);break;case 2:n[1]=Uk(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function w_(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),a=[],s=0;s!=r;++s)a.push((12==n.biff?kE:Jk)(e,8));return a}function N_(e,t,n){var r=0,a=0;12==n.biff?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--a&&(a=256));for(var s=0,i=[];s!=r&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=b_(e,n.biff);return i}function S_(e,t,n){return e.l+=2,[v_(e)]}function E_(e){return e.l+=6,[]}function k_(e){return e.l+=2,[Ok(e),1&e.read_shift(2)]}var j_=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var T_={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:RS},3:{n:"PtgAdd",f:h_},4:{n:"PtgSub",f:h_},5:{n:"PtgMul",f:h_},6:{n:"PtgDiv",f:h_},7:{n:"PtgPower",f:h_},8:{n:"PtgConcat",f:h_},9:{n:"PtgLt",f:h_},10:{n:"PtgLe",f:h_},11:{n:"PtgEq",f:h_},12:{n:"PtgGe",f:h_},13:{n:"PtgGt",f:h_},14:{n:"PtgNe",f:h_},15:{n:"PtgIsect",f:h_},16:{n:"PtgUnion",f:h_},17:{n:"PtgRange",f:h_},18:{n:"PtgUplus",f:h_},19:{n:"PtgUminus",f:h_},20:{n:"PtgPercent",f:h_},21:{n:"PtgParen",f:h_},22:{n:"PtgMissArg",f:h_},23:{n:"PtgStr",f:function(e,t,n){return e.l++,Rk(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,FE[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,TE(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[Y_[a],K_[a],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],a=e.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[a,(0===s[0]?K_:Q_)[s[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,s=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,g_(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,m_(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:RS},40:{n:"PtgMemNoMem",f:RS},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,a=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==a&&n>=128&&(n-=256),{r:t,c:n,cRel:a,rRel:r}}(e);var a=e.read_shift(r>=12?4:2),s=e.read_shift(2),i=(16384&s)>>14,o=(32768&s)>>15;if(s&=16383,1==o)for(;a>524287;)a-=1048576;if(1==i)for(;s>8191;)s-=16384;return{r:a,c:s,cRel:i,rRel:o}}(e,0,n);return[r,a]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=function(e,t,n){if(n.biff<8)return p_(e);var r=e.read_shift(12==n.biff?4:2),a=e.read_shift(12==n.biff?4:2),s=f_(e,2),i=f_(e,2);return{s:{r:r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}(e,0,n);return[r,a]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var a=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,a,g_(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,a,m_(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[r,a]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,a=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[r,a]}},255:{}},__={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},C_={1:{n:"PtgElfLel",f:k_},2:{n:"PtgElfRw",f:S_},3:{n:"PtgElfCol",f:S_},6:{n:"PtgElfRwV",f:S_},7:{n:"PtgElfColV",f:S_},10:{n:"PtgElfRadical",f:S_},11:{n:"PtgElfRadicalS",f:E_},13:{n:"PtgElfColS",f:E_},15:{n:"PtgElfColSV",f:E_},16:{n:"PtgElfRadicalLel",f:k_},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&n,rt:j_[n>>2&31],idx:r,c:a,C:s}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},A_={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),a=[],s=0;s<=r;++s)a.push(e.read_shift(n&&2==n.biff?1:2));return a}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:y_},33:{n:"PtgAttrBaxcel",f:y_},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),x_(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),x_(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function O_(e,t,n,r){if(r.biff<8)return RS(e,t);for(var a=e.l+t,s=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=N_(e,0,r),s.push(n[i][1]);break;case"PtgMemArea":n[i][2]=w_(e,n[i][1],r),s.push(n[i][2]);break;case"PtgExp":r&&12==r.biff&&(n[i][1][1]=e.read_shift(4),s.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0]}return 0!==(t=a-e.l)&&s.push(RS(e,t)),s}function I_(e,t,n){for(var r,a,s=e.l+t,i=[];s!=e.l;)t=s-e.l,a=e[e.l],r=T_[a]||T_[__[a]],24!==a&&25!==a||(r=(24===a?C_:A_)[e[e.l+1]]),r&&r.f?i.push([r.n,r.f(e,t,n)]):RS(e,t);return i}function P_(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],s=0;s<r.length;++s){var i=r[s];if(i)if(2===i[0])a.push('"'+i[1].replace(/"/g,'""')+'"');else a.push(i[1]);else a.push("")}t.push(a.join(","))}return t.join(";")}var D_={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function R_(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[r[0]][0][3]?(a=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function M_(e,t,n){var r=R_(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function L_(e,t,n,r,a){var s,i,o,l,c=a&&a.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,m="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",v=0,y=e[0].length;v<y;++v){var x=e[0][v];switch(x[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=d.pop(),i=d.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Iw(" ",e[0][p][1][1]);break;case 1:g=Iw("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}i+=g,p=-1}d.push(i+D_[x[0]]+s);break;case"PtgIsect":s=d.pop(),i=d.pop(),d.push(i+" "+s);break;case"PtgUnion":s=d.pop(),i=d.pop(),d.push(i+","+s);break;case"PtgRange":s=d.pop(),i=d.pop(),d.push(i+":"+s);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=US(x[1][1],u,a),d.push(BS(o,c));break;case"PtgRefN":o=n?US(x[1][1],n,a):x[1][1],d.push(BS(o,c));break;case"PtgRef3d":h=x[1][1],o=US(x[1][2],u,a);m=M_(r,h,a);d.push(m+"!"+BS(o,c));break;case"PtgFunc":case"PtgFuncVar":var b=x[1][0],w=x[1][1];b||(b=0);var N=0==(b&=127)?[]:d.slice(-b);d.length-=b,"User"===w&&(w=N.shift()),d.push(w+"("+N.join(",")+")");break;case"PtgBool":d.push(x[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(x[1]);break;case"PtgNum":d.push(String(x[1]));break;case"PtgStr":d.push('"'+x[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=qS(x[1][1],n?{s:n}:u,a),d.push(VS(l,a));break;case"PtgArea":l=qS(x[1][1],u,a),d.push(VS(l,a));break;case"PtgArea3d":h=x[1][1],l=x[1][2],m=M_(r,h,a),d.push(m+"!"+VS(l,a));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":f=x[1][2];var S=(r.names||[])[f-1]||(r[0]||[])[f],E=S?S.Name:"SH33TJSNAME"+String(f);E&&"_xlfn."==E.slice(0,6)&&!a.xlfn&&(E=E.slice(6)),d.push(E);break;case"PtgNameX":var k,j=x[1][1];if(f=x[1][2],!(a.biff<=5)){var T="";if(14849==((r[j]||[])[0]||[])[0]||(1025==((r[j]||[])[0]||[])[0]?r[j][f]&&r[j][f].itab>0&&(T=r.SheetNames[r[j][f].itab-1]+"!"):T=r.SheetNames[f-1]+"!"),r[j]&&r[j][f])T+=r[j][f].Name;else if(r[0]&&r[0][f])T+=r[0][f].Name;else{var _=(R_(r,j,a)||"").split(";;");_[f-1]?T=_[f-1]:T+="SH33TJSERRX"}d.push(T);break}j<0&&(j=-j),r[j]&&(k=r[j][f]),k||(k={Name:"SH33TJSERRY"}),d.push(k.Name);break;case"PtgParen":var C="(",A=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:C=Iw(" ",e[0][p][1][1])+C;break;case 3:C=Iw("\r",e[0][p][1][1])+C;break;case 4:A=Iw(" ",e[0][p][1][1])+A;break;case 5:A=Iw("\r",e[0][p][1][1])+A;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}d.push(C+d.pop()+A);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":o={c:x[1][1],r:x[1][0]};var O={c:n.c,r:n.r};if(r.sharedf[YS(o)]){var I=r.sharedf[YS(o)];d.push(L_(I,u,O,r,a))}else{var P=!1;for(s=0;s!=r.arrayf.length;++s)if(i=r.arrayf[s],!(o.c<i[0].s.c||o.c>i[0].e.c)&&!(o.r<i[0].s.r||o.r>i[0].e.r)){d.push(L_(i[1],u,O,r,a)),P=!0;break}P||d.push(x[1])}break;case"PtgArray":d.push("{"+P_(x[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+x[1].idx+"[#"+x[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(x))}if(3!=a.biff&&p>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((x=e[0][p])[1][0]){case 4:D=!1;case 0:g=Iw(" ",x[1][1]);break;case 5:D=!1;case 1:g=Iw("\r",x[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+x[1][0])}d.push((D?g:"")+d.pop()+(D?"":g)),p=-1}}if(d.length>1&&a.WTF)throw new Error("bad formula stack");return d[0]}function z_(e,t,n){var r,a=e.l+t,s=2==n.biff?1:2,i=e.read_shift(s);if(65535==i)return[[],RS(e,t-2)];var o=I_(e,i,n);return t!==i+s&&(r=O_(e,t-i-s,o,n)),e.l=a,[o,r]}function F_(e,t,n){var r,a=e.l+t,s=e.read_shift(2),i=I_(e,s,n);return 65535==s?[[],RS(e,t-2)]:(t!==s+2&&(r=O_(e,a-s-2,i,n)),[i,r])}function U_(e,t,n){var r=e.l+t,a=Kk(e);2==n.biff&&++e.l;var s=function(e){var t;if(65535!==SS(e,e.l+6))return[TE(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),i=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=function(e,t,n){var r,a=e.l+t,s=2==n.biff?1:2,i=e.read_shift(s);if(65535==i)return[[],RS(e,t-2)];var o=I_(e,i,n);return t!==i+s&&(r=O_(e,t-i-s,o,n)),e.l=a,[o,r]}(e,r-e.l,n);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function q_(e,t,n,r,a){var s=Yk(t,n,a),i=function(e){if(null==e){var t=MS(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return _E("number"==typeof e?e:0)}(e.v),o=MS(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=MS(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return mb([s,i,o,l])}function B_(e,t,n){var r=e.read_shift(4),a=I_(e,r,n),s=e.read_shift(4);return[a,s>0?O_(e,s,a,n):null]}var V_=B_,H_=B_,W_=B_,G_=B_,Q_={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},K_={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Y_={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function X_(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function $_(e){return("of:="+e.replace(o_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function J_(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Z_(e){return e.replace(/\./,"!")}var eC={},tC={},nC="undefined"!==typeof Map;function rC(e,t,n){var r=0,a=e.length;if(n){if(nC?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var s=nC?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t:t},e.Count++,e.Unique++,n&&(nC?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function aC(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(cT=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=dT(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=hT(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function sC(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function iC(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],a=60,s=e.length;if(null==r&&n.ssf)for(;a<392;++a)if(null==n.ssf[a]){sw(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}for(a=0;a!=s;++a)if(e[a].numFmtId===r)return a;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function oC(e,t,n,r,a,s){try{r.cellNF&&(e.z=jb[t])}catch(G5){if(r.WTF)throw G5}if("z"!==e.t||r.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=Cw(e.v)),(!r||!1!==r.cellText)&&"z"!==e.t)try{if(null==jb[t]&&sw(lw[t]||"General",t),"e"===e.t)e.w=e.w||FE[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Mb(e.v);else if("d"===e.t){var i=bw(e.v);e.w=(0|i)===i?i.toString(10):Mb(i)}else{if(void 0===e.v)return"";e.w=Lb(e.v,tC)}else"d"===e.t?e.w=aw(t,bw(e.v),tC):e.w=aw(t,e.v,tC)}catch(G5){if(r.WTF)throw G5}if(r.cellStyles&&null!=n)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=lT(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=lT(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(G5){if(r.WTF&&s.Fills)throw G5}}}function lC(e,t,n){if(e&&e["!ref"]){var r=JS(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var cC=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,uC=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dC=/<(?:\w:)?hyperlink [^>]*>/gm,hC=/"(\w*:\w*)"/,fC=/<(?:\w:)?col\b[^>]*[\/]?>/g,mC=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,pC=/<(?:\w:)?pageMargins[^>]*\/>/g,gC=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,vC=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yC=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function xC(e,t,n,r,a,s,i){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=e.match(uC);d?(c=e.slice(0,d.index),u=e.slice(d.index+d[0].length)):c=u=e;var h=c.match(gC);h?bC(h[0],o,a,n):(h=c.match(vC))&&function(e,t,n,r,a){bC(e.slice(0,e.indexOf(">")),n,r,a)}(h[0],h[1],o,a,n);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var m=c.slice(f,f+50).match(hC);m&&function(e,t){var n=JS(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=$S(n))}(o,m[1])}var p=c.match(yC);p&&p[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(SC)||[]).forEach(function(e,n){var r=tN(e);t.Views[n]||(t.Views[n]={}),+r.zoomScale&&(t.Views[n].zoom=+r.zoomScale),fN(r.rightToLeft)&&(t.Views[n].RTL=!0)})}(p[1],a);var g=[];if(t.cellStyles){var v=c.match(fC);v&&function(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=tN(t[r],!0);a.hidden&&(a.hidden=fN(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,mT(a.width)),pT(a);s<=i;)e[s++]=Ow(a)}}(g,v)}d&&kC(d[1],o,t,l,s,i);var y=u.match(mC);y&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(y[0]));var x=[],b=u.match(cC);if(b)for(f=0;f!=b.length;++f)x[f]=JS(b[f].slice(b[f].indexOf('"')+1));var w=u.match(dC);w&&function(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var s=tN(yN(t[a]),!0);if(!s.ref)return;var i=((n||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+sN(s.location))):(s.Target="#"+sN(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=JS(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=YS({c:c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}(o,w,r);var N=u.match(pC);if(N&&(o["!margins"]=function(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}(tN(N[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=$S(l)),t.sheetRows>0&&o["!ref"]){var S=JS(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=$S(S))}return g.length>0&&(o["!cols"]=g),x.length>0&&(o["!merges"]=x),o}function bC(e,t,n,r){var a=tN(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=sN(yN(a.codeName)))}var wC=["objects","scenarios","selectLockedCells","selectUnlockedCells"],NC=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var SC=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function EC(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var a="",s=e.t,i=e.v;if("z"!==e.t)switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=FE[e.v];break;case"d":r&&r.cellDates?a=Cw(e.v,-1).toISOString():((e=Ow(e)).t="n",a=""+(e.v=bw(Cw(e.v)))),"undefined"===typeof e.z&&(e.z=jb[14]);break;default:a=e.v}var o=TN("v",lN(a)),l={r:t},c=iC(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=TN("v",""+rC(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=s&&(e.t=s,e.v=i),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=CN("f",lN(e.f),u)+(null!=e.v?o:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),CN("c",o,l)}var kC=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=bN("v"),i=bN("f");return function(o,l,c,u,d,h){for(var f,m,p,g,v,y=0,x="",b=[],w=[],N=0,S=0,E=0,k="",j=0,T=0,_=0,C=0,A=Array.isArray(h.CellXf),O=[],I=[],P=Array.isArray(l),D=[],R={},M=!1,L=!!c.sheetStubs,z=o.split(t),F=0,U=z.length;F!=U;++F){var q=(x=z[F].trim()).length;if(0!==q){var B=0;e:for(y=0;y<q;++y)switch(x[y]){case">":if("/"!=x[y-1]){++y;break e}if(c&&c.cellStyles){if(j=null!=(m=tN(x.slice(B,y),!0)).r?parseInt(m.r,10):j+1,T=-1,c.sheetRows&&c.sheetRows<j)continue;R={},M=!1,m.ht&&(M=!0,R.hpt=parseFloat(m.ht),R.hpx=yT(R.hpt)),"1"==m.hidden&&(M=!0,R.hidden=!0),null!=m.outlineLevel&&(M=!0,R.level=+m.outlineLevel),M&&(D[j-1]=R)}break;case"<":B=y}if(B>=y)break;if(j=null!=(m=tN(x.slice(B,y),!0)).r?parseInt(m.r,10):j+1,T=-1,!(c.sheetRows&&c.sheetRows<j)){u.s.r>j-1&&(u.s.r=j-1),u.e.r<j-1&&(u.e.r=j-1),c&&c.cellStyles&&(R={},M=!1,m.ht&&(M=!0,R.hpt=parseFloat(m.ht),R.hpx=yT(R.hpt)),"1"==m.hidden&&(M=!0,R.hidden=!0),null!=m.outlineLevel&&(M=!0,R.level=+m.outlineLevel),M&&(D[j-1]=R)),b=x.slice(y).split(e);for(var V=0;V!=b.length&&"<"==b[V].trim().charAt(0);++V);for(b=b.slice(V),y=0;y!=b.length;++y)if(0!==(x=b[y].trim()).length){if(w=x.match(n),N=y,S=0,E=0,x="<c "+("<"==x.slice(0,1)?">":"")+x,null!=w&&2===w.length){for(N=0,k=w[1],S=0;S!=k.length&&!((E=k.charCodeAt(S)-64)<1||E>26);++S)N=26*N+E;T=--N}else++T;for(S=0;S!=x.length&&62!==x.charCodeAt(S);++S);if(++S,(m=tN(x.slice(0,S),!0)).r||(m.r=YS({r:j-1,c:T})),f={t:""},null!=(w=(k=x.slice(S)).match(s))&&""!==w[1]&&(f.v=sN(w[1])),c.cellFormula){if(null!=(w=k.match(i))&&""!==w[1]){if(f.f=sN(yN(w[1])).replace(/\r\n/g,"\n"),c.xlfn||(f.f=d_(f.f)),w[0].indexOf('t="array"')>-1)f.F=(k.match(a)||[])[1],f.F.indexOf(":")>-1&&O.push([JS(f.F),f.F]);else if(w[0].indexOf('t="shared"')>-1){g=tN(w[0]);var H=sN(yN(w[1]));c.xlfn||(H=d_(H)),I[parseInt(g.si,10)]=[g,H,m.r]}}else(w=k.match(/<f[^>]*\/>/))&&I[(g=tN(w[0])).si]&&(f.f=u_(I[g.si][1],I[g.si][2],m.r));var W=KS(m.r);for(S=0;S<O.length;++S)W.r>=O[S][0].s.r&&W.r<=O[S][0].e.r&&W.c>=O[S][0].s.c&&W.c<=O[S][0].e.c&&(f.F=O[S][1])}if(null==m.t&&void 0===f.v)if(f.f||f.F)f.v=0,f.t="n";else{if(!L)continue;f.t="z"}else f.t=m.t||"n";switch(u.s.c>T&&(u.s.c=T),u.e.c<T&&(u.e.c=T),f.t){case"n":if(""==f.v||null==f.v){if(!L)continue;f.t="z"}else f.v=parseFloat(f.v);break;case"s":if("undefined"==typeof f.v){if(!L)continue;f.t="z"}else p=eC[parseInt(f.v,10)],f.v=p.t,f.r=p.r,c.cellHTML&&(f.h=p.h);break;case"str":f.t="s",f.v=null!=f.v?yN(f.v):"",c.cellHTML&&(f.h=dN(f.v));break;case"inlineStr":w=k.match(r),f.t="s",null!=w&&(p=Fj(w[1]))?(f.v=p.t,c.cellHTML&&(f.h=p.h)):f.v="";break;case"b":f.v=fN(f.v);break;case"d":c.cellDates?f.v=Cw(f.v,1):(f.v=bw(Cw(f.v,1)),f.t="n");break;case"e":c&&!1===c.cellText||(f.w=f.v),f.v=UE[f.v]}if(_=C=0,v=null,A&&void 0!==m.s&&null!=(v=h.CellXf[m.s])&&(null!=v.numFmtId&&(_=v.numFmtId),c.cellStyles&&null!=v.fillId&&(C=v.fillId)),oC(f,_,C,c,d,h),c.cellDates&&A&&"n"==f.t&&ew(jb[_])&&(f.t="d",f.v=Ew(f.v)),m.cm&&c.xlmeta){var G=(c.xlmeta.Cell||[])[+m.cm-1];G&&"XLDAPR"==G.type&&(f.D=!0)}if(P){var Q=KS(m.r);l[Q.r]||(l[Q.r]=[]),l[Q.r][Q.c]=f}else l[m.r]=f}}}}D.length>0&&(l["!rows"]=D)}}();function jC(e,t,n,r){var a,s=[Yw,CN("worksheet",null,{xmlns:GN[0],"xmlns:r":BN})],i=n.SheetNames[e],o="",l=n.Sheets[i];null==l&&(l={});var c=l["!ref"]||"A1",u=JS(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=$S(u)}r||(r={}),l["!comments"]=[];var d=[];!function(e,t,n,r,a){var s=!1,i={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(G5){}s=!0,i.codeName=xN(lN(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+CN("outlinePr",null,c)}(s||o)&&(a[a.length]=CN("sheetPr",o,i))}(l,n,e,t,s),s[s.length]=CN("dimension",null,{ref:c}),s[s.length]=function(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),CN("sheetViews",CN("sheetView",null,a),{})}(0,0,0,n),t.sheetFormat&&(s[s.length]=CN("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(s[s.length]=function(e,t){for(var n,r=["<cols>"],a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=CN("col",null,aC(a,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),s[a=s.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var n,r,a=[],s=[],i=JS(e["!ref"]),o="",l="",c=[],u=0,d=0,h=e["!rows"],f=Array.isArray(e),m={r:l},p=-1;for(d=i.s.c;d<=i.e.c;++d)c[d]=QS(d);for(u=i.s.r;u<=i.e.r;++u){for(s=[],l=WS(u),d=i.s.c;d<=i.e.c;++d){n=c[d]+l;var g=f?(e[u]||[])[d]:e[n];void 0!==g&&null!=(o=EC(g,n,e,t))&&s.push(o)}(s.length>0||h&&h[u])&&(m={r:l},h&&h[u]&&((r=h[u]).hidden&&(m.hidden=1),p=-1,r.hpx?p=vT(r.hpx):r.hpt&&(p=r.hpt),p>-1&&(m.ht=p,m.customHeight=1),r.level&&(m.outlineLevel=r.level)),a[a.length]=CN("row",s.join(""),m))}if(h)for(;u<h.length;++u)h&&h[u]&&(m={r:u+1},(r=h[u]).hidden&&(m.hidden=1),p=-1,r.hpx?p=vT(r.hpx):r.hpt&&(p=r.hpt),p>-1&&(m.ht=p,m.customHeight=1),r.level&&(m.outlineLevel=r.level),a[a.length]=CN("row","",m));return a.join("")}(l,t,0,0),o.length>0&&(s[s.length]=o)),s.length>a+1&&(s[s.length]="</sheetData>",s[a]=s[a].replace("/>",">")),l["!protect"]&&(s[s.length]=function(e){var t={sheet:1};return wC.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),NC.forEach(function(n){null==e[n]||e[n]||(t[n]="0")}),e.password&&(t.password=nT(e.password).toString(16).toUpperCase()),CN("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(s[s.length]=function(e,t,n,r){var a="string"==typeof e.ref?e.ref:$S(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,i=XS(a);i.s.r==i.e.r&&(i.e.r=XS(t["!ref"]).e.r,a=$S(i));for(var o=0;o<s.length;++o){var l=s[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),CN("autoFilter",null,{ref:a})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(s[s.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+$S(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,m=-1,p=-1;return l["!links"].length>0&&(s[s.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(p=KE(r,-1,lN(e[1].Target).replace(/#.*$/,""),HE.HLINK),h["r:id"]="rId"+p),(m=e[1].Target.indexOf("#"))>-1&&(h.location=lN(e[1].Target.slice(m+1))),e[1].Tooltip&&(h.tooltip=lN(e[1].Tooltip)),s[s.length]=CN("hyperlink",null,h))}),s[s.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(s[s.length]=(sC(f=l["!margins"]),CN("pageMargins",null,f))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(s[s.length]=TN("ignoredErrors",CN("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(p=KE(r,-1,"../drawings/drawing"+(e+1)+".xml",HE.DRAW),s[s.length]=CN("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=d),l["!comments"].length>0&&(p=KE(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",HE.VML),s[s.length]=CN("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function TC(e,t,n,r){var a=function(e,t,n){var r=MS(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;a.hpx?s=20*vT(a.hpx):a.hpt&&(s=20*a.hpt),r.write_shift(2,s),r.write_shift(1,0);var i=0;a.level&&(i|=a.level),a.hidden&&(i|=16),(a.hpx||a.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[YS(c)])&&(d<0&&(d=f),h=f);d<0||(++o,r.write_shift(4,d),r.write_shift(4,h))}var m=r.l;return r.l=l,r.write_shift(4,o),r.l=m,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&FS(e,0,a)}var _C=kE,CC=jE;function AC(e){return[fE(e),TE(e),"n"]}var OC=kE,IC=jE;var PC=["left","right","top","bottom","header","footer"];function DC(e,t,n,r,a,s,i){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=Ow(t)).z=t.z||jb[14],t.v=bw(Cw(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:n,c:r};switch(l.s=iC(a.cellXfs,t,a),t.l&&s["!links"].push([YS(l),t.l]),t.c&&s["!comments"].push([YS(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=rC(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,i?FS(e,18,function(e,t,n){return null==n&&(n=MS(8)),mE(t,n),n.write_shift(4,t.v),n}(0,l)):FS(e,7,function(e,t,n){return null==n&&(n=MS(12)),hE(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",i?FS(e,17,function(e,t,n){return null==n&&(n=MS(8+4*e.v.length)),mE(t,n),iE(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):FS(e,6,function(e,t,n){return null==n&&(n=MS(12+4*e.v.length)),hE(t,n),iE(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?i?FS(e,13,function(e,t,n){return null==n&&(n=MS(8)),mE(t,n),SE(e.v,n),n}(t,l)):FS(e,2,function(e,t,n){return null==n&&(n=MS(12)),hE(t,n),SE(e.v,n),n}(t,l)):i?FS(e,16,function(e,t,n){return null==n&&(n=MS(12)),mE(t,n),_E(e.v,n),n}(t,l)):FS(e,5,function(e,t,n){return null==n&&(n=MS(16)),hE(t,n),_E(e.v,n),n}(t,l)),!0;case"b":return l.t="b",i?FS(e,15,function(e,t,n){return null==n&&(n=MS(5)),mE(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):FS(e,4,function(e,t,n){return null==n&&(n=MS(9)),hE(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",i?FS(e,14,function(e,t,n){return null==n&&(n=MS(8)),mE(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):FS(e,3,function(e,t,n){return null==n&&(n=MS(9)),hE(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return i?FS(e,12,function(e,t,n){return null==n&&(n=MS(4)),mE(t,n)}(0,l)):FS(e,1,function(e,t,n){return null==n&&(n=MS(8)),hE(t,n)}(0,l)),!0}function RC(e,t){var n,r;t&&t["!merges"]&&(FS(e,177,(n=t["!merges"].length,null==r&&(r=MS(4)),r.write_shift(4,n),r)),t["!merges"].forEach(function(t){FS(e,176,IC(t))}),FS(e,178))}function MC(e,t){t&&t["!cols"]&&(FS(e,390),t["!cols"].forEach(function(t,n){t&&FS(e,60,function(e,t,n){null==n&&(n=MS(18));var r=aC(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),"number"==typeof r.width&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}(n,t))}),FS(e,391))}function LC(e,t){t&&t["!ref"]&&(FS(e,648),FS(e,649,function(e){var t=MS(24);return t.write_shift(4,4),t.write_shift(4,1),jE(e,t),t}(JS(t["!ref"]))),FS(e,650))}function zC(e,t,n){t["!links"].forEach(function(t){if(t[1].Target){var r=KE(n,-1,t[1].Target.replace(/#.*$/,""),HE.HLINK);FS(e,494,function(e,t){var n=MS(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));jE({s:KS(e[0]),e:KS(e[0])},n),wE("rId"+t,n);var r=e[1].Target.indexOf("#");return iE((-1==r?"":e[1].Target.slice(r+1))||"",n),iE(e[1].Tooltip||"",n),iE("",n),n.slice(0,n.l)}(t,r))}}),delete t["!links"]}function FC(e,t,n){FS(e,133),FS(e,137,function(e,t,n){null==n&&(n=MS(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),FS(e,138),FS(e,134)}function UC(e,t){var n,r;t["!protect"]&&FS(e,535,(n=t["!protect"],null==r&&(r=MS(66)),r.write_shift(2,n.password?nT(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)}),r))}function qC(e,t,n,r){var a=zS(),s=n.SheetNames[e],i=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[e].CodeName||o)}catch(G5){}var l,c,u=JS(i["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],FS(a,129),(n.vbaraw||i["!outline"])&&FS(a,147,function(e,t,n){null==n&&(n=MS(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return CE({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),gE(e,n),n.slice(0,n.l)}(o,i["!outline"])),FS(a,148,CC(u)),FC(a,0,n.Workbook),MC(a,i),function(e,t,n,r){var a,s=JS(t["!ref"]||"A1"),i="",o=[];FS(e,145);var l=Array.isArray(t),c=s.e.r;t["!rows"]&&(c=Math.max(s.e.r,t["!rows"].length-1));for(var u=s.s.r;u<=c;++u){i=WS(u),TC(e,t,s,u);var d=!1;if(u<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){u===s.s.r&&(o[h]=QS(h)),a=o[h]+i;var f=l?(t[u]||[])[h]:t[a];d=!!f&&DC(e,f,u,h,r,t,d)}}FS(e,146)}(a,i,0,t),UC(a,i),function(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],s="string"===typeof a.ref?a.ref:$S(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=XS(s);o.s.r==o.e.r&&(o.e.r=XS(t["!ref"]).e.r,s=$S(o));for(var l=0;l<i.length;++l){var c=i[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),FS(e,161,jE(JS(s))),FS(e,162)}}(a,i,n,e),RC(a,i),zC(a,i,r),i["!margins"]&&FS(a,476,(l=i["!margins"],null==c&&(c=MS(48)),sC(l),PC.forEach(function(e){_E(l[e],c)}),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||LC(a,i),function(e,t,n,r){if(t["!comments"].length>0){var a=KE(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",HE.VML);FS(e,551,wE("rId"+a)),t["!legacy"]=a}}(a,i,e,r),FS(a,130),a.end()}function BC(e,t,n,r,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var t=function(e){var t,n=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(n[+t[1]]=r?+t[2]:t[2])});var a=sN((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(e){t=e.replace(/<.*?>/g,"")}),[n,a,t]}(e);u.s.r=u.s.c=0,u.e.c=o,c=QS(o),t[0].forEach(function(e,n){i[c+WS(n)]={t:"n",v:e,z:t[1]},l=n}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(i["!ref"]=$S(u)),i}var VC=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],HC=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],WC=[],GC=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function QC(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var s=t[a];if(null==r[s[0]])r[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof r[s[0]]&&(r[s[0]]=fN(r[s[0]]));break;case"int":"string"==typeof r[s[0]]&&(r[s[0]]=parseInt(r[s[0]],10))}}}function KC(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=fN(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10))}}}function YC(e){KC(e.WBProps,VC),KC(e.CalcPr,GC),QC(e.WBView,HC),QC(e.Sheets,WC),tC.date1904=fN(e.WBProps.date1904)}var XC="][*?/\\".split("");function $C(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return XC.forEach(function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function JC(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,n){e.forEach(function(r,a){$C(r);for(var s=0;s<a;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var i=t&&t[a]&&t[a].CodeName||r;if(95==i.charCodeAt(0)&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)lC(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var ZC=/<\w+:workbook/;function eA(e){var t=[Yw];t[t.length]=CN("workbook",null,{xmlns:GN[0],"xmlns:r":BN});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(VC.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=CN("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&a[s]&&a[s].Hidden;++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var i={name:lN(e.SheetNames[s].slice(0,31))};if(i.sheetId=""+(s+1),i["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden"}t[t.length]=CN("sheet",null,i)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=CN("definedName",lN(e.Ref),n))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function tA(e,t){return t||(t=MS(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),wE(e.strRelID,t),iE(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function nA(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function rA(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,a=t.Workbook.Sheets,s=0,i=-1,o=-1;s<a.length;++s)!a[s]||!a[s].Hidden&&-1==i?i=s:1==a[s].Hidden&&-1==o&&(o=s);if(!(o>i))FS(e,135),FS(e,158,(n=i,r||(r=MS(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),FS(e,136)}}function aA(e,t){var n=zS();return FS(n,131),FS(n,128,function(e,t){t||(t=MS(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return iE("SheetJS",t),iE(Vx.version,t),iE(Vx.version,t),iE("7262",t),t.length>t.l?t.slice(0,t.l):t}()),FS(n,153,function(e,t){t||(t=MS(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),gE(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),rA(n,e),function(e,t){FS(e,143);for(var n=0;n!=t.SheetNames.length;++n)FS(e,156,tA({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));FS(e,144)}(n,e),FS(n,132),n.end()}function sA(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],WA[16]={n:"BrtFRTArchID$",f:nA},LS(e,function(e,o,l){switch(l){case 156:i.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=L_(e.Ptg,0,null,i,t),delete t.SID,delete e.Ptg,s.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:i[0].length?i.push([l,e]):i[0]=[l,e],i[i.length-1].XTI=[];break;case 362:0===i.length&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(e),i.XTI=i.XTI.concat(e);break;case 35:case 37:r.push(l),a=!0;break;case 36:case 38:r.pop(),a=!1;break;default:if(o.T);else if(!a||t.WTF&&37!=r[r.length-1]&&35!=r[r.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}},t),YC(n),n.Names=s,n.supbooks=i,n}(e,n):function(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",s={},i=0;if(e.replace(Jw,function(o,l){var c=tN(o);switch(nN(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(ZC)&&(a="xmlns"+o.match(/<(\w+):/)[1]),n.xmlns=c[a];break;case"<fileVersion":delete c[0],n.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":VC.forEach(function(e){if(null!=c[e[0]])switch(e[2]){case"bool":n.WBProps[e[0]]=fN(c[e[0]]);break;case"int":n.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:n.WBProps[e[0]]=c[e[0]]}}),c.codeName&&(n.WBProps.CodeName=yN(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],n.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=sN(yN(c.name)),delete c[0],n.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":r=!1;break;case"<definedName":(s={}).Name=yN(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),fN(c.hidden||"0")&&(s.Hidden=!0),i=l+o.length;break;case"</definedName>":s.Ref=sN(yN(e.slice(i,l))),n.Names.push(s);break;case"<calcPr":case"<calcPr/>":delete c[0],n.CalcPr=c;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o}),-1===GN.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return YC(n),n}(e,n)}function iA(e,t,n,r,a,s,i,o){return".bin"===t.slice(-4)?function(e,t,n,r,a,s,i){if(!e)return e;var o=t||{};r||(r={"!id":{}});var l,c,u,d,h,f,m,p,g,v,y=o.dense?[]:{},x={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=[],w=!1,N=!1,S=[];o.biff=12,o["!row"]=0;var E=0,k=!1,j=[],T={},_=o.supbooks||a.supbooks||[[]];if(_.sharedf=T,_.arrayf=j,_.SheetNames=a.SheetNames||a.Sheets.map(function(e){return e.name}),!o.supbooks&&(o.supbooks=_,a.Names))for(var C=0;C<a.Names.length;++C)_[0][C+1]=a.Names[C];var A,O,I=[],P=[],D=!1;if(WA[16]={n:"BrtShortReal",f:AC},LS(e,function(e,t,C){if(!N)switch(C){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(N=!0),g=WS(h=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=yT(e.hpt)),P[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(u={t:e[2]},e[2]){case"n":u.v=e[1];break;case"s":p=eC[e[1]],u.v=p.t,u.r=p.r;break;case"b":u.v=!!e[1];break;case"e":u.v=e[1],!1!==o.cellText&&(u.w=FE[u.v]);break;case"str":u.t="s",u.v=e[1];break;case"is":u.t="s",u.v=e[1].t}if((d=i.CellXf[e[0].iStyleRef])&&oC(u,d.numFmtId,null,o,s,i),f=-1==e[0].c?f+1:e[0].c,o.dense?(y[h]||(y[h]=[]),y[h][f]=u):y[QS(f)+g]=u,o.cellFormula){for(k=!1,E=0;E<j.length;++E){var R=j[E];c.r>=R[0].s.r&&c.r<=R[0].e.r&&f>=R[0].s.c&&f<=R[0].e.c&&(u.F=$S(R[0]),k=!0)}!k&&e.length>3&&(u.f=e[3])}if(x.s.r>c.r&&(x.s.r=c.r),x.s.c>f&&(x.s.c=f),x.e.r<c.r&&(x.e.r=c.r),x.e.c<f&&(x.e.c=f),o.cellDates&&d&&"n"==u.t&&ew(jb[d.numFmtId])){var M=Ab(u.v);M&&(u.t="d",u.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}A&&("XLDAPR"==A.type&&(u.D=!0),A=void 0),O&&(O=void 0);break;case 1:case 12:if(!o.sheetStubs||w)break;u={t:"z",v:void 0},f=-1==e[0].c?f+1:e[0].c,o.dense?(y[h]||(y[h]=[]),y[h][f]=u):y[QS(f)+g]=u,x.s.r>c.r&&(x.s.r=c.r),x.s.c>f&&(x.s.c=f),x.e.r<c.r&&(x.e.r=c.r),x.e.c<f&&(x.e.c=f),A&&("XLDAPR"==A.type&&(u.D=!0),A=void 0),O&&(O=void 0);break;case 176:S.push(e);break;case 49:A=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var L=r["!id"][e.relId];for(L?(e.Target=L.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=L):""==e.relId&&(e.Target="#"+e.loc),h=e.rfx.s.r;h<=e.rfx.e.r;++h)for(f=e.rfx.s.c;f<=e.rfx.e.c;++f)o.dense?(y[h]||(y[h]=[]),y[h][f]||(y[h][f]={t:"z",v:void 0}),y[h][f].l=e):(m=YS({c:f,r:h}),y[m]||(y[m]={t:"z",v:void 0}),y[m].l=e);break;case 426:if(!o.cellFormula)break;j.push(e),(v=o.dense?y[h][f]:y[QS(f)+g]).f=L_(e[1],0,{r:c.r,c:f},_,o),v.F=$S(e[0]);break;case 427:if(!o.cellFormula)break;T[YS(e[0].s)]=e[1],(v=o.dense?y[h][f]:y[QS(f)+g]).f=L_(e[1],0,{r:c.r,c:f},_,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)I[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},D||(D=!0,mT(e.w/256)),pT(I[e.e+1]);break;case 161:y["!autofilter"]={ref:$S(e)};break;case 476:y["!margins"]=e;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),e.name&&(a.Sheets[n].CodeName=e.name),(e.above||e.left)&&(y["!outline"]={above:e.above,left:e.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),e.RTL&&(a.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:w=!0;break;case 36:w=!1;break;case 37:b.push(C),w=!0;break;case 38:b.pop(),w=!1;break;default:if(t.T);else if(!w||o.WTF)throw new Error("Unexpected record 0x"+C.toString(16))}},o),delete o.supbooks,delete o["!row"],!y["!ref"]&&(x.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(y["!ref"]=$S(l||x)),o.sheetRows&&y["!ref"]){var R=JS(y["!ref"]);o.sheetRows<=+R.e.r&&(R.e.r=o.sheetRows-1,R.e.r>x.e.r&&(R.e.r=x.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>x.e.c&&(R.e.c=x.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),y["!fullref"]=y["!ref"],y["!ref"]=$S(R))}return S.length>0&&(y["!merges"]=S),I.length>0&&(y["!cols"]=I),P.length>0&&(y["!rows"]=P),y}(e,r,n,a,s,i,o):xC(e,r,n,a,s,i,o)}function oA(e,t,n,r,a,s,i,o){return".bin"===t.slice(-4)?function(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=[],o=!1;return LS(e,function(e,r,l){switch(l){case 550:s["!rel"]=e;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),e.name&&(a.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(l);break;case 38:i.pop();break;default:if(r.T>0)i.push(l);else if(r.T<0)i.pop();else if(!o||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}(e,r,n,a,s):function(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var s,i={"!type":"chart","!drawel":null,"!rel":""},o=e.match(gC);return o&&bC(o[0],0,a,n),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}(e,0,n,a,s)}function lA(e,t,n,r){return".bin"===t.slice(-4)?function(e,t,n){var r={NumberFmt:[]};for(var a in jb)r.NumberFmt[a]=jb[a];r.CellXf=[],r.Fonts=[];var s=[],i=!1;return LS(e,function(e,a,o){switch(o){case 44:r.NumberFmt[e[0]]=e[1],sw(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=lT(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==s[s.length-1]&&r.CellXf.push(e);break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(o),i=!0;break;case 38:s.pop(),i=!1;break;default:if(a.T>0)s.push(o);else if(a.T<0)s.pop();else if(!i||n.WTF&&37!=s[s.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}}),r}(e,n,r):NT(e,n,r)}function cA(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=!1;return LS(e,function(e,a,s){switch(s){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||t.WTF)throw new Error("Unexpected record 0x"+s.toString(16))}}),n}(e,n):function(e,t){var n=[],r="";if(!e)return n;var a=e.match(Uj);if(a){r=a[2].replace(qj,"").split(Bj);for(var s=0;s!=r.length;++s){var i=Fj(r[s].trim(),t);null!=i&&(n[n.length]=i)}a=tN(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}(e,n)}function uA(e,t,n){return".bin"===t.slice(-4)?function(e,t){var n=[],r=[],a={},s=!1;return LS(e,function(e,i,o){switch(o){case 632:r.push(e);break;case 635:a=e;break;case 637:a.t=e.t,a.h=e.h,a.r=e.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:case 37:case 38:break;case 35:s=!0;break;case 36:s=!1;break;default:if(i.T);else if(!s||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}(e,n):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(e){if(""!==e&&""!==e.trim()){var a=e.match(/<(?:\w+:)?comment[^>]*>/);if(a){var s=tN(a[0]),i={author:s.authorId&&n[s.authorId]||"sheetjsghost",ref:s.ref,guid:s.guid},o=KS(s.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&Fj(l[1])||{r:"",t:"",h:""};i.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),i.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(i.h=c.h),r.push(i)}}}}),r}(e,n)}function dA(e,t,n){return".bin"===t.slice(-4)?function(e){var t=[];return LS(e,function(e,n,r){if(63===r)t.push(e);else if(!n.T)throw new Error("Unexpected record 0x"+r.toString(16))}),t}(e):function(e){var t=[];if(!e)return t;var n=1;return(e.match(Jw)||[]).forEach(function(e){var r=tN(e);switch(r[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r)}}),t}(e)}function hA(e,t,n,r){if(".bin"===n.slice(-4))return function(e,t,n,r){if(!e)return e;var a=r||{},s=!1;LS(e,function(e,t,n){switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(t.T);else if(!s||a.WTF)throw new Error("Unexpected record 0x"+n.toString(16))}},a)}(e,0,0,r)}function fA(e,t,n){return".bin"===t.slice(-4)?function(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},s=[],i=!1,o=2;return LS(e,function(e,t,n){switch(n){case 335:r.Types.push({name:e.name});break;case 51:e.forEach(function(e){1==o?r.Cell.push({type:r.Types[e[0]-1].name,index:e[1]}):0==o&&r.Value.push({type:r.Types[e[0]-1].name,index:e[1]})});break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:s.push(n),i=!0;break;case 36:s.pop(),i=!1;break;default:if(t.T);else if(!i||a.WTF&&35!=s[s.length-1])throw new Error("Unexpected record 0x"+n.toString(16))}}),r}(e,0,n):function(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a,s=!1,i=2;return e.replace(Jw,function(e){var t=tN(e);switch(nN(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":r.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<r.Types.length;++o)r.Types[o].name==t.name&&(a=r.Types[o]);break;case"<rc":1==i?r.Cell.push({type:r.Types[t.t-1].name,index:+t.v}):0==i&&r.Value.push({type:r.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":i=1;break;case"</cellMetadata>":case"</valueMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+t.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e}),r}(e,0,n)}function mA(e,t,n,r,a){return(".bin"===t.slice(-4)?qC:jC)(e,n,r,a)}function pA(e,t,n){return(".bin"===t.slice(-4)?a_:t_)(e,n)}var gA,vA=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yA=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xA(e,t){var n=e.split(/\s+/),r=[];if(t||(r[0]=n[0]),1===n.length)return r;var a,s,i,o=e.match(vA);if(o)for(i=0;i!=o.length;++i)-1===(s=(a=o[i].match(yA))[1].indexOf(":"))?r[a[1]]=a[2].slice(1,a[2].length-1):r["xmlns:"===a[1].slice(0,6)?"xmlns"+a[1].slice(6):a[1].slice(s+1)]=a[2].slice(1,a[2].length-1);return r}function bA(e){var t={};if(1===e.split(/\s+/).length)return t;var n,r,a,s=e.match(vA);if(s)for(a=0;a!=s.length;++a)-1===(r=(n=s[a].match(yA))[1].indexOf(":"))?t[n[1]]=n[2].slice(1,n[2].length-1):t["xmlns:"===n[1].slice(0,6)?"xmlns"+n[1].slice(6):n[1].slice(r+1)]=n[2].slice(1,n[2].length-1);return t}function wA(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=fN(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=Cw(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[sN(t)]=a}function NA(e,t,n){if("z"!==e.t){if(!n||!1!==n.cellText)try{"e"===e.t?e.w=e.w||FE[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Mb(e.v):e.w=Lb(e.v):e.w=function(e,t){var n=gA[e]||sN(e);return"General"===n?Lb(t):aw(n,t)}(t||"General",e.v)}catch(G5){if(n.WTF)throw G5}try{var r=gA[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&"n"==e.t&&ew(r)){var a=Ab(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(G5){if(n.WTF)throw G5}}}function SA(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=xT[r.Pattern]||r.Pattern)}e[t.ID]=t}function EA(e,t,n,r,a,s,i,o,l,c){var u="General",d=r.StyleID,h={};c=c||{};var f=[],m=0;for(void 0===d&&o&&(d=o.StyleID),void 0===d&&i&&(d=i.StyleID);void 0!==s[d]&&(s[d].nf&&(u=s[d].nf),s[d].Interior&&f.push(s[d].Interior),s[d].Parent);)d=s[d].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=fN(e);break;case"String":r.t="s",r.r=hN(sN(e)),r.v=e.indexOf("<")>-1?sN(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=(Cw(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=sN(e):r.v<60&&(r.v=r.v-1),u&&"General"!=u||(u="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=UE[e],!1!==c.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=hN(t||e))}if(NA(r,u,c),!1!==c.cellFormula)if(r.Formula){var p=sN(r.Formula);61==p.charCodeAt(0)&&(p=p.slice(1)),r.f=i_(p,a),delete r.Formula,"RC"==r.ArrayRange?r.F=i_("RC:RC",a):r.ArrayRange&&(r.F=i_(r.ArrayRange,a),l.push([JS(r.F),r.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(r.F=l[m][1]);c.cellStyles&&(f.forEach(function(e){!h.patternType&&e.patternType&&(h.patternType=e.patternType)}),r.s=h),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function kA(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function jA(e,t){var n=t||{};ow();var r=eb(ON(e));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r="undefined"!==typeof Zx?Zx.utils.decode(65001,$x(r)):yN(r));var a,s=r.slice(0,1024).toLowerCase(),i=!1;if((1023&(s=s.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&s.indexOf(","),1023&s.indexOf(";"))){var o=Ow(n);return o.type="string",Ij.to_workbook(r,o)}if(-1==s.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(e){s.indexOf("<"+e)>=0&&(i=!0)}),i)return function(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||0==n.length)throw new Error("Invalid HTML: could not find <table>");if(1==n.length)return tE(rO(n[0],t),t);var r={SheetNames:[],Sheets:{}};return n.forEach(function(e,n){NI(r,rO(e,t),"Sheet"+(n+1))}),r}(r,n);gA={"General Number":"General","General Date":jb[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jb[15],"Short Date":jb[14],"Long Time":jb[19],"Medium Time":jb[18],"Short Time":jb[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jb[2],Standard:jb[4],Percent:jb[10],Scientific:jb[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[];var u,d={},h=[],f=n.dense?[]:{},m="",p={},g={},v=xA('<Data ss:Type="String">'),y=0,x=0,b=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},S={},E="",k=0,j=[],T={},_={},C=0,A=[],O=[],I={},P=[],D=!1,R=[],M=[],L={},z=0,F=0,U={Sheets:[],WBProps:{date1904:!1}},q={};IN.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");for(var B="";a=IN.exec(r);)switch(a[3]=(B=a[3]).toLowerCase()){case"data":if("data"==B){if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break}if(c[c.length-1][1])break;"/"===a[1]?EA(r.slice(y,a.index),E,v,"comment"==c[c.length-1][0]?I:p,{c:x,r:b},N,P[x],g,R,n):(E="",v=xA(a[0]),y=a.index+a[0].length);break;case"cell":if("/"===a[1])if(O.length>0&&(p.c=O),(!n.sheetRows||n.sheetRows>b)&&void 0!==p.v&&(n.dense?(f[b]||(f[b]=[]),f[b][x]=p):f[QS(x)+WS(b)]=p),p.HRef&&(p.l={Target:sN(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(z=x+(0|parseInt(p.MergeAcross,10)),F=b+(0|parseInt(p.MergeDown,10)),j.push({s:{c:x,r:b},e:{c:z,r:F}})),n.sheetStubs)if(p.MergeAcross||p.MergeDown){for(var V=x;V<=z;++V)for(var H=b;H<=F;++H)(V>x||H>b)&&(n.dense?(f[H]||(f[H]=[]),f[H][V]={t:"z"}):f[QS(V)+WS(H)]={t:"z"});x=z+1}else++x;else p.MergeAcross?x=z+1:++x;else(p=bA(a[0])).Index&&(x=+p.Index-1),x<w.s.c&&(w.s.c=x),x>w.e.c&&(w.e.c=x),"/>"===a[0].slice(-2)&&++x,O=[];break;case"row":"/"===a[1]||"/>"===a[0].slice(-2)?(b<w.s.r&&(w.s.r=b),b>w.e.r&&(w.e.r=b),"/>"===a[0].slice(-2)&&(g=xA(a[0])).Index&&(b=+g.Index-1),x=0,++b):((g=xA(a[0])).Index&&(b=+g.Index-1),L={},("0"==g.AutoFitHeight||g.Height)&&(L.hpx=parseInt(g.Height,10),L.hpt=vT(L.hpx),M[b]=L),"1"==g.Hidden&&(L.hidden=!0,M[b]=L));break;case"worksheet":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));h.push(m),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(f["!ref"]=$S(w),n.sheetRows&&n.sheetRows<=w.e.r&&(f["!fullref"]=f["!ref"],w.e.r=n.sheetRows-1,f["!ref"]=$S(w))),j.length&&(f["!merges"]=j),P.length>0&&(f["!cols"]=P),M.length>0&&(f["!rows"]=M),d[m]=f}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=x=0,c.push([a[3],!1]),l=xA(a[0]),m=sN(l.Name),f=n.dense?[]:{},j=[],R=[],M=[],q={name:m,Hidden:0},U.Sheets.push(q);break;case"table":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==a[0].slice(-2))break;c.push([a[3],!1]),P=[],D=!1}break;case"style":"/"===a[1]?SA(N,S,n):S=xA(a[0]);break;case"numberformat":S.nf=sN(xA(a[0]).Format||"General"),gA[S.nf]&&(S.nf=gA[S.nf]);for(var W=0;392!=W&&jb[W]!=S.nf;++W);if(392==W)for(W=57;392!=W;++W)if(null==jb[W]){sw(S.nf,W);break}break;case"column":if("table"!==c[c.length-1][0])break;if((u=xA(a[0])).Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!D&&u.wpx>10){D=!0,cT=6;for(var G=0;G<P.length;++G)P[G]&&pT(P[G])}D&&pT(u),P[u.Index-1||P.length]=u;for(var Q=0;Q<+u.Span;++Q)P[P.length]=Ow(u);break;case"namedrange":if("/"===a[1])break;U.Names||(U.Names=[]);var K=tN(a[0]),Y={Name:K.Name,Ref:i_(K.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Y.Sheet=U.Sheets.length-1),U.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===a[0].slice(-2))break;"/"===a[1]?E+=r.slice(k,a.index):k=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;S.Interior=xA(a[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===a[0].slice(-2))break;"/"===a[1]?dk(T,B,r.slice(C,a.index)):C=a.index+a[0].length;break;case"styles":case"workbook":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else c.push([a[3],!1]);break;case"comment":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"));kA(I),O.push(I)}else c.push([a[3],!1]),I={a:(l=xA(a[0])).Author};break;case"autofilter":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==a[0].charAt(a[0].length-2)){var X=xA(a[0]);f["!autofilter"]={ref:i_(X.Range).replace(/\$/g,"")},c.push([a[3],!0])}break;case"datavalidation":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===a[1]){if((l=c.pop())[0]!==a[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==a[0].charAt(a[0].length-2)&&c.push([a[3],!0]);break;default:if(0==c.length&&"document"==a[3])return gO(r,n);if(0==c.length&&"uof"==a[3])return gO(r,n);var $=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:$=!1}break;case"componentoptions":switch(a[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:$=!1}break;case"excelworkbook":switch(a[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:$=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":case"height":case"width":break;default:$=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if("/>"===a[0].slice(-2));else if("/"===a[1])switch(r.slice(C,a.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2}else C=a.index+a[0].length;break;case"header":f["!margins"]||sC(f["!margins"]={},"xlml"),isNaN(+tN(a[0]).Margin)||(f["!margins"].header=+tN(a[0]).Margin);break;case"footer":f["!margins"]||sC(f["!margins"]={},"xlml"),isNaN(+tN(a[0]).Margin)||(f["!margins"].footer=+tN(a[0]).Margin);break;case"pagemargins":var J=tN(a[0]);f["!margins"]||sC(f["!margins"]={},"xlml"),isNaN(+J.Top)||(f["!margins"].top=+J.Top),isNaN(+J.Left)||(f["!margins"].left=+J.Left),isNaN(+J.Right)||(f["!margins"].right=+J.Right),isNaN(+J.Bottom)||(f["!margins"].bottom=+J.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;default:$=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:$=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:$=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:$=!1}break;case"querytable":switch(a[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:$=!1}break;case"datavalidation":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:$=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:$=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:$=!1}break;case"smarttags":break;default:$=!1}if($)break;if(a[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===a[0].slice(-2))break;"/"===a[1]?wA(_,B,A,r.slice(C,a.index)):(A=a,C=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+c.join("|")}var Z={};return n.bookSheets||n.bookProps||(Z.Sheets=d),Z.SheetNames=h,Z.Workbook=U,Z.SSF=Ow(jb),Z.Props=T,Z.Custprops=_,Z}function TA(e,t){switch(KO(t=t||{}),t.type||"base64"){case"base64":return jA(sb(e),t);case"binary":case"buffer":case"file":return jA(e,t);case"array":return jA(hb(e),t)}}function _A(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return pw(uk).map(function(e){for(var t=0;t<JE.length;++t)if(JE[t][1]==e)return JE[t];for(t=0;t<rk.length;++t)if(rk[t][1]==e)return rk[t];throw e}).forEach(function(r){if(null!=e[r[1]]){var a=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof a?a=String(a):!0===a||!1===a?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(TN(uk[r[1]]||r[1],a))}}),CN("DocumentProperties",n.join(""),{xmlns:QN})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&pw(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<JE.length;++r)if(t==JE[r][1])return;for(r=0;r<rk.length;++r)if(t==rk[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var s=e[t],i="string";"number"==typeof s?(i="float",s=String(s)):!0===s||!1===s?(i="boolean",s=s?"1":"0"):s=String(s),a.push(CN(cN(t),s,{"dt:dt":i}))}}),t&&pw(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],s="string";"number"==typeof r?(s="float",r=String(r)):!0===r||!1===r?(s="boolean",r=r?"1":"0"):r instanceof Date?(s="dateTime.tz",r=r.toISOString()):r=String(r),a.push(CN(cN(n),r,{"dt:dt":s}))}}),"<"+r+' xmlns="'+QN+'">'+a.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function CA(e){return CN("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+l_(e.Ref,{r:0,c:0})})}function AA(e,t,n,r,a,s,i){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+lN(l_(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=KS(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=lN(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=lN(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==i.c&&c[u].s.r==i.r&&(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=FE[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||jb[14]);break;case"s":d="String",h=((e.v||"")+"").replace(iN,function(e){return aN[e]}).replace(uN,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var f=iC(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=i.c+1;var m=null!=e.v?h:"",p="z"==e.t?"":'<Data ss:Type="'+d+'">'+m+"</Data>";return(e.c||[]).length>0&&(p+=e.c.map(function(e){var t=CN("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return CN("Comment",t,{"ss:Author":e.a})}).join("")),CN("Cell",p,o)}function OA(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=yT(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function IA(e,t,n){var r=[],a=n.SheetNames[e],s=n.Sheets[a],i=s?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,s=[],i=0;i<a.length;++i){var o=a[i];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(CA(o)))}return s.join("")}(s,0,e,n):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=s?function(e,t){if(!e["!ref"])return"";var n=JS(e["!ref"]),r=e["!merges"]||[],a=0,s=[];e["!cols"]&&e["!cols"].forEach(function(e,t){pT(e);var n=!!e.width,r=aC(t,e),a={"ss:Index":t+1};n&&(a["ss:Width"]=uT(r.width)),e.hidden&&(a["ss:Hidden"]="1"),s.push(CN("Column",null,a))});for(var i=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){for(var l=[OA(o,(e["!rows"]||[])[o])],c=n.s.c;c<=n.e.c;++c){var u=!1;for(a=0;a!=r.length;++a)if(!(r[a].s.c>c)&&!(r[a].s.r>o)&&!(r[a].e.c<c)&&!(r[a].e.r<o)){r[a].s.c==c&&r[a].s.r==o||(u=!0);break}if(!u){var d={r:o,c:c},h=YS(d),f=i?(e[o]||[])[c]:e[h];l.push(AA(f,h,e,t,0,0,d))}}l.push("</Row>"),l.length>2&&s.push(l.join(""))}return s.join("")}(s,t):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(CN("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(CN("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(CN("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(CN("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&(!r.Workbook.Sheets[s]||r.Workbook.Sheets[s].Hidden);++s);s==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(TN("ProtectContents","True")),e["!protect"].objects&&a.push(TN("ProtectObjects","True")),e["!protect"].scenarios&&a.push(TN("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||a.push(TN("EnableSelection","UnlockedCells")):a.push(TN("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&a.push("<"+t[1]+"/>")})),0==a.length?"":CN("WorksheetOptions",a.join(""),{xmlns:KN})}(s,0,e,n)),r.join("")}function PA(e,t){t||(t={}),e.SSF||(e.SSF=Ow(jb)),e.SSF&&(ow(),iw(e.SSF),t.revssf=yw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],iC(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(_A(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(CN("Worksheet",IA(r,t,e),{"ss:Name":lN(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var r=[];r.push(CN("NumberFormat",null,{"ss:Format":lN(jb[e.numFmtId])}));var a={"ss:ID":"s"+(21+t)};n.push(CN("Style",r.join(""),a))}),CN("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];null==a.Sheet&&(a.Name.match(/^_xlfn\./)||n.push(CA(a)))}return CN("Names",n.join(""))}(e),Yw+CN("Workbook",n.join(""),{xmlns:YN,"xmlns:o":QN,"xmlns:x":KN,"xmlns:ss":YN,"xmlns:dt":XN,"xmlns:html":ZN})}function DA(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return AE(e,1)}(n),n.length-n.l<=4)return t;var r=n.read_shift(4);return 0==r||r>40?t:(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4||1907505652!==(r=n.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return AE(e,2)}(n),0==(r=n.read_shift(4))||r>40?t:(n.l-=4,void(t.Reserved2=n.read_shift(0,"lpwstr")))))}var RA=[60,1084,2066,2165,2175];function MA(e,t,n,r,a){var s=r,i=[],o=n.slice(n.l,n.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:a.enc.insitu(o)}i.push(o),n.l+=s;for(var l=SS(n,n.l),c=GA[l],u=0;null!=c&&RA.indexOf(l)>-1;)s=SS(n,n.l+2),u=n.l+4,2066==l?u+=4:2165!=l&&2175!=l||(u+=12),o=n.slice(u,n.l+4+s),i.push(o),n.l+=4+s,c=GA[l=SS(n,n.l)];var d=mb(i);DS(d,0);var h=0;d.lens=[];for(var f=0;f<i.length;++f)d.lens.push(h),h+=i[f].length;if(d.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+r;return t.f(d,d.length,a)}function LA(e,t,n){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jb[r])}catch(G5){if(t.WTF)throw G5}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||FE[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=Mb(e.v):e.w=Lb(e.v):e.w=aw(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(G5){if(t.WTF)throw G5}if(t.cellDates&&r&&"n"==e.t&&ew(jb[r]||String(r))){var a=Ab(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function zA(e,t,n){return{v:e,ixfe:t,t:n}}function FA(e,t){var n={opts:{}},r={};var a,s,i,o,l,c,u,d,h=t.dense?[]:{},f={},m={},p=null,g=[],v="",y={},x="",b={},w=[],N=[],S=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},j=function(e){return e<8?zE[e]:e<64&&S[e-8]||zE[e]},T=function(e,t,n){if(!(L>1)&&!(n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&function(e,t,n){var r,a=t.XF.data;a&&a.patternType&&n&&n.cellStyles&&(t.s={},t.s.patternType=a.patternType,(r=oT(j(a.icvFore)))&&(t.s.fgColor={rgb:r}),(r=oT(j(a.icvBack)))&&(t.s.bgColor={rgb:r}))}(0,t,n),delete t.ixfe,delete t.XF,a=e,x=YS(e),m&&m.s&&m.e||(m={s:{r:0,c:0},e:{r:0,c:0}}),e.r<m.s.r&&(m.s.r=e.r),e.c<m.s.c&&(m.s.c=e.c),e.r+1>m.e.r&&(m.e.r=e.r+1),e.c+1>m.e.c&&(m.e.c=e.c+1),n.cellFormula&&t.f)for(var r=0;r<w.length;++r)if(!(w[r][0].s.c>e.c||w[r][0].s.r>e.r)&&!(w[r][0].e.c<e.c||w[r][0].e.r<e.r)){t.F=$S(w[r][0]),w[r][0].s.c==e.c&&w[r][0].s.r==e.r||delete t.f,t.f&&(t.f=""+L_(w[r][1],0,e,D,_));break}n.dense?(h[e.r]||(h[e.r]=[]),h[e.r][e.c]=t):h[x]=t}},_={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(_.password=t.password);var C=[],A=[],O=[],I=[],P=!1,D=[];D.SheetNames=_.snames,D.sharedf=_.sharedf,D.arrayf=_.arrayf,D.names=[],D.XTI=[];var R,M=0,L=0,z=0,F=[],U=[];_.codepage=1200,Yx(1200);for(var q=!1;e.l<e.length-1;){var B=e.l,V=e.read_shift(2);if(0===V&&10===M)break;var H=e.l===e.length?0:e.read_shift(2),W=GA[V];if(W&&W.f){if(t.bookSheets&&133===M&&133!==V)break;if(M=V,2===W.r||12==W.r){var G=e.read_shift(2);if(H-=2,!_.enc&&G!==V&&((255&G)<<8|G>>8)!==V)throw new Error("rt mismatch: "+G+"!="+V);12==W.r&&(e.l+=10,H-=10)}var Q={};if(Q=10===V?W.f(e,H,_):MA(V,W,e,H,_),0==L&&-1===[9,521,1033,2057].indexOf(M))continue;switch(V){case 34:n.opts.Date1904=E.WBProps.date1904=Q;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(_.enc||(e.l=0),_.enc=Q,!t.password)throw new Error("File is password-protected");if(null==Q.valid)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:_.lastuser=Q;break;case 66:var K=Number(Q);switch(K){case 21010:K=1200;break;case 32768:K=1e4;break;case 32769:K=1252}Yx(_.codepage=K),q=!0;break;case 317:_.rrtabid=Q;break;case 25:_.winlocked=Q;break;case 439:n.opts.RefreshAll=Q;break;case 12:n.opts.CalcCount=Q;break;case 16:n.opts.CalcDelta=Q;break;case 17:n.opts.CalcIter=Q;break;case 13:n.opts.CalcMode=Q;break;case 14:n.opts.CalcPrecision=Q;break;case 95:n.opts.CalcSaveRecalc=Q;break;case 15:_.CalcRefMode=Q;break;case 2211:n.opts.FullCalc=Q;break;case 129:Q.fDialog&&(h["!type"]="dialog"),Q.fBelow||((h["!outline"]||(h["!outline"]={})).above=!0),Q.fRight||((h["!outline"]||(h["!outline"]={})).left=!0);break;case 224:N.push(Q);break;case 430:D.push([Q]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(Q);break;case 24:case 536:R={Name:Q.Name,Ref:L_(Q.rgce,0,null,D,_)},Q.itab>0&&(R.Sheet=Q.itab-1),D.names.push(R),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(Q),"_xlnm._FilterDatabase"==Q.Name&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&"PtgArea3d"==Q.rgce[0][0][0]&&(U[Q.itab-1]={ref:$S(Q.rgce[0][0][1][2])});break;case 22:_.ExternCount=Q;break;case 23:0==D.length&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(Q),D.XTI=D.XTI.concat(Q);break;case 2196:if(_.biff<8)break;null!=R&&(R.Comment=Q[1]);break;case 18:h["!protect"]=Q;break;case 19:0!==Q&&_.WTF&&console.error("Password verifier: "+Q);break;case 133:f[Q.pos]=Q,_.snames.push(Q.name);break;case 10:if(--L)break;if(m.e){if(m.e.r>0&&m.e.c>0){if(m.e.r--,m.e.c--,h["!ref"]=$S(m),t.sheetRows&&t.sheetRows<=m.e.r){var Y=m.e.r;m.e.r=t.sheetRows-1,h["!fullref"]=h["!ref"],h["!ref"]=$S(m),m.e.r=Y}m.e.r++,m.e.c++}C.length>0&&(h["!merges"]=C),A.length>0&&(h["!objects"]=A),O.length>0&&(h["!cols"]=O),I.length>0&&(h["!rows"]=I),E.Sheets.push(k)}""===v?y=h:r[v]=h,h=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===_.biff&&(_.biff={9:2,521:3,1033:4}[V]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),_.biffguess=0==Q.BIFFVer,0==Q.BIFFVer&&4096==Q.dt&&(_.biff=5,q=!0,Yx(_.codepage=28591)),8==_.biff&&0==Q.BIFFVer&&16==Q.dt&&(_.biff=2),L++)break;if(h=t.dense?[]:{},_.biff<8&&!q&&(q=!0,Yx(_.codepage=t.codepage||1252)),_.biff<5||0==Q.BIFFVer&&4096==Q.dt){""===v&&(v="Sheet1"),m={s:{r:0,c:0},e:{r:0,c:0}};var X={pos:e.l-H,name:v};f[X.pos]=X,_.snames.push(v)}else v=(f[B]||{name:""}).name;32==Q.dt&&(h["!type"]="chart"),64==Q.dt&&(h["!type"]="macro"),C=[],A=[],_.arrayf=w=[],O=[],I=[],P=!1,k={Hidden:(f[B]||{hs:0}).hs,name:v};break;case 515:case 3:case 2:"chart"==h["!type"]&&(t.dense?(h[Q.r]||[])[Q.c]:h[YS({c:Q.c,r:Q.r})])&&++Q.c,c={ixfe:Q.ixfe,XF:N[Q.ixfe]||{},v:Q.val,t:"n"},z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:Q.c,r:Q.r},c,t);break;case 5:case 517:c={ixfe:Q.ixfe,XF:N[Q.ixfe],v:Q.val,t:Q.t},z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:Q.c,r:Q.r},c,t);break;case 638:c={ixfe:Q.ixfe,XF:N[Q.ixfe],v:Q.rknum,t:"n"},z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:Q.c,r:Q.r},c,t);break;case 189:for(var $=Q.c;$<=Q.C;++$){var J=Q.rkrec[$-Q.c][0];c={ixfe:J,XF:N[J],v:Q.rkrec[$-Q.c][1],t:"n"},z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:$,r:Q.r},c,t)}break;case 6:case 518:case 1030:if("String"==Q.val){p=Q;break}if((c=zA(Q.val,Q.cell.ixfe,Q.tt)).XF=N[c.ixfe],t.cellFormula){var Z=Q.formula;if(Z&&Z[0]&&Z[0][0]&&"PtgExp"==Z[0][0][0]){var ee=Z[0][0][1][0],te=Z[0][0][1][1],ne=YS({r:ee,c:te});b[ne]?c.f=""+L_(Q.formula,0,Q.cell,D,_):c.F=((t.dense?(h[ee]||[])[te]:h[ne])||{}).F}else c.f=""+L_(Q.formula,0,Q.cell,D,_)}z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T(Q.cell,c,t),p=Q;break;case 7:case 519:if(!p)throw new Error("String record expects Formula");p.val=Q,(c=zA(Q,p.cell.ixfe,"s")).XF=N[c.ixfe],t.cellFormula&&(c.f=""+L_(p.formula,0,p.cell,D,_)),z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T(p.cell,c,t),p=null;break;case 33:case 545:w.push(Q);var re=YS(Q[0].s);if(s=t.dense?(h[Q[0].s.r]||[])[Q[0].s.c]:h[re],t.cellFormula&&s){if(!p)break;if(!re||!s)break;s.f=""+L_(Q[1],0,Q[0],D,_),s.F=$S(Q[0])}break;case 1212:if(!t.cellFormula)break;if(x){if(!p)break;b[YS(p.cell)]=Q[0],((s=t.dense?(h[p.cell.r]||[])[p.cell.c]:h[YS(p.cell)])||{}).f=""+L_(Q[0],0,a,D,_)}break;case 253:c=zA(g[Q.isst].t,Q.ixfe,"s"),g[Q.isst].h&&(c.h=g[Q.isst].h),c.XF=N[c.ixfe],z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:Q.c,r:Q.r},c,t);break;case 513:t.sheetStubs&&(c={ixfe:Q.ixfe,XF:N[Q.ixfe],t:"z"},z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:Q.c,r:Q.r},c,t));break;case 190:if(t.sheetStubs)for(var ae=Q.c;ae<=Q.C;++ae){var se=Q.ixfe[ae-Q.c];c={ixfe:se,XF:N[se],t:"z"},z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:ae,r:Q.r},c,t)}break;case 214:case 516:case 4:(c=zA(Q.val,Q.ixfe,"s")).XF=N[c.ixfe],z>0&&(c.z=F[c.ixfe>>8&63]),LA(c,t,n.opts.Date1904),T({c:Q.c,r:Q.r},c,t);break;case 0:case 512:1===L&&(m=Q);break;case 252:g=Q;break;case 1054:if(4==_.biff){F[z++]=Q[1];for(var ie=0;ie<z+163&&jb[ie]!=Q[1];++ie);ie>=163&&sw(Q[1],z+163)}else sw(Q[1],Q[0]);break;case 30:F[z++]=Q;for(var oe=0;oe<z+163&&jb[oe]!=Q;++oe);oe>=163&&sw(Q,z+163);break;case 229:C=C.concat(Q);break;case 93:A[Q.cmo[0]]=_.lastobj=Q;break;case 438:_.lastobj.TxO=Q;break;case 127:_.lastobj.ImData=Q;break;case 440:for(l=Q[0].s.r;l<=Q[0].e.r;++l)for(o=Q[0].s.c;o<=Q[0].e.c;++o)(s=t.dense?(h[l]||[])[o]:h[YS({c:o,r:l})])&&(s.l=Q[1]);break;case 2048:for(l=Q[0].s.r;l<=Q[0].e.r;++l)for(o=Q[0].s.c;o<=Q[0].e.c;++o)(s=t.dense?(h[l]||[])[o]:h[YS({c:o,r:l})])&&s.l&&(s.l.Tooltip=Q[1]);break;case 28:if(_.biff<=5&&_.biff>=2)break;s=t.dense?(h[Q[0].r]||[])[Q[0].c]:h[YS(Q[0])];var le=A[Q[2]];s||(t.dense?(h[Q[0].r]||(h[Q[0].r]=[]),s=h[Q[0].r][Q[0].c]={t:"z"}):s=h[YS(Q[0])]={t:"z"},m.e.r=Math.max(m.e.r,Q[0].r),m.s.r=Math.min(m.s.r,Q[0].r),m.e.c=Math.max(m.e.c,Q[0].c),m.s.c=Math.min(m.s.c,Q[0].c)),s.c||(s.c=[]),i={a:Q[1],t:le.TxO.t},s.c.push(i);break;case 2173:YT(N[Q.ixfe],Q.ext);break;case 125:if(!_.cellStyles)break;for(;Q.e>=Q.s;)O[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(1&Q.flags)},P||(P=!0,mT(Q.w/256)),pT(O[Q.e+1]);break;case 520:var ce={};null!=Q.level&&(I[Q.r]=ce,ce.level=Q.level),Q.hidden&&(I[Q.r]=ce,ce.hidden=!0),Q.hpt&&(I[Q.r]=ce,ce.hpt=Q.hpt,ce.hpx=yT(Q.hpt));break;case 38:case 39:case 40:case 41:h["!margins"]||sC(h["!margins"]={}),h["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[V]]=Q;break;case 161:h["!margins"]||sC(h["!margins"]={}),h["!margins"].header=Q.header,h["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(E.Views[0].RTL=!0);break;case 146:S=Q;break;case 2198:d=Q;break;case 140:u=Q;break;case 442:v?k.CodeName=Q||k.name:E.WBProps.CodeName=Q||"ThisWorkbook"}}else W||console.error("Missing Info for XLS Record 0x"+V.toString(16)),e.l+=H}return n.SheetNames=pw(f).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return f[e].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&y["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=y)):n.Preamble=y,n.Sheets&&U.forEach(function(e,t){n.Sheets[n.SheetNames[t]]["!autofilter"]=e}),n.Strings=g,n.SSF=Ow(jb),_.enc&&(n.Encryption=_.enc),d&&(n.Themes=d),n.Metadata={},void 0!==u&&(n.Metadata.Country=u),D.names.length>0&&(E.Names=D.names),n.Workbook=E,n}var UA="e0859ff2f94f6810ab9108002b27b3d9",qA="02d5cdd59c2e1b10939708002b2cf9ae",BA="05d5cdd59c2e1b10939708002b2cf9ae";function VA(e,t){var n,r,a,s;if(t||(t={}),KO(t),Xx(),t.codepage&&Kx(t.codepage),e.FullPaths){if(dw.find(e,"/encryption"))throw new Error("File is password-protected");n=dw.find(e,"!CompObj"),r=dw.find(e,"/Workbook")||dw.find(e,"/Book")}else{switch(t.type){case"base64":e=ub(sb(e));break;case"binary":e=ub(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}DS(e,0),r={content:e}}if(n&&DA(n),t.bookProps&&!t.bookSheets)a={};else{var i=ib?"buffer":"array";if(r&&r.content)a=FA(r.content,t);else if((s=dw.find(e,"PerfectOffice_MAIN"))&&s.content)a=Pj.to_workbook(s.content,(t.type=i,t));else{if(!(s=dw.find(e,"NativeContent_MAIN"))||!s.content)throw(s=dw.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a=Pj.to_workbook(s.content,(t.type=i,t))}t.bookVBA&&e.FullPaths&&dw.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=function(e){var t=dw.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");dw.utils.cfb_add(t,a,e.FileIndex[r].content)}}),dw.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,n){var r=dw.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=jk(r,PE,qA);for(var s in a)t[s]=a[s]}catch(G5){if(n.WTF)throw G5}var i=dw.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=jk(i,DE,UA);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(G5){if(n.WTF)throw G5}t.HeadingPairs&&t.TitlesOfParts&&(sk(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function HA(e,t){var n=t||{},r=dw.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return dw.utils.cfb_add(r,a,nO(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],a=[],s=[],i=0,o=gw(PE,"n"),l=gw(DE,"n");if(e.Props)for(n=pw(e.Props),i=0;i<n.length;++i)(Object.prototype.hasOwnProperty.call(o,n[i])?r:Object.prototype.hasOwnProperty.call(l,n[i])?a:s).push([n[i],e.Props[n[i]]]);if(e.Custprops)for(n=pw(e.Custprops),i=0;i<n.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},n[i])||(Object.prototype.hasOwnProperty.call(o,n[i])?r:Object.prototype.hasOwnProperty.call(l,n[i])?a:s).push([n[i],e.Custprops[n[i]]]);var c=[];for(i=0;i<s.length;++i)Sk.indexOf(s[i][0])>-1||ak.indexOf(s[i][0])>-1||null!=s[i][1]&&c.push(s[i]);a.length&&dw.utils.cfb_add(t,"/\x05SummaryInformation",Tk(a,UA,l,DE)),(r.length||c.length)&&dw.utils.cfb_add(t,"/\x05DocumentSummaryInformation",Tk(r,qA,o,PE,c.length?c:null,BA))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==a.slice(-1)&&dw.utils.cfb_add(e,a,t.FileIndex[r].content)}})}(r,dw.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var WA={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=a/20),n}},1:{f:function(e){return[dE(e)]}},2:{f:function(e){return[dE(e),NE(e),"n"]}},3:{f:function(e){return[dE(e),e.read_shift(1),"e"]}},4:{f:function(e){return[dE(e),e.read_shift(1),"b"]}},5:{f:function(e){return[dE(e),TE(e),"n"]}},6:{f:function(e){return[dE(e),sE(e),"str"]}},7:{f:function(e){return[dE(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,a=dE(e);a.r=n["!row"];var s=[a,sE(e),"str"];if(n.cellFormula){e.l+=2;var i=H_(e,r-e.l,n);s[3]=L_(i,0,a,n.supbooks,n)}else e.l=r;return s}},9:{f:function(e,t,n){var r=e.l+t,a=dE(e);a.r=n["!row"];var s=[a,TE(e),"n"];if(n.cellFormula){e.l+=2;var i=H_(e,r-e.l,n);s[3]=L_(i,0,a,n.supbooks,n)}else e.l=r;return s}},10:{f:function(e,t,n){var r=e.l+t,a=dE(e);a.r=n["!row"];var s=[a,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var i=H_(e,r-e.l,n);s[3]=L_(i,0,a,n.supbooks,n)}else e.l=r;return s}},11:{f:function(e,t,n){var r=e.l+t,a=dE(e);a.r=n["!row"];var s=[a,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var i=H_(e,r-e.l,n);s[3]=L_(i,0,a,n.supbooks,n)}else e.l=r;return s}},12:{f:function(e){return[fE(e)]}},13:{f:function(e){return[fE(e),NE(e),"n"]}},14:{f:function(e){return[fE(e),e.read_shift(1),"e"]}},15:{f:function(e){return[fE(e),e.read_shift(1),"b"]}},16:{f:AC},17:{f:function(e){return[fE(e),sE(e),"str"]}},18:{f:function(e){return[fE(e),e.read_shift(4),"s"]}},19:{f:lE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=xE(e),i=W_(e,0,n),o=vE(e);e.l=r;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(r.underline=s);var i=e.read_shift(1);i>0&&(r.family=i);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=zE[r];l&&(t.rgb=oT(l));break;case 2:t.rgb=oT([s,i,o]);break;case 3:t.theme=r}return 0!=a&&(t.tint=a>0?a/32767:a/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=sE(e),r}},44:{f:function(e,t){return[e.read_shift(2),sE(e)]}},45:{f:_T},46:{f:IT},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Sj},62:{f:function(e){return[dE(e),lE(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=YS(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:RS,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=pE(e,t-19),n}},148:{f:_C,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?sE(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=bE(e,t-8),n.name=sE(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:kE},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:OC},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:sE(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:yj},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,a=EE(e),s=e.read_shift(1),i=[a];if(i[2]=s,n.cellFormula){var o=V_(e,r-e.l,n);i[1]=o}else e.l=r;return i}},427:{f:function(e,t,n){var r=e.l+t,a=[kE(e,16)];if(n.cellFormula){var s=G_(e,r-e.l,n);a[1]=s,e.l=r}else e.l=r;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return PC.forEach(function(n){t[n]=TE(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=kE(e,16),a=vE(e),s=sE(e),i=sE(e),o=sE(e);e.l=n;var l={rfx:r,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:r_},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=kE(e,16);return t.rfx=n.s,t.ref=YS(n.s),e.l+=16,t}},636:{T:-1},637:{f:cE},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:sE(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},GA={6:{f:U_},10:{f:_k},12:{f:Ok},13:{f:Ok},14:{f:Ck},15:{f:Ck},16:{f:TE},17:{f:Ck},18:{f:Ck},19:{f:Ok},20:{f:mj},21:{f:mj},23:{f:yj},24:{f:vj},25:{f:Ck},26:{},27:{},28:{f:function(e,t,n){return function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=Uk(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:a},o,i,s]}}(e,0,n)}},29:{},34:{f:Ck},35:{f:pj},38:{f:TE},39:{f:TE},40:{f:TE},41:{f:TE},42:{f:Ck},43:{f:Ck},47:{f:function(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?sT(e,t-2,r):function(e,t,n,r){var a={key:Ok(e),verificationBytes:Ok(e)};n.password&&(a.verifier=nT(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=aT(n.password))}(e,n.biff,n,r),r}},49:{f:function(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return r.name=Rk(e,0,n),r}},51:{f:Ok},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:Ck},65:{f:function(){}},66:{f:Ok},77:{},80:{},81:{},82:{},85:{f:Ok},89:{},90:{},91:{},92:{f:function(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=Uk(e,0,n);return e.read_shift(t+r-e.l),a}},93:{f:function(e,t,n){if(n&&n.biff<8)return function(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((bj[r]||RS)(e,t,n)),{cmo:[a,r,s],ft:i}}(e,t,n);var r=nj(e),a=function(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(aj[a](e,n-e.l))}catch(G5){return e.l=n,r}}return e.l!=n&&(e.l=n),r}(e,t-22,r[1]);return{cmo:r,ft:a}}},94:{},95:{f:Ck},96:{},97:{},99:{f:Ck},125:{f:Sj},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,n){var r=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}},130:{f:Ok},131:{f:Ck},132:{f:Ck},133:{f:function(e,t,n){var r=e.read_shift(4),a=3&e.read_shift(1),s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule"}var i=Rk(e,0,n);return 0===i.length&&(i="Sheet1"),{pos:r,hs:a,dt:s,name:i}}},134:{},140:{f:function(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=RE[t]||t,t=e.read_shift(2),n[1]=RE[t]||t,n}},141:{f:Ok},144:{},146:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Qk(e));return n}},151:{},152:{},153:{},154:{},155:{},156:{f:Ok},157:{},158:{},160:{f:kj},161:{f:function(e,t){var n={};return t<32||(e.l+=16,n.header=TE(e),n.footer=TE(e),e.l+=2),n}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),s=[];e.l<n;)s.push($k(e));if(e.l!==n)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:r,c:a,C:i,rkrec:s}}},190:{f:function(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:r,c:a,C:i,ixfe:s}}},193:{f:_k},197:{},198:{},199:{},200:{},201:{},202:{f:Ck},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ok},220:{},221:{f:Ck},222:{},224:{f:function(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,r.data=function(e,t,n,r){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=ME[o>>26],r.cellStyles?(a.alc=7&s,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=15&i,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=127&o,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=127&l,a.icvBack=l>>7&127,a.fsxButton=l>>14&1,a):a}(e,0,r.fStyle,n),r}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:_k},227:{},229:{f:function(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(Jk(e));return n}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<n;++i)s.push(Mk(e));return s.Count=r,s.Unique=a,s}},253:{f:function(e){var t=Kk(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Pk},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ck},353:{f:_k},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,n){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,1025==s||14849==s)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=zk(e,s),o=[];r>e.l;)o.push(Fk(e));return[s,a,i,o]}},431:{f:Ck},432:{},433:{},434:{},437:{},438:{f:function(e,t,n){var r=e.l,a="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(s)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}(e);var i=e.read_shift(2);e.read_shift(2),Ok(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((a+=zk(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?i:2*i))break}if(a.length!==i&&a.length!==2*i)throw new Error("cchText: "+i+" != "+a.length);return e.l=r+t,{t:a}}catch(G5){return e.l=r+t,{t:a}}}},439:{f:Ck},440:{f:function(e,t){var n=Jk(e);e.l+=16;var r=function(e,t){var n=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c,u,d="";16&a&&(s=Vk(e,e.l)),128&a&&(i=Vk(e,e.l)),257===(257&a)&&(o=Vk(e,e.l)),1===(257&a)&&(l=Bk(e,e.l)),8&a&&(d=Vk(e,e.l)),32&a&&(c=e.read_shift(16)),64&a&&(u=hk(e)),e.l=n;var h=i||o||l||"";h&&d&&(h+="#"+d),h||(h="#"+d),2&a&&"/"==h.charAt(0)&&"/"!=h.charAt(1)&&(h="file://"+h);var f={Target:h};return c&&(f.guid=c),u&&(f.time=u),s&&(f.Tooltip=s),f}(e,t-24);return[n,r]}},441:{},442:{f:Fk},443:{},444:{f:Ok},445:{},446:{},448:{f:_k},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:_k},512:{f:dj},513:{f:Ej},515:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5);var r=Kk(e),a=TE(e);return r.val=a,r}},516:{f:function(e,t,n){n.biffguess&&2==n.biff&&(n.biff=5),e.l;var r=Kk(e);2==n.biff&&e.l++;var a=Fk(e,e.l,n);return r.val=a,r}},517:{f:fj},519:{f:jj},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=n/20),t}},523:{},545:{f:xj},549:{f:lj},566:{},574:{f:function(e,t,n){return n&&n.biff>=2&&n.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=$k(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}},659:{},1048:{},1054:{f:function(e,t,n){return[e.read_shift(2),Uk(e,0,n)]}},1084:{},1212:{f:function(e,t,n){var r=ej(e);e.l++;var a=e.read_shift(1);return[F_(e,t-=8,n),a,r]}},2048:{f:function(e,t){e.read_shift(2);var n=Jk(e),r=e.read_shift((t-10)/2,"dbcs-cont");return[n,r=r.replace(pb,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:sj},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_k},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var n=e.read_shift(2);e.l+=2;for(var r=e.read_shift(2),a=[];r-- >0;)a.push(KT(e,e.l));return{ixfe:n,ext:a}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ck,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2);return[zk(e,r,n),zk(e,a,n)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,n){var r=e.l+t;if(124226!==e.read_shift(4))if(n.cellStyles){var a,s=e.slice(e.l);e.l=r;try{a=Qw(s,{type:"array"})}catch(G5){return}var i=Bw(a,"theme/theme/theme1.xml",!0);if(i)return WT(i,n)}else e.l=r},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:_k},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ok},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,n){var r={area:!1};if(5!=n.biff)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,16&a&&(r.area=!0),r}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Qk(e));return n}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dj},1:{},2:{f:function(e){var t=Kk(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}},3:{f:function(e){var t=Kk(e);++e.l;var n=TE(e);return t.t="n",t.val=n,t}},4:{f:function(e,t,n){n.biffguess&&5==n.biff&&(n.biff=2);var r=Kk(e);++e.l;var a=Uk(e,0,n);return r.t="str",r.val=a,r}},5:{f:fj},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:sj},11:{},22:{f:Ok},30:{f:uj},31:{},32:{},33:{f:xj},36:{},37:{f:lj},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:Ok},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,n){var r=e.l+t,a=Kk(e),s=e.read_shift(2),i=zk(e,s,n);return e.l=r,a.t="str",a.val=i,a}},223:{},234:{},354:{},421:{},518:{f:U_},521:{f:sj},536:{f:vj},547:{f:pj},561:{},579:{},1030:{f:U_},1033:{f:sj},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function QA(e,t,n,r){var a=t;if(!isNaN(a)){var s=r||(n||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&bS(n)&&e.push(n)}}function KA(e,t,n){return e||(e=MS(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function YA(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var a="d"==t.t?bw(Cw(t.v)):t.v;return void(a==(0|a)&&a>=0&&a<65536?QA(e,2,function(e,t,n){var r=MS(9);return KA(r,e,t),r.write_shift(2,n),r}(n,r,a)):QA(e,3,function(e,t,n){var r=MS(15);return KA(r,e,t),r.write_shift(8,n,"f"),r}(n,r,a)));case"b":case"e":return void QA(e,5,function(e,t,n,r){var a=MS(9);return KA(a,e,t),Dk(n,r||"b",a),a}(n,r,t.v,t.t));case"s":case"str":return void QA(e,4,function(e,t,n){var r=MS(8+2*n.length);return KA(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}QA(e,1,KA(null,n,r))}function XA(e,t){var n=t||{};for(var r=zS(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(a=s);if(0==a&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return QA(r,4==n.biff?1033:3==n.biff?521:9,ij(0,16,n)),function(e,t,n,r){var a,s=Array.isArray(t),i=JS(t["!ref"]||"A1"),o="",l=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),a=$S(i)}for(var c=i.s.r;c<=i.e.r;++c){o=WS(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=QS(u)),a=l[u]+o;var d=s?(t[c]||[])[u]:t[a];d&&YA(e,d,c,u)}}}(r,e.Sheets[e.SheetNames[a]],0,n),QA(r,10),r.end()}function $A(e,t,n){QA(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,a=MS(r?15+n.length:16+2*n.length);return a.write_shift(2,20*(e.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,n.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function JA(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&QA(e,125,function(e,t){var n=MS(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(aC(r,t),r))})}}function ZA(e,t,n,r,a){var s=16+iC(a.cellXfs,t,a);if(null!=t.v||t.bf)if(t.bf)QA(e,6,q_(t,n,r,0,s));else switch(t.t){case"d":case"n":QA(e,515,function(e,t,n,r){var a=MS(14);return Yk(e,t,r,a),_E(n,a),a}(n,r,"d"==t.t?bw(Cw(t.v)):t.v,s));break;case"b":case"e":QA(e,517,function(e,t,n,r,a,s){var i=MS(8);return Yk(e,t,r,i),Dk(n,s,i),i}(n,r,t.v,s,0,t.t));break;case"s":case"str":if(a.bookSST)QA(e,253,function(e,t,n,r){var a=MS(10);return Yk(e,t,r,a),a.write_shift(4,n),a}(n,r,rC(a.Strings,t.v,a.revStrings),s));else QA(e,516,function(e,t,n,r,a){var s=!a||8==a.biff,i=MS(+s+8+(1+s)*n.length);return Yk(e,t,r,i),i.write_shift(2,n.length),s&&i.write_shift(1,1),i.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),i}(n,r,(t.v||"").slice(0,255),s,a));break;default:QA(e,513,Yk(n,r,s))}else QA(e,513,Yk(n,r,s))}function eO(e,t,n){var r,a=zS(),s=n.SheetNames[e],i=n.Sheets[s]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=8==t.biff,d="",h=[],f=JS(i["!ref"]||"A1"),m=u?65536:16384;if(f.e.c>255||f.e.r>=m){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,m-1)}QA(a,2057,ij(0,16,t)),QA(a,13,Ik(1)),QA(a,12,Ik(100)),QA(a,15,Ak(!0)),QA(a,17,Ak(!1)),QA(a,16,_E(.001)),QA(a,95,Ak(!0)),QA(a,42,Ak(!1)),QA(a,43,Ak(!1)),QA(a,130,Ik(1)),QA(a,128,function(e){var t=MS(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),QA(a,131,Ak(!1)),QA(a,132,Ak(!1)),u&&JA(a,i["!cols"]),QA(a,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=MS(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(f,t)),u&&(i["!links"]=[]);for(var p=f.s.r;p<=f.e.r;++p){d=WS(p);for(var g=f.s.c;g<=f.e.c;++g){p===f.s.r&&(h[g]=QS(g)),r=h[g]+d;var v=c?(i[p]||[])[g]:i[r];v&&(ZA(a,v,p,g,t),u&&v.l&&i["!links"].push([r,v.l]))}}var y=l.CodeName||l.name||s;return u&&QA(a,574,function(e){var t=MS(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&QA(a,229,function(e){var t=MS(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)Zk(e[n],t);return t}(i["!merges"])),u&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];QA(e,440,wj(r)),r[1].Tooltip&&QA(e,2048,Nj(r))}delete t["!links"]}(a,i),QA(a,442,qk(y)),u&&function(e,t){var n=MS(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),QA(e,2151,n),(n=MS(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),Zk(JS(t["!ref"]||"A1"),n),n.write_shift(4,4),QA(e,2152,n)}(a,i),QA(a,10),a.end()}function tO(e,t,n){var r=zS(),a=(e||{}).Workbook||{},s=a.Sheets||[],i=a.WBProps||{},o=8==n.biff,l=5==n.biff;(QA(r,2057,ij(0,5,n)),"xla"==n.bookType&&QA(r,135),QA(r,225,o?Ik(1200):null),QA(r,193,function(e,t){t||(t=MS(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),l&&QA(r,191),l&&QA(r,192),QA(r,226),QA(r,92,function(e,t){var n=!t||8==t.biff,r=MS(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),QA(r,66,Ik(o?1200:1252)),o&&QA(r,353,Ik(0)),o&&QA(r,448),QA(r,317,function(e){for(var t=MS(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&QA(r,211),o&&e.vbaraw)&&QA(r,442,qk(i.CodeName||"ThisWorkbook"));QA(r,156,Ik(17)),QA(r,25,Ak(!1)),QA(r,18,Ak(!1)),QA(r,19,Ik(0)),o&&QA(r,431,Ak(!1)),o&&QA(r,444,Ik(0)),QA(r,61,function(){var e=MS(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),QA(r,64,Ak(!1)),QA(r,141,Ik(0)),QA(r,34,Ak("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&fN(e.Workbook.WBProps.date1904)?"true":"false"}(e))),QA(r,14,Ak(!0)),o&&QA(r,439,Ak(!1)),QA(r,218,Ik(0)),$A(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)null!=t[a]&&QA(e,1054,cj(a,t[a],n))})}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)QA(e,224,hj({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){QA(e,224,hj(n,0,t))})}(r,n),o&&QA(r,352,Ak(!1));var c,u=r.end(),d=zS();o&&QA(d,140,(c||(c=MS(4)),c.write_shift(2,1),c.write_shift(2,1),c)),o&&n.Strings&&function(e,t,n,r){var a=r||(n||[]).length||0;if(a<=8224)return QA(e,t,n,a);var s=t;if(!isNaN(s)){for(var i=n.parts||[],o=0,l=0,c=0;c+(i[o]||8224)<=8224;)c+=i[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,s),u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<a;){for((u=e.next(4)).write_shift(2,60),c=0;c+(i[o]||8224)<=8224;)c+=i[o]||8224,o++;u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}(d,252,function(e){var t=MS(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=Lk(e[r]);var a=mb([t].concat(n));return a.parts=[t.length].concat(n.map(function(e){return e.length})),a}(n.Strings)),QA(d,10);var h=d.end(),f=zS(),m=0,p=0;for(p=0;p<e.SheetNames.length;++p)m+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var g=u.length+m+h.length;for(p=0;p<e.SheetNames.length;++p){QA(f,133,oj({pos:g,hs:(s[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},n)),g+=t[p].length}var v=f.end();if(m!=v.length)throw new Error("BS8 "+m+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),h.length&&y.push(h),mb(y)}function nO(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])XS(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var a=t||{};switch(a.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Ow(jb)),e&&e.SSF&&(ow(),iw(e.SSF),n.revssf=yw(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,YO(n),n.cellXfs=[],iC(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=eO(a,n,e);return r.unshift(tO(e,r,n)),mb(r)}(e,t);case 4:case 3:case 2:return XA(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function rO(e,t){var n=t||{};var r=n.dense?[]:{},a=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=Mw(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,h=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(i=0;i<l.length;++i){var p=l[i].trim(),g=p.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var v=p.split(/<\/t[dh]>/i);for(o=0;o<v.length;++o){var y=v[o].trim();if(y.match(/<t[dh]/i)){for(var x=y,b=0;"<"==x.charAt(0)&&(b=x.indexOf(">"))>-1;)x=x.slice(b+1);for(var w=0;w<m.length;++w){var N=m[w];N.s.c==u&&N.s.r<c&&c<=N.e.r&&(u=N.e.c+1,w=-1)}var S=tN(y.slice(0,y.indexOf(">")));h=S.colspan?+S.colspan:1,((d=+S.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+h-1}});var E=S.t||S["data-t"]||"";if(x.length)if(x=wN(x),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),x.length){var k={t:"s",v:x};n.raw||!x.trim().length||"s"==E||("TRUE"===x?k={t:"b",v:!0}:"FALSE"===x?k={t:"b",v:!1}:isNaN(Pw(x))?isNaN(Rw(x).getDate())||(k={t:"d",v:Cw(x)},n.cellDates||(k={t:"n",v:bw(k.v)}),k.z=n.dateNF||jb[14]):k={t:"n",v:Pw(x)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=k):r[YS({r:c,c:u})]=k,u+=h}else u+=h;else u+=h}}}}else{if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0}}return r["!ref"]=$S(f),m.length&&(r["!merges"]=m),r}function aO(e,t,n,r){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>n||a[c].s.c>i)&&!(a[c].e.r<n||a[c].e.c<i)){if(a[c].s.r<n||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=YS({r:n,c:i}),d=r.dense?(e[n]||[])[i]:e[u],h=d&&null!=d.v&&(d.h||dN(d.w||(eE(d),d.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(r.id||"sjs")+"-"+u,s.push(CN("td",h,f))}}return"<tr>"+s.join("")+"</tr>"}var sO='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',iO="</body></html>";function oO(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function lO(e,t){var n=t||{},r=null!=n.header?n.header:sO,a=null!=n.footer?n.footer:iO,s=[r],i=XS(e["!ref"]);n.dense=Array.isArray(e),s.push(oO(0,0,n));for(var o=i.s.r;o<=i.e.r;++o)s.push(aO(e,i,o,n));return s.push("</table>"+a),s.join("")}function cO(e,t,n){var r=n||{};var a=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)a=r.origin;else{var i="string"==typeof r.origin?KS(r.origin):r.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=XS(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==a&&(c.e.r=a=u.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),m=0,p=0,g=0,v=0,y=0,x=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&p<l;++m){var b=o[m];if(dO(b)){if(r.display)continue;f[p]={hidden:!0}}var w=b.children;for(g=v=0;g<w.length;++g){var N=w[g];if(!r.display||!dO(N)){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):wN(N.innerHTML),E=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<d.length;++h){var k=d[h];k.s.c==v+s&&k.s.r<p+a&&p+a<=k.e.r&&(v=k.e.c+1-s,h=-1)}x=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||x>1)&&d.push({s:{r:p+a,c:v+s},e:{r:p+a+(y||1)-1,c:v+s+(x||1)-1}});var j={t:"s",v:S},T=N.getAttribute("data-t")||N.getAttribute("t")||"";null!=S&&(0==S.length?j.t=T||"z":r.raw||0==S.trim().length||"s"==T||("TRUE"===S?j={t:"b",v:!0}:"FALSE"===S?j={t:"b",v:!1}:isNaN(Pw(S))?isNaN(Rw(S).getDate())||(j={t:"d",v:Cw(S)},r.cellDates||(j={t:"n",v:bw(j.v)}),j.z=r.dateNF||jb[14]):j={t:"n",v:Pw(S)})),void 0===j.z&&null!=E&&(j.z=E);var _="",C=N.getElementsByTagName("A");if(C&&C.length)for(var A=0;A<C.length&&(!C[A].hasAttribute("href")||"#"==(_=C[A].getAttribute("href")).charAt(0));++A);_&&"#"!=_.charAt(0)&&(j.l={Target:_}),r.dense?(e[p+a]||(e[p+a]=[]),e[p+a][v+s]=j):e[YS({c:v+s,r:p+a})]=j,c.e.c<v+s&&(c.e.c=v+s),v+=x}}++p}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,p-1+a),e["!ref"]=$S(c),p>=l&&(e["!fullref"]=$S((c.e.r=o.length-m+p-1+a,c))),e}function uO(e,t){return cO((t||{}).dense?[]:{},e,t)}function dO(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function hO(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,t){return Array(parseInt(t,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[sN(t.replace(/<[^>]*>/g,""))]}var fO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function mO(e,t){var n=t||{};var r,a,s,i,o,l,c=ON(e),u=[],d={name:""},h="",f=0,m={},p=[],g=n.dense?[]:{},v={value:""},y="",x=0,b=[],w=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,k={},j=[],T={},_=[],C=1,A=1,O=[],I={Names:[]},P={},D=["",""],R=[],M={},L="",z=0,F=!1,U=!1,q=0;for(IN.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");o=IN.exec(c);)switch(o[3]=o[3].replace(/_.*$/,"")){case"table":case"\u5de5\u4f5c\u8868":"/"===o[1]?(S.e.c>=S.s.c&&S.e.r>=S.s.r?g["!ref"]=$S(S):g["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=S.e.r&&(g["!fullref"]=g["!ref"],S.e.r=n.sheetRows-1,g["!ref"]=$S(S)),j.length&&(g["!merges"]=j),_.length&&(g["!rows"]=_),s.name=s["\u540d\u79f0"]||s.name,"undefined"!==typeof JSON&&JSON.stringify(s),p.push(s.name),m[s.name]=g,U=!1):"/"!==o[0].charAt(o[0].length-2)&&(s=tN(o[0],!1),w=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,g=n.dense?[]:{},j=[],_=[],U=!0);break;case"table-row-group":"/"===o[1]?--E:++E;break;case"table-row":case"\u884c":if("/"===o[1]){w+=C,C=1;break}if((i=tN(o[0],!1))["\u884c\u53f7"]?w=i["\u884c\u53f7"]-1:-1==w&&(w=0),(C=+i["number-rows-repeated"]||1)<10)for(q=0;q<C;++q)E>0&&(_[w+q]={level:E});N=-1;break;case"covered-table-cell":"/"!==o[1]&&++N,n.sheetStubs&&(n.dense?(g[w]||(g[w]=[]),g[w][N]={t:"z"}):g[YS({r:w,c:N})]={t:"z"}),y="",b=[];break;case"table-cell":case"\u6570\u636e":if("/"===o[0].charAt(o[0].length-2))++N,v=tN(o[0],!1),A=parseInt(v["number-columns-repeated"]||"1",10),l={t:"z",v:null},v.formula&&0!=n.cellFormula&&(l.f=X_(sN(v.formula))),"string"==(v["\u6570\u636e\u7c7b\u578b"]||v["value-type"])&&(l.t="s",l.v=sN(v["string-value"]||""),n.dense?(g[w]||(g[w]=[]),g[w][N]=l):g[YS({r:w,c:N})]=l),N+=A-1;else if("/"!==o[1]){y="",x=0,b=[],A=1;var B=C?w+C-1:w;if(++N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),w<S.s.r&&(S.s.r=w),B>S.e.r&&(S.e.r=B),R=[],M={},l={t:(v=tN(o[0],!1))["\u6570\u636e\u7c7b\u578b"]||v["value-type"],v:null},n.cellFormula)if(v.formula&&(v.formula=sN(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(T={s:{r:w,c:N},e:{r:w+(parseInt(v["number-matrix-rows-spanned"],10)||0)-1,c:N+(parseInt(v["number-matrix-columns-spanned"],10)||0)-1}},l.F=$S(T),O.push([T,l.F])),v.formula)l.f=X_(v.formula);else for(q=0;q<O.length;++q)w>=O[q][0].s.r&&w<=O[q][0].e.r&&N>=O[q][0].s.c&&N<=O[q][0].e.c&&(l.F=O[q][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(T={s:{r:w,c:N},e:{r:w+(parseInt(v["number-rows-spanned"],10)||0)-1,c:N+(parseInt(v["number-columns-spanned"],10)||0)-1}},j.push(T)),v["number-columns-repeated"]&&(A=parseInt(v["number-columns-repeated"],10)),l.t){case"boolean":l.t="b",l.v=fN(v["boolean-value"]);break;case"float":case"percentage":case"currency":l.t="n",l.v=parseFloat(v.value);break;case"date":l.t="d",l.v=Cw(v["date-value"]),n.cellDates||(l.t="n",l.v=bw(l.v)),l.z="m/d/yy";break;case"time":l.t="n",l.v=kw(v["time-value"])/86400,n.cellDates&&(l.t="d",l.v=Ew(l.v)),l.z="HH:MM:SS";break;case"number":l.t="n",l.v=parseFloat(v["\u6570\u636e\u6570\u503c"]);break;default:if("string"!==l.t&&"text"!==l.t&&l.t)throw new Error("Unsupported value type "+l.t);l.t="s",null!=v["string-value"]&&(y=sN(v["string-value"]),b=[])}}else{if(F=!1,"s"===l.t&&(l.v=y||"",b.length&&(l.R=b),F=0==x),P.Target&&(l.l=P),R.length>0&&(l.c=R,R=[]),y&&!1!==n.cellText&&(l.w=y),F&&(l.t="z",delete l.v),(!F||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=w))for(var V=0;V<C;++V){if(A=parseInt(v["number-columns-repeated"]||"1",10),n.dense)for(g[w+V]||(g[w+V]=[]),g[w+V][N]=0==V?l:Ow(l);--A>0;)g[w+V][N+A]=Ow(l);else for(g[YS({r:w+V,c:N})]=l;--A>0;)g[YS({r:w+V,c:N+A})]=Ow(l);S.e.c<=N&&(S.e.c=N)}N+=(A=parseInt(v["number-columns-repeated"]||"1",10))-1,A=0,l={},y="",b=[]}P={};break;case"document":case"document-content":case"\u7535\u5b50\u8868\u683c\u6587\u6863":case"spreadsheet":case"\u4e3b\u4f53":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===o[1]){if((r=u.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!0]);break;case"annotation":if("/"===o[1]){if((r=u.pop())[0]!==o[3])throw"Bad state: "+r;M.t=y,b.length&&(M.R=b),M.a=L,R.push(M)}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);L="",z=0,y="",x=0,b=[];break;case"creator":"/"===o[1]?L=c.slice(z,o.index):z=o.index+o[0].length;break;case"meta":case"\u5143\u6570\u636e":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===o[1]){if((r=u.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&u.push([o[3],!1]);y="",x=0,b=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"\u7535\u5b50\u8868\u683c":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"\u6807\u9898":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===o[1]){if(k[d.name]=h,(r=u.pop())[0]!==o[3])throw"Bad state: "+r}else"/"!==o[0].charAt(o[0].length-2)&&(h="",d=tN(o[0],!1),u.push([o[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(u[u.length-1][0]){case"time-style":case"date-style":a=tN(o[0],!1),h+=fO[o[3]]["long"===a.style?1:0]}break;case"text":if("/>"===o[0].slice(-2))break;if("/"===o[1])switch(u[u.length-1][0]){case"number-style":case"date-style":case"time-style":h+=c.slice(f,o.index)}else f=o.index+o[0].length;break;case"named-range":D=J_((a=tN(o[0],!1))["cell-range-address"]);var H={Name:a.name,Ref:D[0]+"!"+D[1]};U&&(H.Sheet=p.length),I.Names.push(H);break;case"p":case"\u6587\u672c\u4e32":if(["master-styles"].indexOf(u[u.length-1][0])>-1)break;if("/"!==o[1]||v&&v["string-value"])tN(o[0],!1),x=o.index+o[0].length;else{var W=hO(c.slice(x,o.index));y=(y.length>0?y+"\n":"")+W[0]}break;case"database-range":if("/"===o[1])break;try{m[(D=J_(tN(o[0])["target-range-address"]))[0]]["!autofilter"]={ref:D[1]}}catch(G5){}break;case"a":if("/"!==o[1]){if(!(P=tN(o[0],!1)).href)break;P.Target=sN(P.href),delete P.href,"#"==P.Target.charAt(0)&&P.Target.indexOf(".")>-1?(D=J_(P.Target.slice(1)),P.Target="#"+D[0]+"!"+D[1]):P.Target.match(/^\.\.[\\\/]/)&&(P.Target=P.Target.slice(3))}break;default:switch(o[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"\u8868:":case"\u5b57:":break;default:if(n.WTF)throw new Error(o)}}var G={Sheets:m,SheetNames:p,Workbook:I};return n.bookSheets&&delete G.Sheets,G}function pO(e,t){t=t||{},Fw(e,"META-INF/manifest.xml")&&function(e,t){for(var n,r,a=ON(e);n=IN.exec(a);)switch(n[3]){case"manifest":break;case"file-entry":if("/"==(r=tN(n[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==r.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}(qw(e,"META-INF/manifest.xml"),t);var n=Bw(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=mO(yN(n),t);return Fw(e,"meta.xml")&&(r.Props=ek(qw(e,"meta.xml"))),r}function gO(e,t){return mO(e,t)}var vO=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+_N({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Yw+t}}(),yO=function(){var e=function(e){return lN(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n=function(n,r,a){var s=[];s.push('      <table:table table:name="'+lN(r.SheetNames[a])+'" table:style-name="ta1">\n');var i=0,o=0,l=XS(n["!ref"]||"A1"),c=n["!merges"]||[],u=0,d=Array.isArray(n);if(n["!cols"])for(o=0;o<=l.e.c;++o)s.push("        <table:table-column"+(n["!cols"][o]?' table:style-name="co'+n["!cols"][o].ods+'"':"")+"></table:table-column>\n");var h="",f=n["!rows"]||[];for(i=0;i<l.s.r;++i)h=f[i]?' table:style-name="ro'+f[i].ods+'"':"",s.push("        <table:table-row"+h+"></table:table-row>\n");for(;i<=l.e.r;++i){for(h=f[i]?' table:style-name="ro'+f[i].ods+'"':"",s.push("        <table:table-row"+h+">\n"),o=0;o<l.s.c;++o)s.push(t);for(;o<=l.e.c;++o){var m=!1,p={},g="";for(u=0;u!=c.length;++u)if(!(c[u].s.c>o)&&!(c[u].s.r>i)&&!(c[u].e.c<o)&&!(c[u].e.r<i)){c[u].s.c==o&&c[u].s.r==i||(m=!0),p["table:number-columns-spanned"]=c[u].e.c-c[u].s.c+1,p["table:number-rows-spanned"]=c[u].e.r-c[u].s.r+1;break}if(m)s.push("          <table:covered-table-cell/>\n");else{var v=YS({r:i,c:o}),y=d?(n[i]||[])[o]:n[v];if(y&&y.f&&(p["table:formula"]=lN($_(y.f)),y.F&&y.F.slice(0,v.length)==v)){var x=XS(y.F);p["table:number-matrix-columns-spanned"]=x.e.c-x.s.c+1,p["table:number-matrix-rows-spanned"]=x.e.r-x.s.r+1}if(y){switch(y.t){case"b":g=y.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=y.v?"true":"false";break;case"n":g=y.w||String(y.v||0),p["office:value-type"]="float",p["office:value"]=y.v||0;break;case"s":case"str":g=null==y.v?"":y.v,p["office:value-type"]="string";break;case"d":g=y.w||Cw(y.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=Cw(y.v).toISOString(),p["table:style-name"]="ce1";break;default:s.push(t);continue}var b=e(g);if(y.l&&y.l.Target){var w=y.l.Target;"#"==(w="#"==w.charAt(0)?"#"+Z_(w.slice(1)):w).charAt(0)||w.match(/^\w+:/)||(w="../"+w),b=CN("text:a",b,{"xlink:href":w.replace(/&/g,"&amp;")})}s.push("          "+CN("table:table-cell",CN("text:p",b,{}),p)+"\n")}else s.push(t)}}s.push("        </table:table-row>\n")}return s.push("      </table:table>\n"),s.join("")};return function(e,t){var r=[Yw],a=_N({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),s=_N({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+a+s+">\n"),r.push($E().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+a+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var a=t["!cols"][r];if(null==a.width&&null==a.wpx&&null==a.wch)continue;pT(a),a.ods=n;var s=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+s+'"/>\n'),e.push("  </style:style>\n"),++n}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var a=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var i=0;i!=e.SheetNames.length;++i)r.push(n(e.Sheets[e.SheetNames[i]],e,i));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function xO(e,t){if("fods"==t.bookType)return yO(e,t);var n=Gw(),r="",a=[],s=[];return Ww(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Ww(n,r="content.xml",yO(e,t)),a.push([r,"text/xml"]),s.push([r,"ContentFile"]),Ww(n,r="styles.xml",vO(e,t)),a.push([r,"text/xml"]),s.push([r,"StylesFile"]),Ww(n,r="meta.xml",Yw+$E()),a.push([r,"text/xml"]),s.push([r,"MetadataFile"]),Ww(n,r="manifest.rdf",function(e){var t=[Yw];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(YE(e[n][0],e[n][1])),t.push(XE("",e[n][0]));return t.push(YE("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(s)),a.push([r,"application/rdf+xml"]),Ww(n,r="META-INF/manifest.xml",function(e){var t=[Yw];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(a)),n}function bO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wO(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):yN(hb(e))}function NO(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):ub(xN(e))}function SO(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function EO(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function kO(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function jO(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function TO(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function _O(e){for(var t=[],n=[0];n[0]<e.length;){var r,a=n[0],s=kO(e,n),i=7&s,o=0;if(0==(s=Math.floor(s/8)))break;switch(i){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:o=4,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=kO(e,n),r=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var c={data:r,type:i};null==t[s]?t[s]=[c]:t[s].push(c)}return t}function CO(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(jO(8*n+e.type)),2==e.type&&t.push(jO(e.data.length)),t.push(e.data))})}),SO(t)}function AO(e,t){return(null==e?void 0:e.map(function(e){return t(e.data)}))||[]}function OO(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=kO(e,r),s=_O(e.slice(r[0],r[0]+a));r[0]+=a;var i={id:TO(s[1][0].data),messages:[]};s[2].forEach(function(t){var n=_O(t.data),a=TO(n[3][0].data);i.messages.push({meta:n,data:e.slice(r[0],r[0]+a)}),r[0]+=a}),(null==(t=s[3])?void 0:t[0])&&(i.merge=TO(s[3][0].data)>>>0>0),n.push(i)}return n}function IO(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:jO(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:jO(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:jO(e.data.length)}],n[2].push({data:CO(e.meta),type:2})});var a=CO(n);t.push(jO(a.length)),t.push(a),r.forEach(function(e){return t.push(e)})}),SO(t)}function PO(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=kO(t,n),a=[];n[0]<t.length;){var s=3&t[n[0]];if(0!=s){var i=0,o=0;if(1==s?(o=4+(t[n[0]]>>2&7),i=(224&t[n[0]++])<<3,i|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==s?(i=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(i=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[SO(a)],0==i)throw new Error("Invalid offset 0");if(i>a[0].length)throw new Error("Invalid offset beyond length");if(o>=i)for(a.push(a[0].slice(-i)),o-=i;o>=a[a.length-1].length;)a.push(a[a.length-1]),o-=a[a.length-1].length;a.push(a[0].slice(-i,-i+o))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}a.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=SO(a);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function DO(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(PO(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return SO(t)}function RO(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var s=jO(r),i=s.length;t.push(s),r<=60?(i++,t.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),i+=r,a[0]=0,a[1]=255&i,a[2]=i>>8&255,a[3]=i>>16&255,n+=r}return SO(t)}function MO(e,t,n){var r,a=bO(e),s=a.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);switch(1&s&&(c=function(e,t){for(var n=(127&e[t+15])<<7|e[t+14]>>1,r=1&e[t+14],a=t+13;a>=t;--a)r=256*r+e[a];return(128&e[t+15]?-r:r)*Math.pow(10,n-6176)}(e,i),i+=16),2&s&&(u=a.getFloat64(i,!0),i+=8),4&s&&(d.setTime(d.getTime()+1e3*a.getFloat64(i,!0)),i+=8),8&s&&(l=a.getUint32(i,!0),i+=4),16&s&&(o=a.getUint32(i,!0),i+=4),e[1]){case 0:break;case 2:case 10:r={t:"n",v:c};break;case 3:r={t:"s",v:t[l]};break;case 5:r={t:"d",v:d};break;case 6:r={t:"b",v:u>0};break;case 7:r={t:"n",v:u/86400};break;case 8:r={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)));r={t:"s",v:n[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&s," : ").concat(e.slice(0,4)))}return r}function LO(e,t){var n=new Uint8Array(32),r=bO(n),a=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=255&a;e[t+15]|=n>=0?0:128}(n,a,e.v),s|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,a)}function zO(e,t){var n=new Uint8Array(32),r=bO(n),a=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,a)}function FO(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,n,r){var a,s=bO(e),i=s.getUint32(4,!0),o=(r>1?12:8)+4*EO(i&(r>1?3470:398)),l=-1,c=-1,u=NaN,d=new Date(2001,0,1);switch(512&i&&(l=s.getUint32(o,!0),o+=4),o+=4*EO(i&(r>1?12288:4096)),16&i&&(c=s.getUint32(o,!0),o+=4),32&i&&(u=s.getFloat64(o,!0),o+=8),64&i&&(d.setTime(d.getTime()+1e3*s.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:a={t:"n",v:u};break;case 3:a={t:"s",v:t[c]};break;case 5:a={t:"d",v:d};break;case 6:a={t:"b",v:u>0};break;case 7:a={t:"n",v:u/86400};break;case 8:a={t:"e",v:0};break;case 9:if(l>-1)a={t:"s",v:n[l]};else if(c>-1)a={t:"s",v:t[c]};else{if(isNaN(u))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));a={t:"n",v:u}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return a}(e,t,n,e[0]);case 5:return MO(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function UO(e){return kO(_O(e)[1][0].data)}function qO(e,t){var n=_O(t.data),r=TO(n[1][0].data),a=n[3],s=[];return(a||[]).forEach(function(t){var n=_O(t.data),a=TO(n[1][0].data)>>>0;switch(r){case 1:s[a]=wO(n[3][0].data);break;case 8:var i=_O(e[UO(n[9][0].data)][0].data),o=e[UO(i[1][0].data)][0],l=TO(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=_O(o.data);s[a]=c[3].map(function(e){return wO(e.data)}).join("")}}),s}function BO(e,t){var n,r=_O(t.data),a=(null==(n=null==r?void 0:r[7])?void 0:n[0])?TO(r[7][0].data)>>>0>0?1:0:-1,s=AO(r[5],function(e){return function(e,t){var n,r,a,s,i,o,l,c,u,d,h,f,m,p,g,v,y=_O(e),x=TO(y[1][0].data)>>>0,b=TO(y[2][0].data)>>>0,w=(null==(r=null==(n=y[8])?void 0:n[0])?void 0:r.data)&&TO(y[8][0].data)>0||!1;if((null==(s=null==(a=y[7])?void 0:a[0])?void 0:s.data)&&0!=t)g=null==(o=null==(i=y[7])?void 0:i[0])?void 0:o.data,v=null==(c=null==(l=y[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(d=null==(u=y[4])?void 0:u[0])?void 0:d.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");g=null==(f=null==(h=y[4])?void 0:h[0])?void 0:f.data,v=null==(p=null==(m=y[3])?void 0:m[0])?void 0:p.data}for(var N=w?4:1,S=bO(g),E=[],k=0;k<g.length/2;++k){var j=S.getUint16(2*k,!0);j<65535&&E.push([k,j])}if(E.length!=b)throw"Expected ".concat(b," cells, found ").concat(E.length);var T=[];for(k=0;k<E.length-1;++k)T[E[k][0]]=v.subarray(E[k][1]*N,E[k+1][1]*N);return E.length>=1&&(T[E[E.length-1][0]]=v.subarray(E[E.length-1][1]*N)),{R:x,cells:T}}(e,a)});return{nrows:TO(r[4][0].data)>>>0,data:s.reduce(function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach(function(n,r){if(e[t.R][r])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(r));e[t.R][r]=n}),e},[])}}function VO(e,t){var n={"!ref":"A1"},r=e[UO(_O(t.data)[2][0].data)],a=TO(r[0].meta[1][0].data);if(6001!=a)throw new Error("6000 unexpected reference to ".concat(a));return function(e,t,n){var r,a=_O(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(TO(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(TO(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=$S(s);var i=_O(a[4][0].data),o=qO(e,e[UO(i[4][0].data)][0]),l=(null==(r=i[17])?void 0:r[0])?qO(e,e[UO(i[17][0].data)][0]):[],c=_O(i[3][0].data),u=0;c[1].forEach(function(t){var r=_O(t.data),a=e[UO(r[2][0].data)][0],s=TO(a.meta[1][0].data);if(6002!=s)throw new Error("6001 unexpected reference to ".concat(s));var i=BO(0,a);i.data.forEach(function(e,t){e.forEach(function(e,r){var a=YS({r:u+t,c:r}),s=FO(e,o,l);s&&(n[a]=s)})}),u+=i.nrows})}(e,r[0],n),n}function HO(e,t){var n={SheetNames:[],Sheets:{}};if(AO(_O(t.data)[1],UO).forEach(function(t){e[t].forEach(function(t){if(2==TO(t.meta[1][0].data)){var r=function(e,t){var n,r=_O(t.data),a={name:(null==(n=r[1])?void 0:n[0])?wO(r[1][0].data):"",sheets:[]};return AO(r[2],UO).forEach(function(t){e[t].forEach(function(t){6e3==TO(t.meta[1][0].data)&&a.sheets.push(VO(e,t))})}),a}(e,t);r.sheets.forEach(function(e,t){NI(n,e,0==t?r.name:r.name+"_"+t,!0)})}})}),0==n.SheetNames.length)throw new Error("Empty NUMBERS file");return n}function WO(e){var t,n,r,a,s={},i=[];if(e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(e){if(e.name.match(/\.iwa$/)){var t,n;try{t=DO(e.content)}catch(G5){return console.log("?? "+e.content.length+" "+(G5.message||G5))}try{n=OO(t)}catch(G5){return console.log("## "+(G5.message||G5))}n.forEach(function(e){s[e.id]=e.messages,i.push(e.id)})}}),!i.length)throw new Error("File has no messages");var o=(null==(a=null==(r=null==(n=null==(t=null==s?void 0:s[1])?void 0:t[0])?void 0:n.meta)?void 0:r[1])?void 0:a[0].data)&&1==TO(s[1][0].meta[1][0].data)&&s[1][0];if(o||i.forEach(function(e){s[e].forEach(function(e){if(1==TO(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}})}),!o)throw new Error("Cannot find Document root");return HO(s,o)}function GO(e,t,n){var r,a,s,i;if(!(null==(r=e[6])?void 0:r[0])||!(null==(a=e[7])?void 0:a[0]))throw"Mutation only works on post-BNC storages!";if((null==(i=null==(s=e[8])?void 0:s[0])?void 0:i.data)&&TO(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=bO(e[7][0].data),c=0,u=[],d=bO(e[4][0].data),h=0,f=[],m=0;m<t.length;++m)if(null!=t[m]){var p,g;switch(l.setUint16(2*m,c,!0),d.setUint16(2*m,h,!0),typeof t[m]){case"string":p=LO({t:"s",v:t[m]},n),g=zO({t:"s",v:t[m]},n);break;case"number":p=LO({t:"n",v:t[m]},n),g=zO({t:"n",v:t[m]},n);break;case"boolean":p=LO({t:"b",v:t[m]},n),g=zO({t:"b",v:t[m]},n);break;default:throw new Error("Unsupported value "+t[m])}u.push(p),c+=p.length,f.push(g),h+=g.length,++o}else l.setUint16(2*m,65535,!0),d.setUint16(2*m,65535);for(e[2][0].data=jO(o);m<e[7][0].data.length/2;++m)l.setUint16(2*m,65535,!0),d.setUint16(2*m,65535,!0);return e[6][0].data=SO(u),e[3][0].data=SO(f),o}function QO(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function KO(e){QO([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function YO(e){QO([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function XO(e,t,n,r,a,s,i,o,l,c,u,d){try{s[r]=GE(Bw(e,n,!0),t);var h,f=qw(e,t);switch(o){case"sheet":h=iA(f,t,a,l,s[r],c,u,d);break;case"chart":if(!(h=oA(f,t,a,l,s[r],c))||!h["!drawel"])break;var m=Kw(h["!drawel"].Target,t),p=WE(m),g=function(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}(Bw(e,m,!0),GE(Bw(e,p,!0),m)),v=Kw(g,m),y=WE(v);h=BC(Bw(e,v,!0),0,0,GE(Bw(e,y,!0),v),0,h);break;case"macro":b=t,s[r],b.slice(-4),h={"!type":"macro"};break;case"dialog":h=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,s[r]);break;default:throw new Error("Unrecognized sheet type "+o)}i[r]=h;var x=[];s&&s[r]&&pw(s[r]).forEach(function(n){var a="";if(s[r][n].Type==HE.CMNT){a=Kw(s[r][n].Target,t);var i=uA(qw(e,a,!0),a,l);if(!i||!i.length)return;e_(h,i,!1)}s[r][n].Type==HE.TCMNT&&(a=Kw(s[r][n].Target,t),x=x.concat(function(e,t){var n=[],r=!1,a={},s=0;return e.replace(Jw,function(i,o){var l=tN(i);switch(nN(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":a={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=a.t&&n.push(a);break;case"<text>":case"<text":s=o+i.length;break;case"</text>":a.t=e.slice(s,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":r=!0;break;case"</mentions>":case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),n}(qw(e,a,!0),l)))}),x&&x.length&&e_(h,x,!0,l.people||[])}catch(G5){if(l.WTF)throw G5}var b}function $O(e){return"/"==e.charAt(0)?e.slice(1):e}function JO(e,t){if(ow(),KO(t=t||{}),Fw(e,"META-INF/manifest.xml"))return pO(e,t);if(Fw(e,"objectdata.xml"))return pO(e,t);if(Fw(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(e.FileIndex)return WO(e);var n=dw.utils.cfb_new();return Hw(e).forEach(function(t){Ww(n,t,Vw(e,t))}),WO(n)}if(!Fw(e,"[Content_Types].xml")){if(Fw(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(Fw(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var r,a,s=Hw(e),i=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var n={};if((e.match(Jw)||[]).forEach(function(e){var r=tN(e);switch(r[0].replace(Zw,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[qE[r.ContentType]]&&t[qE[r.ContentType]].push(r.PartName)}}),t.xmlns!==MN)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}(Bw(e,"[Content_Types].xml")),o=!1;if(0===i.workbooks.length&&qw(e,a="xl/workbook.xml",!0)&&i.workbooks.push(a),0===i.workbooks.length){if(!qw(e,a="xl/workbook.bin",!0))throw new Error("Could not find workbook");i.workbooks.push(a),o=!0}"bin"==i.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(eC=[],i.sst)try{eC=cA(qw(e,$O(i.sst)),i.sst,t)}catch(G5){if(t.WTF)throw G5}t.cellStyles&&i.themes.length&&(l=function(e,t,n){return WT(e,n)}(Bw(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=lA(qw(e,$O(i.style)),i.style,l,t))}i.links.map(function(n){try{GE(Bw(e,WE($O(n))),n);return hA(qw(e,$O(n)),0,n,t)}catch(G5){}});var u=sA(qw(e,$O(i.workbooks[0])),i.workbooks[0],t),d={},h="";i.coreprops.length&&((h=qw(e,$O(i.coreprops[0]),!0))&&(d=ek(h)),0!==i.extprops.length&&(h=qw(e,$O(i.extprops[0]),!0))&&function(e,t,n){var r={};t||(t={}),e=yN(e),rk.forEach(function(n){var a=(e.match(bN(n[0]))||[])[1];switch(n[2]){case"string":a&&(t[n[1]]=sN(a));break;case"bool":t[n[1]]="true"===a;break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(r[n[1]]=s[1])}}),r.HeadingPairs&&r.TitlesOfParts&&sk(r.HeadingPairs,r.TitlesOfParts,t,n)}(h,d,t));var f={};t.bookSheets&&!t.bookProps||0!==i.custprops.length&&(h=Bw(e,$O(i.custprops[0]),!0))&&(f=function(e,t){var n={},r="",a=e.match(ok);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=tN(i);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":r=sN(o.name);break;case"</property>":r=null;break;default:if(0===i.indexOf("<vt:")){var l=i.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":n[r]=sN(u);break;case"bool":n[r]=fN(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Cw(u);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",i,c,l)}}else if("</"===i.slice(0,2));else if(t.WTF)throw new Error(i)}}return n}(h,t));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?r=u.Sheets.map(function(e){return e.name}):d.Worksheets&&d.SheetNames.length>0&&(r=d.SheetNames),t.bookProps&&(m.Props=d,m.Custprops=f),t.bookSheets&&"undefined"!==typeof r&&(m.SheetNames=r),t.bookSheets?m.SheetNames:t.bookProps))return m;r={};var p={};t.bookDeps&&i.calcchain&&(p=dA(qw(e,$O(i.calcchain)),i.calcchain));var g,v,y=0,x={},b=u.Sheets;d.Worksheets=b.length,d.SheetNames=[];for(var w=0;w!=b.length;++w)d.SheetNames[w]=b[w].name;var N=o?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),E=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Fw(e,E)||(E="xl/_rels/workbook."+N+".rels");var k=GE(Bw(e,E,!0),E.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=fA(qw(e,$O(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=function(e,t){var n=[],r=!1;return e.replace(Jw,function(e){var a=tN(e);switch(nN(a[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return e}),n}(qw(e,$O(i.people[0])),t)),k&&(k=function(e,t){if(!e)return 0;try{e=t.map(function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(n=e["!id"][t.id].Type,HE.WS.indexOf(n)>-1?"sheet":HE.CS&&n==HE.CS?"chart":HE.DS&&n==HE.DS?"dialog":HE.MS&&n==HE.MS?"macro":n&&n.length?n:"sheet")];var n})}catch(G5){return null}return e&&0!==e.length?e:null}(k,u.Sheets));var j=qw(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=d.Worksheets;++y){var T="sheet";if(k&&k[y]?(g="xl/"+k[y][1].replace(/[\/]?xl\//,""),Fw(e,g)||(g=k[y][1]),Fw(e,g)||(g=E.replace(/_rels\/.*$/,"")+k[y][1]),T=k[y][2]):g=(g="xl/worksheets/sheet"+(y+1-j)+"."+N).replace(/sheet0\./,"sheet."),v=g.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(d.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var _=!1,C=0;C!=t.sheets.length;++C)"number"==typeof t.sheets[C]&&t.sheets[C]==y&&(_=1),"string"==typeof t.sheets[C]&&t.sheets[C].toLowerCase()==d.SheetNames[y].toLowerCase()&&(_=1);if(!_)continue e}}XO(e,g,v,d.SheetNames[y],y,x,r,T,t,u,l,c)}return m={Directory:i,Workbook:u,Props:d,Custprops:f,Deps:p,Sheets:r,SheetNames:d.SheetNames,Strings:eC,Styles:c,Themes:l,SSF:Ow(jb)},t&&t.bookFiles&&(e.files?(m.keys=s,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(t,n){t=t.replace(/^Root Entry[\/]/,""),m.keys.push(t),m.files[t]=e.FileIndex[n]}))),t&&t.bookVBA&&(i.vba.length>0?m.vbaraw=qw(e,$O(i.vba[0]),!0):i.defaults&&"application/vnd.ms-office.vbaProject"===i.defaults.bin&&(m.vbaraw=qw(e,"xl/vbaProject.bin",!0))),m}function ZO(e,t){var n=t||{},r="Workbook",a=dw.find(e,r);try{if(r="/!DataSpaces/Version",!(a=dw.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(function(e){var t={};t.id=e.read_shift(0,"lpp4"),t.R=Kj(e,4),t.U=Kj(e,4),t.W=Kj(e,4)}(a.content),r="/!DataSpaces/DataSpaceMap",!(a=dw.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(Yj(e));return t}(a.content);if(1!==s.length||1!==s[0].comps.length||0!==s[0].comps[0].t||"StrongEncryptionDataSpace"!==s[0].name||"EncryptedPackage"!==s[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(a=dw.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=function(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(a.content);if(1!=i.length||"StrongEncryptionTransform"!=i[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(a=dw.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);Xj(a.content)}catch(G5){}if(r="/EncryptionInfo",!(a=dw.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=function(e){var t=Kj(e);switch(t.Minor){case 2:return[t.Minor,Zj(e)];case 3:return[t.Minor,eT()];case 4:return[t.Minor,tT(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(a.content);if(r="/EncryptedPackage",!(a=dw.find(e,r))||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==o[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(o[1],a.content,n.password||"",n);if(2==o[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(o[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function eI(e,t){return"ods"==t.bookType?xO(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=XS(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat($S(r)));var s=mI(n,{range:r,header:1}),i=["~Sh33tJ5~"];s.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&i.push(e)})});var o={},l=[],c=dw.read(t.numbers,{type:"base64"});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&OO(DO(t.content)).forEach(function(e){l.push(e.id),o[e.id]={deps:[],location:n,type:TO(e.messages[0].meta[1][0].data)}})}),l.sort(function(e,t){return e-t});var u=l.filter(function(e){return e>1}).map(function(e){return[e,jO(e)]});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&OO(DO(t.content)).forEach(function(e){e.messages.forEach(function(t){u.forEach(function(t){e.messages.some(function(e){return 11006!=TO(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])})&&o[t[0]].deps.push(e.id)})})})});for(var d,h=dw.find(c,o[1].location),f=OO(DO(h.content)),m=0;m<f.length;++m){var p=f[m];1==p.id&&(d=p)}var g=UO(_O(d.messages[0].data)[1][0].data);for(f=OO(DO((h=dw.find(c,o[g].location)).content)),m=0;m<f.length;++m)(p=f[m]).id==g&&(d=p);for(g=UO(_O(d.messages[0].data)[2][0].data),f=OO(DO((h=dw.find(c,o[g].location)).content)),m=0;m<f.length;++m)(p=f[m]).id==g&&(d=p);for(g=UO(_O(d.messages[0].data)[2][0].data),f=OO(DO((h=dw.find(c,o[g].location)).content)),m=0;m<f.length;++m)(p=f[m]).id==g&&(d=p);var v=_O(d.messages[0].data);v[6][0].data=jO(r.e.r+1),v[7][0].data=jO(r.e.c+1);for(var y=UO(v[46][0].data),x=dw.find(c,o[y].location),b=OO(DO(x.content)),w=0;w<b.length&&b[w].id!=y;++w);if(b[w].id!=y)throw"Bad ColumnRowUIDMapArchive";var N=_O(b[w].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var S=0;S<=r.e.c;++S){var E=[];E[1]=E[2]=[{type:0,data:jO(S+420690)}],N[1].push({type:2,data:CO(E)}),N[2].push({type:0,data:jO(S)}),N[3].push({type:0,data:jO(S)})}N[4]=[],N[5]=[],N[6]=[];for(var k=0;k<=r.e.r;++k)(E=[])[1]=E[2]=[{type:0,data:jO(k+726270)}],N[4].push({type:2,data:CO(E)}),N[5].push({type:0,data:jO(k)}),N[6].push({type:0,data:jO(k)});b[w].messages[0].data=CO(N),x.content=RO(IO(b)),x.size=x.content.length,delete v[46];var j=_O(v[4][0].data);j[7][0].data=jO(r.e.r+1);var T=UO(_O(j[1][0].data)[2][0].data);if((b=OO(DO((x=dw.find(c,o[T].location)).content)))[0].id!=T)throw"Bad HeaderStorageBucket";var _=_O(b[0].messages[0].data);for(k=0;k<s.length;++k){var C=_O(_[2][0].data);C[1][0].data=jO(k),C[4][0].data=jO(s[k].length),_[2][k]={type:_[2][0].type,data:CO(C)}}b[0].messages[0].data=CO(_),x.content=RO(IO(b)),x.size=x.content.length;var A=UO(j[2][0].data);if((b=OO(DO((x=dw.find(c,o[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";for(_=_O(b[0].messages[0].data),S=0;S<=r.e.c;++S)(C=_O(_[2][0].data))[1][0].data=jO(S),C[4][0].data=jO(r.e.r+1),_[2][S]={type:_[2][0].type,data:CO(C)};b[0].messages[0].data=CO(_),x.content=RO(IO(b)),x.size=x.content.length;var O=UO(j[4][0].data);!function(){for(var e,t=dw.find(c,o[O].location),n=OO(DO(t.content)),r=0;r<n.length;++r){var a=n[r];a.id==O&&(e=a)}var s=_O(e.messages[0].data);s[3]=[];var l=[];i.forEach(function(e,t){l[1]=[{type:0,data:jO(t)}],l[2]=[{type:0,data:jO(1)}],l[3]=[{type:2,data:NO(e)}],s[3].push({type:2,data:CO(l)})}),e.messages[0].data=CO(s);var u=RO(IO(n));t.content=u,t.size=t.content.length}();var I=_O(j[3][0].data),P=I[1][0];delete I[2];var D=_O(P.data),R=UO(D[2][0].data);!function(){for(var e,t=dw.find(c,o[R].location),n=OO(DO(t.content)),a=0;a<n.length;++a){var l=n[a];l.id==R&&(e=l)}var u=_O(e.messages[0].data);delete u[6],delete I[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,f=0;f<=r.e.r;++f){var m=_O(d);h+=GO(m,s[f],i),m[1][0].data=jO(f),u[5].push({data:CO(m),type:2})}u[1]=[{type:0,data:jO(r.e.c+1)}],u[2]=[{type:0,data:jO(r.e.r+1)}],u[3]=[{type:0,data:jO(h)}],u[4]=[{type:0,data:jO(r.e.r+1)}],e.messages[0].data=CO(u);var p=RO(IO(n));t.content=p,t.size=t.content.length}(),P.data=CO(D),j[3][0].data=CO(I),v[4][0].data=CO(j),d.messages[0].data=CO(v);var M=RO(IO(f));return h.content=M,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){JT=1024,e&&!e.SSF&&(e.SSF=Ow(jb));e&&e.SSF&&(ow(),iw(e.SSF),t.revssf=yw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nC?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=s_.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};YO(t=t||{});var s=Gw(),i="",o=0;t.cellXfs=[],iC(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Ww(s,i="docProps/core.xml",nk(e.Props,t)),a.coreprops.push(i),KE(t.rels,2,i,HE.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Ww(s,i,ik(e.Props)),a.extprops.push(i),KE(t.rels,3,i,HE.EXT_PROPS),e.Custprops!==e.Props&&pw(e.Custprops||{}).length>0&&(Ww(s,i="docProps/custom.xml",lk(e.Custprops)),a.custprops.push(i),KE(t.rels,4,i,HE.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},d=e.Sheets[e.SheetNames[o-1]];(d||{})["!type"];if(Ww(s,i="xl/worksheets/sheet"+o+"."+n,mA(o-1,i,t,e,u)),a.sheets.push(i),KE(t.wbrels,-1,"worksheets/sheet"+o+"."+n,HE.WS[0]),d){var h=d["!comments"],f=!1,m="";h&&h.length>0&&(Ww(s,m="xl/comments"+o+"."+n,pA(h,m,t)),a.comments.push(m),KE(u,-1,"../comments"+o+"."+n,HE.CMNT),f=!0),d["!legacy"]&&f&&Ww(s,"xl/drawings/vmlDrawing"+o+".vml",ZT(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&Ww(s,WE(i),QE(u))}null!=t.Strings&&t.Strings.length>0&&(Ww(s,i="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?Gj:Hj)(e,n)}(t.Strings,i,t)),a.strs.push(i),KE(t.wbrels,-1,"sharedStrings."+n,HE.SST));Ww(s,i="xl/workbook."+n,function(e,t,n){return(".bin"===t.slice(-4)?aA:eA)(e,n)}(e,i,t)),a.workbooks.push(i),KE(t.rels,1,i,HE.WB),Ww(s,i="xl/theme/theme1.xml",GT(e.Themes,t)),a.themes.push(i),KE(t.wbrels,-1,"theme/theme1.xml",HE.THEME),Ww(s,i="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?MT:ST)(e,n)}(e,i,t)),a.styles.push(i),KE(t.wbrels,-1,"styles."+n,HE.STY),e.vbaraw&&r&&(Ww(s,i="xl/vbaProject.bin",e.vbaraw),a.vba.push(i),KE(t.wbrels,-1,"vbaProject.bin",HE.VBA));return Ww(s,i="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?XT:$T)()}(i)),a.metadata.push(i),KE(t.wbrels,-1,"metadata."+n,HE.XLMETA),Ww(s,"[Content_Types].xml",VE(a,t)),Ww(s,"_rels/.rels",QE(t.rels)),Ww(s,"xl/_rels/workbook."+n+".rels",QE(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t):tI(e,t)}function tI(e,t){JT=1024,e&&!e.SSF&&(e.SSF=Ow(jb)),e&&e.SSF&&(ow(),iw(e.SSF),t.revssf=yw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nC?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=s_.indexOf(t.bookType)>-1,a={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};YO(t=t||{});var s=Gw(),i="",o=0;if(t.cellXfs=[],iC(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),Ww(s,i="docProps/core.xml",nk(e.Props,t)),a.coreprops.push(i),KE(t.rels,2,i,HE.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Ww(s,i,ik(e.Props)),a.extprops.push(i),KE(t.rels,3,i,HE.EXT_PROPS),e.Custprops!==e.Props&&pw(e.Custprops||{}).length>0&&(Ww(s,i="docProps/custom.xml",lk(e.Custprops)),a.custprops.push(i),KE(t.rels,4,i,HE.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(Ww(s,i="xl/worksheets/sheet"+o+"."+n,jC(o-1,t,e,d)),a.sheets.push(i),KE(t.wbrels,-1,"worksheets/sheet"+o+"."+n,HE.WS[0]),h){var f=h["!comments"],m=!1,p="";if(f&&f.length>0){var g=!1;f.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(Ww(s,p="xl/threadedComments/threadedComment"+o+"."+n,n_(f,u,t)),a.threadedcomments.push(p),KE(d,-1,"../threadedComments/threadedComment"+o+"."+n,HE.TCMNT)),Ww(s,p="xl/comments"+o+"."+n,t_(f)),a.comments.push(p),KE(d,-1,"../comments"+o+"."+n,HE.CMNT),m=!0}h["!legacy"]&&m&&Ww(s,"xl/drawings/vmlDrawing"+o+".vml",ZT(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Ww(s,WE(i),QE(d))}return null!=t.Strings&&t.Strings.length>0&&(Ww(s,i="xl/sharedStrings."+n,Hj(t.Strings,t)),a.strs.push(i),KE(t.wbrels,-1,"sharedStrings."+n,HE.SST)),Ww(s,i="xl/workbook."+n,eA(e)),a.workbooks.push(i),KE(t.rels,1,i,HE.WB),Ww(s,i="xl/theme/theme1.xml",GT(e.Themes,t)),a.themes.push(i),KE(t.wbrels,-1,"theme/theme1.xml",HE.THEME),Ww(s,i="xl/styles."+n,ST(e,t)),a.styles.push(i),KE(t.wbrels,-1,"styles."+n,HE.STY),e.vbaraw&&r&&(Ww(s,i="xl/vbaProject.bin",e.vbaraw),a.vba.push(i),KE(t.wbrels,-1,"vbaProject.bin",HE.VBA)),Ww(s,i="xl/metadata."+n,$T()),a.metadata.push(i),KE(t.wbrels,-1,"metadata."+n,HE.XLMETA),u.length>1&&(Ww(s,i="xl/persons/person.xml",function(e){var t=[Yw,CN("personList",null,{xmlns:zN,"xmlns:x":GN[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,n){t.push(CN("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(u)),a.people.push(i),KE(t.wbrels,-1,"persons/person.xml",HE.PEOPLE)),Ww(s,"[Content_Types].xml",VE(a,t)),Ww(s,"_rels/.rels",QE(t.rels)),Ww(s,"xl/_rels/workbook.xml.rels",QE(t.wbrels)),delete t.revssf,delete t.ssf,s}function nI(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=sb(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function rI(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return TA(e.slice(n),t);default:break e}return Ij.to_workbook(e,t)}function aI(e,t,n,r){return r?(n.type="string",Ij.to_workbook(e,n)):Ij.to_workbook(t,n)}function sI(e,t){Xx();var n=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return sI(new Uint8Array(e),((n=Ow(n)).type="array",n));"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&!n.type&&(n.type="undefined"!==typeof Deno?"buffer":"array");var r,a=e,s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),tC={},n.dateNF&&(tC.dateNF=n.dateNF),n.type||(n.type=ib&&Buffer.isBuffer(e)?"buffer":"base64"),"file"==n.type&&(n.type=ib?"buffer":"binary",a=function(e){if("undefined"!==typeof hw)return hw.readFileSync(e);if("undefined"!==typeof Deno)return Deno.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(G5){if(!G5.message||!G5.message.match(/onstruct/))throw G5}throw new Error("Cannot access file "+e)}(e),"undefined"===typeof Uint8Array||ib||(n.type="array")),"string"==n.type&&(s=!0,n.type="binary",n.codepage=65001,a=function(e){return e.match(/[^\x00-\x7F]/)?xN(e):e}(e)),"array"==n.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return(n=Ow(n)).type="array",sI(fb(a),n)}switch((r=nI(a,n))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return function(e,t){return dw.find(e,"EncryptedPackage")?ZO(e,t):VA(e,t)}(dw.read(a,n),n);break;case 9:if(r[1]<=8)return VA(a,n);break;case 60:return TA(a,n);case 73:if(73===r[1]&&42===r[2]&&0===r[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===r[1])return function(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=Cj.to_workbook(e,n);return n.WTF=r,a}catch(G5){if(n.WTF=r,!G5.message.match(/SYLK bad record ID/)&&r)throw G5;return Ij.to_workbook(e,t)}}(a,n);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return Aj.to_workbook(a,n);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?function(e,t){var n=e,r=t||{};return r.type||(r.type=ib&&Buffer.isBuffer(e)?"buffer":"base64"),JO(Qw(n,r),r)}(a,n):aI(e,a,n,s);case 239:return 60===r[3]?TA(a,n):aI(e,a,n,s);case 255:if(254===r[1])return function(e,t){var n=e;return"base64"==t.type&&(n=sb(n)),n=Zx.utils.decode(1200,n.slice(2),"str"),t.type="binary",rI(n,t)}(a,n);if(0===r[1]&&2===r[2]&&0===r[3])return Pj.to_workbook(a,n);break;case 0:if(0===r[1]){if(r[2]>=2&&0===r[3])return Pj.to_workbook(a,n);if(0===r[2]&&(8===r[3]||9===r[3]))return Pj.to_workbook(a,n)}break;case 3:case 131:case 139:case 140:return _j.to_workbook(a,n);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return iT.to_workbook(a,n);break;case 10:case 13:case 32:return function(e,t){var n="",r=nI(e,t);switch(t.type){case"base64":n=sb(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=Aw(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=yN(n)),t.type="binary",rI(n,t)}(a,n);case 137:if(80===r[1]&&78===r[2]&&71===r[3])throw new Error("PNG Image File is not a spreadsheet")}return Tj.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?_j.to_workbook(a,n):aI(e,a,n,s)}function iI(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mw(t.file,dw.write(e,{type:ib?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return dw.write(e,t)}function oI(e,t){var n={},r=ib?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?dw.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof a){if("binary"==t.type||"base64"==t.type)return a;a=new Uint8Array(db(a))}return t.password&&"undefined"!==typeof encrypt_agile?iI(encrypt_agile(a,t.password),t):"file"===t.type?mw(t.file,a):"string"==t.type?yN(a):a}function lI(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return ab(xN(r));case"binary":return xN(r);case"string":return e;case"file":return mw(t.file,r,"utf8");case"buffer":return ib?ob(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):lI(r,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function cI(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?ab(n):"string"==t.type?yN(n):n;case"file":return mw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function uI(e,t){Xx(),JC(e);var n=Ow(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=uI(e,n);return n.type="array",db(r)}var a=0;if(n.sheet&&(a="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return lI(PA(e,n),n);case"slk":case"sylk":return lI(Cj.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return lI(lO(e.Sheets[e.SheetNames[a]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return ab(e);case"binary":case"string":return e;case"file":return mw(t.file,e,"binary");case"buffer":return ib?ob(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(yI(e.Sheets[e.SheetNames[a]],n),n);case"csv":return lI(vI(e.Sheets[e.SheetNames[a]],n),n,"\ufeff");case"dif":return lI(Aj.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return cI(_j.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return lI(Ij.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return lI(iT.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return lI(Oj.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return lI(xO(e,n),n);case"wk1":return cI(Pj.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return cI(Pj.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),cI(nO(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return iI(HA(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=Ow(t||{});return oI(eI(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function dI(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function hI(e,t,n){var r=n||{};return r.type="file",r.file=t,dI(r),uI(e,r)}function fI(e,t,n,r,a,s,i,o){var l=WS(n),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=1===a?[]:{};if(1!==a)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch(G5){h.__rowNum__=n}else h.__rowNum__=n;if(!i||e[n])for(var f=t.s.c;f<=t.e.c;++f){var m=i?e[n][f]:e[r[f]+l];if(void 0!==m&&void 0!==m.t){var p=m.v;switch(m.t){case"z":if(null==p)break;continue;case"e":p=0==p?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(null!=s[f]){if(null==p)if("e"==m.t&&null===p)h[s[f]]=null;else if(void 0!==c)h[s[f]]=c;else{if(!u||null!==p)continue;h[s[f]]=null}else h[s[f]]=u&&("n"!==m.t||"n"===m.t&&!1!==o.rawNumbers)?p:eE(m,p,o);null!=p&&(d=!1)}}else{if(void 0===c)continue;null!=s[f]&&(h[s[f]]=c)}}return{row:h,isempty:d}}function mI(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=JS(u);break;case"number":(l=JS(e["!ref"])).s.r=u;break;default:l=u}r>0&&(a=0);var d=WS(l.s.r),h=[],f=[],m=0,p=0,g=Array.isArray(e),v=l.s.r,y=0,x={};g&&!e[v]&&(e[v]=[]);var b=c.skipHidden&&e["!cols"]||[],w=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(h[y]=QS(y),n=g?e[v][y]:e[h[y]+d],r){case 1:s[y]=y-l.s.c;break;case 2:s[y]=h[y];break;case 3:s[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),o=i=eE(n,null,c),p=x[i]||0){do{o=i+"_"+p++}while(x[o]);x[i]=p,x[o]=1}else x[i]=1;s[y]=o}for(v=l.s.r+a;v<=l.e.r;++v)if(!(w[v]||{}).hidden){var N=fI(e,l,v,h,r,s,g,c);(!1===N.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(f[m++]=N.row)}return f.length=m,f}var pI=/"/g;function gI(e,t,n,r,a,s,i,o){for(var l=!0,c=[],u="",d=WS(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var f=o.dense?(e[n]||[])[h]:e[r[h]+d];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(o.rawNumbers&&"n"==f.t?f.v:eE(f,null,o));for(var m=0,p=0;m!==u.length;++m)if((p=u.charCodeAt(m))===a||p===s||34===p||o.forceQuotes){u='"'+u.replace(pI,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(pI,'""')+'"'));c.push(u)}return!1===o.blankrows&&l?null:c.join(i)}function vI(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var a=JS(e["!ref"]),s=void 0!==r.FS?r.FS:",",i=s.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==s?"\\|":s)+"+$"),u="",d=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(d[m]=QS(m));for(var p=0,g=a.s.r;g<=a.e.r;++g)(f[g]||{}).hidden||null!=(u=gI(e,a,g,d,i,l,s,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((p++?o:"")+u));return delete r.dense,n.join("")}function yI(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=vI(e,t);if("undefined"==typeof Zx||"string"==t.type)return n;var r=Zx.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function xI(e,t,n){var r,a=n||{},s=+!a.skipHeader,i=e||{},o=0,l=0;if(i&&null!=a.origin)if("number"==typeof a.origin)o=a.origin;else{var c="string"==typeof a.origin?KS(a.origin):a.origin;o=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+s}};if(i["!ref"]){var d=JS(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==o&&(o=d.e.r+1,u.e.r=o+t.length-1+s)}else-1==o&&(o=0,u.e.r=t.length-1+s);var h=a.header||[],f=0;t.forEach(function(e,t){pw(e).forEach(function(n){-1==(f=h.indexOf(n))&&(h[f=h.length]=n);var c=e[n],u="z",d="",m=YS({c:l+f,r:o+t+s});r=bI(i,m),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",a.cellDates||(u="n",c=bw(c)),d=a.dateNF||jb[14]):null===c&&a.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,d&&(r.z=d)):i[m]=r={t:u,v:c},d&&(r.z=d)):i[m]=c})}),u.e.c=Math.max(u.e.c,l+h.length-1);var m=WS(o);if(s)for(f=0;f<h.length;++f)i[QS(f+l)+m]={t:"s",v:h[f]};return i["!ref"]=$S(u),i}function bI(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=KS(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return bI(e,YS("number"!=typeof t?t:{r:t,c:n||0}))}function wI(){return{SheetNames:[],Sheets:{}}}function NI(e,t,n,r){var a=1;if(!n)for(;a<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+a);++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||n;for(++a;a<=65535&&-1!=e.SheetNames.indexOf(n=i+a);++a);}if($C(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function SI(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var EI={encode_col:QS,encode_row:WS,encode_cell:YS,encode_range:$S,decode_col:GS,decode_row:HS,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:KS,decode_range:XS,format_cell:eE,sheet_add_aoa:nE,sheet_add_json:xI,sheet_add_dom:cO,aoa_to_sheet:rE,json_to_sheet:function(e,t){return xI(null,e,t)},table_to_sheet:uO,table_to_book:function(e,t){return tE(uO(e,t),t)},sheet_to_csv:vI,sheet_to_txt:yI,sheet_to_json:mI,sheet_to_html:lO,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var a,s=JS(e["!ref"]),i="",o=[],l=[],c=Array.isArray(e);for(a=s.s.c;a<=s.e.c;++a)o[a]=QS(a);for(var u=s.s.r;u<=s.e.r;++u)for(i=WS(u),a=s.s.c;a<=s.e.c;++a)if(n=o[a]+i,r="",void 0!==(t=c?(e[u]||[])[a]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:mI,sheet_get_cell:bI,book_new:wI,book_append_sheet:NI,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:SI,cell_set_internal_link:function(e,t,n){return SI(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var a="string"!=typeof t?t:JS(t),s="string"==typeof t?t:$S(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=bI(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};Vx.version;function kI(e){let{isOpen:n,classInfo:r,students:a,onConfirm:s,onCancel:i}=e;const[o,l]=(0,t.useState)(!1);if(!n)return null;return(0,Uv.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Uv.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,Uv.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Confirm Class Information"}),(0,Uv.jsx)("button",{onClick:i,disabled:o,className:"p-2 hover:bg-gray-200 rounded-lg transition",children:(0,Uv.jsx)(Mv,{className:"w-5 h-5 text-gray-600"})})]}),(0,Uv.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,Uv.jsxs)("div",{className:"mb-6 bg-blue-50 border-2 border-blue-200 rounded-xl p-5",children:[(0,Uv.jsx)("h4",{className:"font-bold text-lg text-blue-900 mb-4",children:"\ud83d\udcda Class Details"}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-sm text-blue-700 font-semibold mb-1",children:"Class No."}),(0,Uv.jsx)("p",{className:"text-base text-gray-800 font-medium",children:r.classNo||"N/A"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-sm text-blue-700 font-semibold mb-1",children:"Code"}),(0,Uv.jsx)("p",{className:"text-base text-gray-800 font-medium",children:r.code||"N/A"})]}),(0,Uv.jsxs)("div",{className:"md:col-span-2",children:[(0,Uv.jsx)("p",{className:"text-sm text-blue-700 font-semibold mb-1",children:"Description"}),(0,Uv.jsx)("p",{className:"text-base text-gray-800 font-medium",children:r.description||"N/A"})]})]})]}),(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsxs)("h4",{className:"font-bold text-lg text-gray-800 mb-3",children:["\ud83d\udc65 Students (",a.length,")"]}),(0,Uv.jsxs)("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full text-sm",children:[(0,Uv.jsx)("thead",{className:"bg-gray-100 border-b border-gray-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"No"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Student No."}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Name"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Gender"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Program"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Year"}),(0,Uv.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Email"})]})}),(0,Uv.jsx)("tbody",{children:a.slice(0,10).map((e,t)=>(0,Uv.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.No||t+1}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e["Student No."]}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700 font-medium",children:e.Name}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.Gender}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.Program}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.Year}),(0,Uv.jsx)("td",{className:"px-4 py-3 text-gray-700 text-xs",children:e["Email Address"]})]},t))})]})}),a.length>10&&(0,Uv.jsxs)("div",{className:"px-4 py-3 bg-gray-50 text-sm text-gray-600 text-center",children:["... and ",a.length-10," more students"]})]})]})]}),(0,Uv.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex gap-3 justify-end bg-gray-50",children:[(0,Uv.jsx)("button",{onClick:i,disabled:o,className:"px-6 py-2.5 border-2 border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-100 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{l(!0),await s(),l(!1)},disabled:o,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Confirm & Save"})]})]})})}function jI(){const[e,n]=(0,t.useState)(""),[r,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(0),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),w=ge();(0,t.useRef)(null);(0,t.useEffect)(()=>{N()},[]),(0,t.useEffect)(()=>{b(!0)},[]);const N=async()=>{const e=kv.currentUser;if(e)try{const t=Xg(lg(jv,"classes"),Jg("teacherId","==",e.uid)),n=await hv(t),r=n.size,a=n.docs.map(e=>e.id);console.log("Teacher has ".concat(r,"/").concat(8," classes")),console.log("Class IDs:",a),r>0&&n.docs.forEach(e=>{const t=e.data();console.log("Class ".concat(e.id,":"),{name:t.name,code:t.code,classNo:t.classNo,studentCount:t.studentCount})}),g(r),y(r>=8)}catch(t){console.error("Error checking class limit:",t)}else console.log("\u274c No user found when checking class limit")},S=async e=>{if(!e||""===e.trim())return null;try{const t=Xg(lg(jv,"users"),Jg("emailAddress","==",e.toLowerCase().trim())),n=await hv(t);if(!n.empty&&n.docs&&n.docs.length>0){const t=n.docs[0],r=t.data();return r?{id:t.id,name:r.name||"",classIds:r.classIds||[],hasAccount:r.hasAccount||!1,authUID:r.authUID||null}:(console.warn("Empty document data for:",e),null)}return null}catch(t){return console.error("Error checking student by email:",t),null}},E=async function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];console.log("Parsed data:",e),console.log("Total rows:",e.length);if(!kv.currentUser)return void alert("\u274c Please log in first!");if(v)return void alert("\u274c Class Limit Reached!\n\nYou have reached the maximum limit of ".concat(8," classes.\n\nPlease delete an existing class before adding a new one."));const s=(e=>e.map(e=>{const t={};return Object.keys(e).forEach(n=>{const r=n.trim().replace(/\s+/g," "),a=r.toLowerCase();"no"===a||"no."===a?t.No=e[n]:"student no."===a||"student no"===a||"student number"===a?t["Student No."]=e[n]:"name"===a?t.Name=e[n]:"gender"===a?t.Gender=e[n]:"program"===a?t.Program=e[n]:"year"===a?t.Year=e[n]:"email address"===a||"email"===a?t["Email Address"]=e[n]:"contact no."===a||"contact no"===a||"contact number"===a?t["Contact No."]=e[n]:t[r]=e[n]}),t}))(e),i=s[0]||{},o=Object.keys(i),l=["Student No.","Name"].filter(e=>!o.includes(e));if(l.length>0)return void alert("\u274c Missing columns: ".concat(l.join(", "),"\n\nAvailable columns: ").concat(o.join(", "),"\n\nPlease check your file format."));const c=s.filter(e=>e["Student No."]&&e.Name);if(0===c.length)return void alert("\u274c No valid student data found in file");const d=(e=>{let t="",n="",r="";for(let a=0;a<Math.min(15,e.length);a++){const s=e[a];if(!s||0===s.length)continue;const i=Array.isArray(s)?s.join("|").toLowerCase():"";if(i.includes("class no")){const e=s.findIndex(e=>e&&e.toString().toLowerCase().includes("class no"));-1!==e&&s[e+1]&&(t=s[e+1].toString().trim())}if(i.includes("code:")||i.includes("code")&&!i.includes("postal")){const e=s.findIndex(e=>e&&"code:"===e.toString().toLowerCase());-1!==e&&s[e+1]&&(n=s[e+1].toString().trim())}if(i.includes("description")){const e=s.findIndex(e=>e&&e.toString().toLowerCase().includes("description"));-1!==e&&s[e+1]&&(r=s[e+1].toString().trim())}}return console.log("Extracted class info:",{classNo:t,code:n,description:r}),{classNo:t,code:n,description:r}})(a);if(d.classNo&&""!==d.classNo.trim()){u("Validating class information...");const e=await(async e=>{if(!e||""===e.trim())return!1;try{const t=kv.currentUser;if(!t)return!1;const n=Xg(lg(jv,"classes"),Jg("teacherId","==",t.uid),Jg("classNo","==",e.trim()));return!(await hv(n)).empty}catch(t){return console.error("Error checking Class No.:",t),!1}})(d.classNo);if(e)return alert('\u274c Duplicate Class No. Detected!\n\nClass No. "'.concat(d.classNo,'" already exists in your classes.\n\nEach class must have a unique Class No.')),n(""),void u("");u("")}m({validStudents:c,file:r,classInfo:d}),h(!0)};return(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold text-title flex items-center gap-2",children:"Add New Class"}),(0,Uv.jsxs)("p",{className:"text-md font-light text-subtext",children:["Upload a classlist to create a new class (",p,"/",8," classes)"]})]}),v&&(0,Uv.jsxs)("div",{className:"mb-6 p-4 bg-orange-50 border-2 border-orange-200 rounded-xl flex items-start gap-3",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-orange-800 font-semibold",children:"Class Limit Reached"}),(0,Uv.jsxs)("p",{className:"text-orange-700 text-sm mt-1",children:["You have reached the maximum limit of ",8," classes. Please delete an existing class before adding a new one."]})]})]}),!v&&p>=6&&(0,Uv.jsxs)("div",{className:"mb-6 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-xl flex items-start gap-3",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-yellow-800 font-semibold",children:"Approaching Class Limit"}),(0,Uv.jsxs)("p",{className:"text-yellow-700 text-sm mt-1",children:["You have ",p," out of ",8," classes. You can add ",8-p," more class",8-p!==1?"es":"","."]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-dashed rounded-3xl p-10 ".concat(v?"border-gray-200 bg-gray-50 opacity-60":"border-gray-300"),children:[(0,Uv.jsxs)("div",{className:"text-center",children:[(0,Uv.jsx)(Ux,{className:"mx-auto w-10 h-10 mb-3 ".concat(v?"text-gray-300":"text-gray-400")}),(0,Uv.jsx)("p",{className:"mb-3 ".concat(v?"text-gray-400":"text-subtext"),children:v?"Class limit reached - Delete a class to add new ones":"Upload your classlist (.csv or .xlsx)"}),(0,Uv.jsx)("p",{className:"text-sm mb-3 ".concat(v?"text-gray-400":"text-subtext"),children:"Required columns: No, Student No., Name, Gender, Program, Year, Email Address, Contact No."}),(0,Uv.jsx)("input",{id:"file-upload",type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{if(v)return alert("\u274c Class Limit Reached!\n\nYou have reached the maximum limit of ".concat(8," classes.\n\nPlease delete an existing class before adding a new one.")),void(e.target.value="");const t=e.target.files[0];if(!t)return;n(t.name),l(""),i(0);const r=t.name.split(".").pop().toLowerCase();if("csv"===r)Bx().parse(t,{header:!0,skipEmptyLines:!0,dynamicTyping:!1,transformHeader:e=>e.trim(),complete:async function(n){await E(n.data,n.meta.fields||[],t,[]),e.target.value=""},error:function(e){console.error("CSV parsing error:",e),l("Failed to parse CSV file: "+e.message),alert("\u274c Failed to parse CSV file. Please check the file format.")}});else if("xlsx"===r||"xls"===r){const n=new FileReader;n.onload=async n=>{try{const r=sI(new Uint8Array(n.target.result),{type:"array"}),a=r.SheetNames[0],s=r.Sheets[a],i=EI.sheet_to_json(s,{header:1,raw:!1,defval:""});console.log("First 15 rows:",i.slice(0,15));let o=-1;for(let e=0;e<i.length;e++){const t=i[e],n=t.join("|").toLowerCase();if(n.includes("student no")||n.includes("no")&&n.includes("name")){o=e,console.log("Found header row at index:",e,"Row:",t);break}}if(-1===o)throw new Error("Could not find header row with 'Student No.' and 'Name' columns");const l=EI.decode_range(s["!ref"]);l.s.r=o;const c=EI.encode_range(l),u=EI.sheet_to_json(s,{raw:!1,defval:"",range:c});console.log("Parsed data from header row:",u.slice(0,3));const d=Object.keys(u[0]||{});await E(u,d,t,i),e.target.value=""}catch(r){console.error("XLSX parsing error:",r),l("Failed to parse Excel file: "+r.message),alert("\u274c Failed to parse Excel file. Please check the file format.")}},n.onerror=e=>{console.error("File reading error:",e),l("Failed to read file"),alert("\u274c Failed to read file")},n.readAsArrayBuffer(t)}else l("Unsupported file format. Please upload CSV or XLSX files only."),alert("\u274c Unsupported file format. Please upload CSV or XLSX files only."),e.target.value=""},className:"hidden",disabled:r||v}),(0,Uv.jsx)("label",{htmlFor:"file-upload",className:"inline-block px-6 py-3 font-semibold rounded-lg transition ".concat(r||v?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white cursor-pointer active:scale-95 hover:scale-105 transition duration-200 hover:bg-blue-700"),children:r?(0,Uv.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):v?"Limit Reached":"Choose File"}),e&&!r&&!d&&(0,Uv.jsxs)("p",{className:"text-sm text-subtext italic mt-3",children:["Selected: ",e]}),c&&r&&(0,Uv.jsx)("p",{className:"text-sm text-blue-500 font-medium mt-3",children:c})]}),o&&(0,Uv.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Uv.jsxs)("p",{className:"text-red-700 font-semibold text-center",children:["\u274c ",o]})}),s>0&&!r&&!o&&(0,Uv.jsx)("div",{className:"flex items-center justify-center mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,Uv.jsxs)("p",{className:"flex flex-row gap-2 text-base items-center text-blue-500 font-semibold text-center",children:[(0,Uv.jsx)(Sx,{className:"w-4 h-4 text-blue-500"})," Successfully processed ",s," student(s)!"]})})]}),x&&(0,ix.createPortal)((0,Uv.jsx)(kI,{isOpen:d,classInfo:(null===f||void 0===f?void 0:f.classInfo)||{},students:(null===f||void 0===f?void 0:f.validStudents)||[],onConfirm:async()=>{h(!1),a(!0),u("Starting upload...");try{var e;const r=kv.currentUser;if(!r)return void alert("\u274c Please log in first!");if(v)return alert("\u274c Class Limit Reached!\n\nYou have reached the maximum limit of ".concat(8," classes.")),a(!1),void u("");const{validStudents:s,file:o,classInfo:l}=f,c=r.displayName||(null===(e=r.email)||void 0===e?void 0:e.split("@")[0])||"Teacher";u("Creating class: ".concat(l.description||o.name));const d=await gv(lg(jv,"classes"),{name:l.description||o.name.replace(/\.(csv|xlsx|xls)$/i,""),classNo:l.classNo||"",code:l.code||"",subject:"",studentCount:s.length,teacherId:r.uid,teacherEmail:r.email,teacherName:c,uploadedAt:new Date,fileName:o.name});console.log("Created class document: ".concat(d.id));let h=0,p=0,g=0;for(let e=0;e<s.length;e++)try{const t=s[e];u("Processing student ".concat(e+1,"/").concat(s.length));const{No:n,"Student No.":r,Name:a,Gender:i,Program:o,Year:c,"Email Address":f,"Contact No.":m}=t;if(!r||!a){console.error("Missing required fields:",t),g++;continue}const v=r.toString().trim(),y=(null===f||void 0===f?void 0:f.toString().trim().toLowerCase())||"",x=await S(y);if(x){const e=[...new Set([...x.classIds,d.id])];await mv(cg(jv,"users",x.id),{classIds:e}),p++,console.log("\u2705 Added ".concat(a," to class ").concat(l.description," (already exists)"))}else await gv(lg(jv,"users"),{studentNo:v,name:a.toString().trim(),gender:(null===i||void 0===i?void 0:i.toString().trim())||"",program:(null===o||void 0===o?void 0:o.toString().trim())||"",year:(null===c||void 0===c?void 0:c.toString().trim())||"",emailAddress:y,contactNo:(null===m||void 0===m?void 0:m.toString().trim())||"",classIds:[d.id],role:"student",hasAccount:!1,authUID:null,createdAt:new Date}),h++,console.log("\u2705 New student created: ".concat(a))}catch(t){console.error("Error processing student:",s[e],t),g++}const y=h+p;if(i(y),!(y>0))throw new Error("No students were uploaded successfully");{let e="\u2705 Upload Complete!\n\n";e+="\u2728 New students: ".concat(h,"\n"),e+="\ud83d\udd17 Added to existing: ".concat(p,"\n"),g>0&&(e+="\u274c Errors: ".concat(g)),alert(e),await N(),console.log("\ud83d\udce2 Dispatching classesUpdated event..."),window.dispatchEvent(new Event("classesUpdated")),setTimeout(()=>{w("/teacher/class/".concat(d.id))},500)}n(""),u(""),m(null),window.dispatchEvent(new Event("classesUpdated"))}catch(r){console.error("Error saving to Firestore:",r),l(r.message),alert("\u274c Failed to upload data: "+r.message)}finally{a(!1),u("")}},onCancel:()=>{h(!1),m(null),n("")}}),document.body)]})}const TI=Dv("file-up",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),_I=Dv("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),CI=Dv("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),AI=Dv("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),OI=Dv("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),II=Dv("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),PI=Dv("snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]]);function DI(){const e=ge(),[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(5),[x,b]=(0,t.useState)(5),[w,N]=(0,t.useState)(5),[S,E]=(0,t.useState)(!1),[k,j]=(0,t.useState)(null),[T,_]=(0,t.useState)(!1),[C,A]=(0,t.useState)(""),[O,I]=(0,t.useState)(null),[P,D]=(0,t.useState)({}),[R,M]=(0,t.useState)(!1),[L,z]=(0,t.useState)(null),[F,U]=(0,t.useState)(null),[q,B]=(0,t.useState)(!1),[V,H]=(0,t.useState)("ALL"),[W,G]=(0,t.useState)([]),[Q,K]=(0,t.useState)(!1),[Y,X]=(0,t.useState)([]),[$,J]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(""),[te,ne]=(0,t.useState)([]),[re,ae]=(0,t.useState)("multiple_choice");(0,t.useEffect)(()=>{B(!0)},[]),(0,t.useEffect)(()=>{const e=kv.onAuthStateChanged(e=>{e?(se(),le(),ce()):(s(!1),K(!1),J(!1))});return()=>e()},[]);const se=async()=>{s(!0);try{const e=kv.currentUser;if(!e)return;const t=Xg(lg(jv,"quizzes"),Jg("teacherId","==",e.uid)),n=(await hv(t)).docs.map(e=>{var t;const n=e.data();return{id:e.id,title:n.title,mode:n.mode||"Published",totalPoints:n.totalPoints,questionCount:(null===(t=n.questions)||void 0===t?void 0:t.length)||0}});r(n)}catch(G5){console.error(G5),alert("Error loading quizzes.")}finally{s(!1)}},[ie,oe]=(0,t.useState)(null),le=async()=>{K(!0);try{const e=kv.currentUser;if(!e)return;const t=Xg(lg(jv,"assignedQuizzes"),Jg("assignedBy","==",e.uid),Jg("quizMode","==","asynchronous")),n=await hv(t),r=new Map;n.forEach(e=>{const t=e.data(),n="".concat(t.quizId,"-").concat(t.classId);r.has(n)||r.set(n,{quizId:t.quizId,classId:t.classId,quizTitle:t.quizTitle,className:t.className,subject:t.subject||"",quizMode:t.quizMode||"asynchronous",dueDate:t.dueDate,assignedAt:t.assignedAt,studentIds:[],docIds:[]});const a=r.get(n);a.studentIds.includes(t.studentId)||a.studentIds.push(t.studentId),a.docIds.push(e.id)});const a=Array.from(r.values()).map(e=>({id:e.quizId,quizId:e.quizId,classId:e.classId,title:e.quizTitle,className:e.className,subject:e.subject,studentCount:e.studentIds.length,dueDate:e.dueDate,assignedAt:e.assignedAt,quizMode:e.quizMode,docIds:e.docIds}));a.sort((e,t)=>{var n,r;return((null===(n=t.assignedAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.assignedAt)||void 0===r?void 0:r.seconds)||0)}),G(a)}catch(G5){console.error(G5),alert("Error loading assigned quizzes.")}finally{K(!1)}},ce=async()=>{J(!0);try{const e=kv.currentUser;if(!e)return;const t=Xg(lg(jv,"assignedQuizzes"),Jg("assignedBy","==",e.uid),Jg("quizMode","==","synchronous")),n=await hv(t),r=new Map;n.forEach(e=>{const t=e.data(),n="".concat(t.quizId,"-").concat(t.classId);r.has(n)||r.set(n,{quizId:t.quizId,classId:t.classId,quizTitle:t.quizTitle,className:t.className,subject:t.subject||"",quizMode:t.quizMode||"synchronous",dueDate:t.dueDate,assignedAt:t.assignedAt,quizCode:t.quizCode||null,studentIds:[],sessionStatus:t.sessionStatus||"not_started",docIds:[]});const a=r.get(n);a.studentIds.includes(t.studentId)||a.studentIds.push(t.studentId),a.docIds.push(e.id)});const a=Array.from(r.values()).map(e=>({id:e.quizId,quizId:e.quizId,classId:e.classId,title:e.quizTitle,className:e.className,subject:e.subject,studentCount:e.studentIds.length,dueDate:e.dueDate,assignedAt:e.assignedAt,quizMode:e.quizMode,quizCode:e.quizCode,sessionStatus:e.sessionStatus,docIds:e.docIds}));a.sort((e,t)=>{var n,r;return((null===(n=t.assignedAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.assignedAt)||void 0===r?void 0:r.seconds)||0)}),X(a)}catch(G5){console.error(G5),alert("Error loading synchronous quizzes.")}finally{J(!1)}},ue=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="Are you sure you want to delete this assignment?\n\nQuiz: ".concat(e.title,"\nClass: ").concat(e.className,"\n\nThis will remove the quiz from all ").concat(e.studentCount," students and delete all related data. This action cannot be undone.");if(window.confirm(n)){U("".concat(e.quizId,"-").concat(e.classId));try{const n=e.docIds.map(e=>pv(cg(jv,"assignedQuizzes",e)));await Promise.all(n),t?(await ce(),alert("Live quiz assignment deleted successfully!")):(await le(),alert("Quiz assignment deleted successfully!"))}catch(G5){console.error("Error deleting assignment:",G5),alert("Error deleting assignment. Please try again.")}finally{U(null)}}},de=()=>{u(!1),ee(""),ne([])},he=e=>{const t={type:e,question:"",points:1,correct_answer:"true_false"===e?"True":"",choices:"multiple_choice"===e?[{text:"",is_correct:!1},{text:"",is_correct:!1},{text:"",is_correct:!1},{text:"",is_correct:!1}]:null,bloom_classification:"LOTS",classification_confidence:0};ne([...te,t])},fe=(e,t,n)=>{const r=[...te];r[e][t]=n,ne(r)},me=(e,t,n,r)=>{const a=[...te];"is_correct"===n?a[e].choices.forEach((e,n)=>{e.is_correct=n===t}):a[e].choices[t][n]=r,ne(a)},pe=()=>{h(!1),_(!1),I(null),H("ALL")},ve=(e,t)=>{const n="HOTS"===e,r=n?"bg-purple-100":"bg-blue-100",a=n?"text-purple-700":"text-blue-700",s=n?"border-purple-300":"border-blue-300";return(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold border-2 ".concat(r," ").concat(a," ").concat(s),children:e}),t&&(0,Uv.jsxs)("span",{className:"text-xs text-gray-500",children:[(100*t).toFixed(1),"%"]})]})};return(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,Uv.jsx)(zx,{className:"w-8 h-8 text-blue-600 mb-6"}),(0,Uv.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold text-title flex items-center gap-2",children:"Manage Quizzes"}),(0,Uv.jsx)("p",{className:"text-md font-light text-subtext",children:"Create, edit, and organize your quizzes with ease."})]})]}),(0,Uv.jsxs)("div",{className:"bg-blue-50 p-8 rounded-3xl border-2 border-blue-200 mb-8 animate-slideIn",children:[(0,Uv.jsx)("h3",{className:"text-xl text-title font-semibold mb-3",children:"Create New Quiz"}),(0,Uv.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Uv.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:[(0,Uv.jsx)(TI,{className:"w-5 h-5"})," Upload PDF (AI Generate)"]}),(0,Uv.jsxs)("button",{onClick:()=>{ee(""),ne([]),u(!0)},className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition",children:[(0,Uv.jsx)(_I,{className:"w-5 h-5"})," Manual Quiz Creation"]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-300 border-dashed rounded-3xl p-8 mb-8",children:[(0,Uv.jsx)("h3",{className:"text-xl text-title font-semibold mb-4",children:"Your Published Quizzes"}),a?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading\u2026"})]}):0===n.length?(0,Uv.jsx)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No published quizzes yet"})}):(0,Uv.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:n.map(t=>(0,Uv.jsxs)("div",{className:"border rounded-2xl p-5 shadow-sm hover:shadow-md transition bg-blue-50",children:[(0,Uv.jsxs)("div",{className:"relative flex flex-row",children:[(0,Uv.jsxs)("div",{className:"flex flex-col",children:[(0,Uv.jsx)("h4",{className:"text-lg font-bold text-title",children:t.title}),(0,Uv.jsxs)("p",{className:"text-gray-500 text-sm",children:["Questions: ",t.questionCount]}),(0,Uv.jsxs)("p",{className:"text-gray-500 text-sm",children:["Total Points: ",t.totalPoints]})]}),(0,Uv.jsx)("button",{onClick:()=>(async(e,t)=>{const n='Are you sure you want to archive "'.concat(t,'"?\n\nThis will move the quiz to your archives.\n\nNote: Assigned quizzes can still be accessed by students.');if(window.confirm(n)){oe(e);try{const t=await uv(cg(jv,"quizzes",e));if(t.exists()){const n=c(c({},t.data()),{},{originalQuizId:e,archivedAt:new Date,archivedBy:kv.currentUser.uid,status:"archived"});await fv(cg(jv,"archivedQuizzes",e),n),console.log("Quiz archived: ".concat(e))}await pv(cg(jv,"quizzes",e)),await se(),alert("\u2705 Quiz archived successfully!")}catch(G5){console.error("Error archiving quiz:",G5),alert("\u274c Error archiving quiz. Please try again.")}finally{oe(null)}}})(t.id,t.title),disabled:ie===t.id,className:"absolute top-2 right-1 text-red-600 transition-all active:scale-95 hover:scale-105 duration-200 hover:bg-red-50 p-1 rounded ".concat(ie===t.id?"opacity-50 cursor-not-allowed":""),title:"Delete quiz",children:ie===t.id?(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}):(0,Uv.jsx)(CI,{className:"w-4 h-4"})})]}),(0,Uv.jsxs)("div",{className:"flex justify-between items-center gap-2 mt-4",children:[(0,Uv.jsxs)("button",{onClick:()=>e("/teacher/edit-quiz/".concat(t.id)),className:"text-blue-600 rounded-xl bg-blue-100 px-3 py-2 font-semibold flex items-center gap-1 transform-all active:scale-95 hover:scale-105 duration-200",children:[(0,Uv.jsx)(AI,{className:"w-4 h-4"})," ",(0,Uv.jsx)("span",{className:"hidden md:block",children:"Edit"})]}),(0,Uv.jsxs)("button",{onClick:()=>e("/teacher/assign-quiz/".concat(t.id)),className:"text-purple-600 bg-purple-100 px-3 py-2 rounded-xl font-semibold flex items-center gap-1 transform-all active:scale-95 hover:scale-105 duration-200",children:[(0,Uv.jsx)(fx,{className:"w-4 h-4"})," ",(0,Uv.jsx)("span",{className:"hidden md:block",children:"Assign"})]})]})]},t.id))})]}),(0,Uv.jsxs)("div",{className:"mb-8 bg-yellow-50 rounded-3xl border-2 border-yellow-200 p-6",children:[(0,Uv.jsxs)("h3",{className:"text-xl text-title font-semibold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-6 h-6 text-yellow-600"})," Synchronous Quizzes",Y.length>0&&(0,Uv.jsx)("span",{className:"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold ",children:Y.length})]}),$?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-yellow-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading\u2026"})]}):0===Y.length?(0,Uv.jsxs)("div",{className:"text-center py-12 bg-white rounded-xl border-2 border-dashed border-yellow-300",children:[(0,Uv.jsx)(My,{className:"w-16 h-16 mx-auto mb-4 text-yellow-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No live quizzes assigned yet"})]}):(0,Uv.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:Y.map(t=>(0,Uv.jsxs)("div",{className:"border-2 border-yellow-200 rounded-xl p-5 shadow-sm hover:shadow-md transition bg-white",children:[(0,Uv.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Uv.jsx)("h4",{className:"text-lg font-bold text-title flex-1",children:t.title}),(0,Uv.jsxs)("span",{className:"px-2 py-1 bg-yellow-400 text-yellow-900 text-xs font-bold rounded-full flex items-center gap-1",children:[(0,Uv.jsx)(My,{className:"w-3 h-3"})," LIVE"]})]}),(0,Uv.jsxs)("div",{className:"space-y-2 text-sm mb-4",children:[(0,Uv.jsxs)("p",{className:"text-yellow-700 font-semibold",children:["Class: ",t.className]}),t.subject&&(0,Uv.jsxs)("p",{className:"text-gray-600",children:["Subject: ",t.subject]}),(0,Uv.jsxs)("p",{className:"text-gray-600",children:["Students: ",t.studentCount]}),t.dueDate&&(0,Uv.jsxs)("p",{className:"text-gray-600",children:["Due:"," ",new Date(t.dueDate).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"})]}),t.quizCode&&(0,Uv.jsxs)("div",{className:"mt-3 p-3 bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300 rounded-lg",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-700 font-semibold mb-1",children:"Quiz Code:"}),(0,Uv.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Uv.jsx)("span",{className:"text-lg font-bold text-purple-700 tracking-widest",children:t.quizCode}),(0,Uv.jsx)("button",{onClick:()=>{return e=t.quizCode,n="".concat(t.quizId,"-").concat(t.classId),navigator.clipboard.writeText(e),z(n),void setTimeout(()=>z(null),2e3);var e,n},className:"p-2 rounded-lg transition ".concat(L==="".concat(t.quizId,"-").concat(t.classId)?"bg-green-500 text-white":"bg-white hover:bg-purple-200 text-purple-600"),title:"Copy code to clipboard",children:L==="".concat(t.quizId,"-").concat(t.classId)?(0,Uv.jsx)(Iy,{className:"w-5 h-5"}):(0,Uv.jsx)(OI,{className:"w-5 h-5"})})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-row items-center justify-between pt-2",children:[(0,Uv.jsxs)("p",{className:"text-gray-500 text-xs",children:["Assigned:"," ",t.assignedAt?new Date(1e3*t.assignedAt.seconds).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}):"N/A"]}),(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("active"===t.sessionStatus?"bg-green-100 text-green-800":"ended"===t.sessionStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"active"===t.sessionStatus?"Active":"ended"===t.sessionStatus?"Ended":"Not Started"})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col gap-2 pt-3 border-t border-yellow-200",children:[(0,Uv.jsxs)("div",{className:"flex gap-2",children:[(0,Uv.jsxs)("button",{onClick:()=>e("/teacher/quiz-control/".concat(t.quizId,"/").concat(t.classId)),className:"flex-1 text-yellow-600 font-semibold hover:underline flex items-center justify-center gap-1 text-sm",children:[(0,Uv.jsx)(My,{className:"w-4 h-4"})," Control"]}),(0,Uv.jsxs)("button",{onClick:()=>e("/teacher/assign-quiz/".concat(t.quizId,"?classId=").concat(t.classId)),className:"flex-1 text-gray-700 font-semibold hover:underline flex items-center justify-center gap-1 text-sm",children:[(0,Uv.jsx)(AI,{className:"w-4 h-4"})," Reassign"]})]}),(0,Uv.jsx)("button",{onClick:()=>ue(t,!0),disabled:F==="".concat(t.quizId,"-").concat(t.classId),className:"w-full bg-red-600 text-white px-3 py-2 mt-2 rounded-lg hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm font-semibold disabled:bg-gray-400",children:F==="".concat(t.quizId,"-").concat(t.classId)?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"}),"Delete Assignment"]})})]})]},"".concat(t.quizId,"-").concat(t.classId)))})]}),(0,Uv.jsxs)("div",{className:"mb-8 bg-purple-50 rounded-3xl border-2 border-purple-200 p-6",children:[(0,Uv.jsxs)("h3",{className:"text-xl text-title font-semibold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(fx,{className:"w-6 h-6 text-purple-600"})," Asynchronous Quizzes",W.length>0&&(0,Uv.jsx)("span",{className:"bg-purple-400 text-purple-900 px-3 py-1 rounded-full text-sm font-bold",children:W.length})]}),Q?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-purple-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading\u2026"})]}):0===W.length?(0,Uv.jsxs)("div",{className:"text-center py-12 bg-white rounded-xl border-2 border-dashed border-purple-300",children:[(0,Uv.jsx)(fx,{className:"w-16 h-16 mx-auto mb-4 text-purple-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No quizzes assigned yet"})]}):(0,Uv.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:W.map(t=>(0,Uv.jsxs)("div",{className:"border-2 border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition bg-white",children:[(0,Uv.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,Uv.jsx)("h4",{className:"text-lg font-bold text-title flex-1",children:t.title})}),(0,Uv.jsxs)("div",{className:"space-y-2 text-sm mb-4",children:[(0,Uv.jsxs)("p",{className:"text-purple-700 font-semibold",children:["Class: ",t.className]}),t.subject&&(0,Uv.jsxs)("p",{className:"text-gray-600",children:["Subject: ",t.subject]}),(0,Uv.jsxs)("p",{className:"text-gray-600",children:["Students: ",t.studentCount]}),t.dueDate&&(0,Uv.jsxs)("p",{className:"text-gray-600",children:["Due:"," ",new Date(t.dueDate).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"})]}),(0,Uv.jsxs)("p",{className:"text-gray-500 text-xs",children:["Assigned:"," ",t.assignedAt?new Date(1e3*t.assignedAt.seconds).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}):"N/A"]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col gap-2 pt-3 border-t border-purple-200",children:[(0,Uv.jsxs)("div",{className:"flex gap-2",children:[(0,Uv.jsxs)("button",{onClick:()=>e("/teacher/quiz-results/".concat(t.quizId,"/").concat(t.classId)),className:"flex-1 text-blue-600 font-semibold hover:underline flex items-center justify-center gap-1 text-sm",children:[(0,Uv.jsx)(II,{className:"w-4 h-4"})," Results"]}),(0,Uv.jsxs)("button",{onClick:()=>e("/teacher/assign-quiz/".concat(t.quizId,"?classId=").concat(t.classId)),className:"flex-1 text-gray-700 font-semibold hover:underline flex items-center justify-center gap-1 text-sm",children:[(0,Uv.jsx)(AI,{className:"w-4 h-4"})," Reassign"]})]}),(0,Uv.jsx)("button",{onClick:()=>ue(t,!1),disabled:F==="".concat(t.quizId,"-").concat(t.classId),className:"w-full bg-red-600 text-white px-3 py-2 mt-2 rounded-lg hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm font-semibold disabled:bg-gray-400",children:F==="".concat(t.quizId,"-").concat(t.classId)?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"}),"Delete Assignment"]})})]})]},"".concat(t.quizId,"-").concat(t.classId)))})]}),q&&l&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 font-Outfit animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-600 to-blue-400 text-white rounded-t-2xl",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(_I,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold",children:"Manual Quiz Creation"}),(0,Uv.jsx)("p",{className:"text-sm text-green-100",children:"Create your quiz from scratch"})]})]}),(0,Uv.jsx)("button",{onClick:de,className:"text-white hover:bg-blue-500 rounded-lg p-2 transition",children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})})]}),(0,Uv.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-bold mb-2 text-gray-700",children:"Quiz Title *"}),(0,Uv.jsx)("input",{type:"text",value:Z,onChange:e=>ee(e.target.value),placeholder:"e.g., Chapter 5 Quiz",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Uv.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border-2 border-gray-200",children:[(0,Uv.jsx)("label",{className:"block text-sm font-bold mb-3 text-gray-700",children:"Add Question Type"}),(0,Uv.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Uv.jsxs)("button",{onClick:()=>he("multiple_choice"),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:[(0,Uv.jsx)(_I,{className:"w-5 h-5"})," Multiple Choice"]}),(0,Uv.jsxs)("button",{onClick:()=>he("true_false"),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition",children:[(0,Uv.jsx)(_I,{className:"w-5 h-5"})," True/False"]}),(0,Uv.jsxs)("button",{onClick:()=>he("identification"),className:"flex items-center gap-2 bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition",children:[(0,Uv.jsx)(_I,{className:"w-5 h-5"})," Identification"]})]})]}),0===te.length?(0,Uv.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(lx,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No questions added yet"}),(0,Uv.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Click the buttons above to add questions"})]}):(0,Uv.jsx)("div",{className:"space-y-4",children:te.map((e,t)=>(0,Uv.jsxs)("div",{className:"bg-white border-2 border-gray-300 rounded-xl p-5 hover:border-blue-400 transition",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Uv.jsx)("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:t+1}),(0,Uv.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:e.type.replace("_"," ").toUpperCase()}),(0,Uv.jsxs)("button",{onClick:()=>{return e=t,void(window.confirm("Delete this question?")&&ne(te.filter((t,n)=>n!==e)));var e},className:"ml-auto text-red-600 hover:text-red-700 flex items-center gap-1",children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"})," Delete"]})]}),(0,Uv.jsxs)("div",{className:"mb-4",children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Question *"}),(0,Uv.jsx)("textarea",{value:e.question,onChange:e=>fe(t,"question",e.target.value),placeholder:"Enter your question here...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2"})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Points"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:e.points,onChange:e=>fe(t,"points",parseInt(e.target.value)||1),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Bloom's Classification"}),(0,Uv.jsxs)("select",{value:e.bloom_classification,onChange:e=>fe(t,"bloom_classification",e.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Uv.jsx)("option",{value:"LOTS",children:"LOTS (Lower Order)"}),(0,Uv.jsx)("option",{value:"HOTS",children:"HOTS (Higher Order)"})]})]})]}),"multiple_choice"===e.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Choices * (Check the correct answer)"}),(0,Uv.jsx)("div",{className:"space-y-2",children:e.choices.map((e,n)=>(0,Uv.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border-2 ".concat(e.is_correct?"bg-green-50 border-blue-400":"bg-gray-50 border-gray-300"),children:[(0,Uv.jsx)("input",{type:"radio",checked:e.is_correct,onChange:()=>me(t,n,"is_correct",!0),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsx)("input",{type:"text",value:e.text,onChange:e=>me(t,n,"text",e.target.value),placeholder:"Enter choice ".concat(n+1),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]},n))})]}),"true_false"===e.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Correct Answer *"}),(0,Uv.jsxs)("div",{className:"flex gap-3",children:[(0,Uv.jsx)("button",{onClick:()=>fe(t,"correct_answer","True"),className:"flex-1 py-3 rounded-lg border-2 font-semibold transition ".concat("True"===e.correct_answer?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"True"}),(0,Uv.jsx)("button",{onClick:()=>fe(t,"correct_answer","False"),className:"flex-1 py-3 rounded-lg border-2 font-semibold transition ".concat("False"===e.correct_answer?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"False"})]})]}),"identification"===e.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Correct Answer *"}),(0,Uv.jsx)("input",{type:"text",value:e.correct_answer,onChange:e=>fe(t,"correct_answer",e.target.value),placeholder:"Enter the correct answer",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},t))}),te.length>0&&(0,Uv.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[(0,Uv.jsx)("h4",{className:"font-bold text-gray-800 mb-2",children:"Quiz Summary"}),(0,Uv.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-gray-600",children:"Total Questions"}),(0,Uv.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:te.length})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-gray-600",children:"Total Points"}),(0,Uv.jsx)("p",{className:"text-2xl font-bold text-green-600",children:te.reduce((e,t)=>e+t.points,0)})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-gray-600",children:"HOTS"}),(0,Uv.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:te.filter(e=>"HOTS"===e.bloom_classification).length})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-gray-600",children:"LOTS"}),(0,Uv.jsx)("p",{className:"text-2xl font-bold text-teal-600",children:te.filter(e=>"LOTS"===e.bloom_classification).length})]})]})]})]}),(0,Uv.jsxs)("div",{className:"border-t p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[(0,Uv.jsx)("button",{onClick:de,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition",children:"Cancel"}),(0,Uv.jsxs)("button",{onClick:()=>{if(!Z.trim())return void alert("Please enter a quiz title");if(0===te.length)return void alert("Please add at least one question");for(let a=0;a<te.length;a++){const e=te[a];if(!e.question.trim())return void alert("Question ".concat(a+1," is empty"));if("multiple_choice"===e.type){if(!e.choices.some(e=>e.text.trim()))return void alert("Question ".concat(a+1,": Please add at least one choice"));if(!e.choices.some(e=>e.is_correct))return void alert("Question ".concat(a+1,": Please mark the correct answer"))}else if(!e.correct_answer.trim())return void alert("Question ".concat(a+1,": Please provide the correct answer"))}const e=te.filter(e=>"HOTS"===e.bloom_classification).length,t=te.filter(e=>"LOTS"===e.bloom_classification).length,n=te.length,r={title:Z,questions:te,total_points:te.reduce((e,t)=>e+t.points,0),classification_stats:{hots_count:e,lots_count:t,hots_percentage:(e/n*100).toFixed(1),lots_percentage:(t/n*100).toFixed(1)}};j(r),u(!1),h(!0)},disabled:!Z.trim()||0===te.length,className:"flex-1 px-6 py-3 bg-button text-white font-semibold rounded-lg hover:bg-buttonHover transition flex items-center justify-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,Uv.jsx)(II,{className:"w-5 h-5"}),"See Preview"]})]})]})}),document.body),q&&i&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 font-Outfit animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-600 to-blue-400 text-white rounded-t-2xl",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(TI,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold",children:"Upload PDF"}),(0,Uv.jsx)("p",{className:"text-sm text-green-100",children:"Create your quiz using artificial intelligence"})]})]}),(0,Uv.jsx)("button",{onClick:()=>{o(!1),m(null),g("")},className:"text-white hover:bg-blue-600 rounded-lg p-2 transition",children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})})]}),(0,Uv.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-title text-sm font-semibold mb-2",children:"Quiz Title"}),(0,Uv.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"e.g., Midterm Exam",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Upload PDF"}),(0,Uv.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{const t=e.target.files[0];t&&"application/pdf"===t.type?m(t):alert("Please select a PDF file")},className:"w-full px-4 py-2 border rounded-lg"}),f&&(0,Uv.jsxs)("p",{className:"text-sm text-blue mt-2",children:["Selected: ",f.name]})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Multiple Choice"}),(0,Uv.jsx)("input",{type:"number",min:"0",value:v,onChange:e=>y(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"True/False"}),(0,Uv.jsx)("input",{type:"number",min:"0",value:x,onChange:e=>b(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Identification"}),(0,Uv.jsx)("input",{type:"number",min:"0",value:w,onChange:e=>N(parseInt(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,Uv.jsx)("button",{onClick:async()=>{if(!f)return alert("Please select a PDF file");E(!0);const e=new FormData;e.append("file",f),e.append("num_multiple_choice",v),e.append("num_true_false",x),e.append("num_identification",w),e.append("title",p||"Generated Quiz");try{const t=await fetch("http://localhost:8000/api/quiz/generate-from-pdf",{method:"POST",body:e}),n=await t.json();n.success?(j(n.quiz),o(!1),h(!0)):alert("Failed: "+n.message)}catch(G5){console.error(G5),alert("Generation error \u2013 check backend.")}finally{E(!1)}},disabled:S,className:"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:bg-gray-400 flex items-center justify-center gap-2",children:S?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-5 h-5 animate-spin"}),"Generating\u2026"]}):"Generate Quiz"})]})]})}),document.body),q&&d&&k&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 font-Outfit animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-5xl max-h-[90vh] flex flex-col animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-600 to-blue-400 text-white rounded-t-2xl",children:[(0,Uv.jsx)("div",{className:"flex-1",children:T?(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("input",{type:"text",value:C,onChange:e=>A(e.target.value),className:"text-2xl font-bold bg-white text-gray-800 px-3 py-1 rounded",autoFocus:!0}),(0,Uv.jsx)("button",{onClick:()=>{C.trim()&&(j(c(c({},k),{},{title:C})),_(!1))},className:"bg-green-500 hover:bg-green-600 px-3 py-1 rounded text-sm",children:"Save"}),(0,Uv.jsx)("button",{onClick:()=>_(!1),className:"bg-gray-500 hover:bg-gray-600 px-3 py-1 rounded text-sm",children:"Cancel"})]}):(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(lx,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold",children:k.title}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4 text-sm text-white mt-1",children:[(0,Uv.jsxs)("span",{children:["Questions: ",k.questions.length]}),(0,Uv.jsxs)("span",{children:["\u2022"," ",k.total_points||k.questions.reduce((e,t)=>e+t.points,0)," ","points"]}),k.classification_stats&&(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsxs)("span",{className:"font-semibold",children:["HOTS:"," ",k.classification_stats.hots_count," (",k.classification_stats.hots_percentage,"%)"]}),(0,Uv.jsxs)("span",{className:"font-semibold",children:["LOTS:"," ",k.classification_stats.lots_count," (",k.classification_stats.lots_percentage,"%)"]})]})]})]}),(0,Uv.jsxs)("button",{onClick:()=>{A(k.title),_(!0)},className:"bg-blue-700 hover:bg-blue-800 rounded-lg mr-2 px-3 py-1 text-sm flex items-center gap-1 ml-auto",children:[(0,Uv.jsx)(AI,{className:"w-4 h-4"})," Edit"]})]})}),(0,Uv.jsx)("button",{onClick:pe,className:"text-white hover:bg-blue-600 rounded-lg p-2 transition",children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})})]}),(0,Uv.jsx)("div",{className:"px-6 pt-6 pb-4 bg-gray-50 border-b",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("span",{className:"text-sm font-semibold text-gray-700 mr-2",children:"Filter by:"}),(0,Uv.jsxs)("button",{onClick:()=>H("ALL"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition ".concat("ALL"===V?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border-2 border-gray-300 hover:bg-gray-100"),children:["All Questions (",k.questions.length,")"]}),(0,Uv.jsxs)("button",{onClick:()=>H("HOTS"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition flex items-center gap-2 ".concat("HOTS"===V?"bg-purple-600 text-white shadow-md":"bg-white text-purple-700 border-2 border-purple-300 hover:bg-purple-50"),children:[(0,Uv.jsx)(lx,{className:"w-4 h-4"}),"HOTS (",k.questions.filter(e=>"HOTS"===e.bloom_classification).length,")"]}),(0,Uv.jsxs)("button",{onClick:()=>H("LOTS"),className:"px-4 py-2 rounded-lg font-semibold text-sm transition flex items-center gap-2 ".concat("LOTS"===V?"bg-blue-600 text-white shadow-md":"bg-white text-blue-700 border-2 border-blue-300 hover:bg-blue-50"),children:[(0,Uv.jsx)(PI,{className:"w-4 h-4"}),"LOTS (",k.questions.filter(e=>"LOTS"===e.bloom_classification).length,")"]})]})}),(0,Uv.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(()=>{const e=(e=>{const t="ALL"===V?e:e.filter(e=>e.bloom_classification===V),n={multiple_choice:[],true_false:[],identification:[]};return t.forEach((t,r)=>{const a=e.indexOf(t);n[t.type].push(c(c({},t),{},{originalIndex:a}))}),n})(k.questions),t={multiple_choice:"Multiple Choice",true_false:"True/False",identification:"Identification"},n=Object.values(e).reduce((e,t)=>e+t.length,0);return 0===n?(0,Uv.jsxs)("div",{className:"text-center py-12",children:[(0,Uv.jsx)(lx,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Uv.jsxs)("p",{className:"text-gray-500 text-lg",children:["No ",V," questions found"]}),(0,Uv.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Try selecting a different filter"})]}):(0,Uv.jsx)("div",{className:"space-y-8",children:Object.entries(e).map(e=>{let[n,r]=e;return 0===r.length?null:(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between border-b-2 border-blue-600 pb-2",children:[(0,Uv.jsxs)("h4",{className:"text-xl font-bold text-blue-700 flex items-center gap-2",children:[t[n],(0,Uv.jsxs)("span",{className:"text-sm bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[r.length," ",1===r.length?"question":"questions"]})]}),(0,Uv.jsxs)("button",{onClick:()=>(e=>{const t={type:e,question:"",points:1,correct_answer:"true_false"===e?"True":"",choices:"multiple_choice"===e?[{text:"",is_correct:!1},{text:"",is_correct:!1},{text:"",is_correct:!1},{text:"",is_correct:!1}]:null,bloom_classification:"LOTS",classification_confidence:0};j(c(c({},k),{},{questions:[...k.questions,t]})),I(k.questions.length),D({question:"",type:e,points:1,correct_answer:"true_false"===e?"True":"",choices:"multiple_choice"===e?[{text:"",is_correct:!1},{text:"",is_correct:!1},{text:"",is_correct:!1},{text:"",is_correct:!1}]:null,bloom_classification:"LOTS"})})(n),className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition text-sm",children:[(0,Uv.jsx)(_I,{className:"w-4 h-4"})," Add Question"]})]}),(0,Uv.jsx)("div",{className:"space-y-4",children:r.map(e=>{var t;const n=O===e.originalIndex;return(0,Uv.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border-2 border-gray-200 hover:border-blue-300 transition",children:n?(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Question"}),(0,Uv.jsx)("textarea",{value:P.question,onChange:e=>D(c(c({},P),{},{question:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3"})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Points"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:P.points,onChange:e=>D(c(c({},P),{},{points:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Classification"}),(0,Uv.jsxs)("select",{value:P.bloom_classification,onChange:e=>D(c(c({},P),{},{bloom_classification:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Uv.jsx)("option",{value:"HOTS",children:"HOTS"}),(0,Uv.jsx)("option",{value:"LOTS",children:"LOTS"})]})]})]}),"multiple_choice"===P.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Choices"}),(0,Uv.jsx)("div",{className:"space-y-2",children:null===(t=P.choices)||void 0===t?void 0:t.map((e,t)=>(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:e.is_correct,onChange:e=>{const n=[...P.choices];n[t].is_correct=e.target.checked,D(c(c({},P),{},{choices:n}))},className:"w-4 h-4"}),(0,Uv.jsx)("input",{type:"text",value:e.text,onChange:e=>{const n=[...P.choices];n[t].text=e.target.value,D(c(c({},P),{},{choices:n}))},placeholder:"Choice text",className:"flex-1 px-3 py-2 border rounded-lg text-sm"})]},t))})]}),"multiple_choice"!==P.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Correct Answer"}),(0,Uv.jsx)("input",{type:"text",value:P.correct_answer,onChange:e=>D(c(c({},P),{},{correct_answer:e.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Uv.jsxs)("div",{className:"flex gap-2",children:[(0,Uv.jsx)("button",{onClick:()=>(e=>{if(!P.question.trim())return alert("Question cannot be empty");if("multiple_choice"===P.type){if(!P.choices||P.choices.length<2)return alert("Need at least 2 choices");if(!P.choices.some(e=>e.is_correct))return alert("Mark one correct choice");if(P.choices.some(e=>!e.text.trim()))return alert("All choices need text")}else if(!P.correct_answer.trim())return alert("Correct answer required");const t=[...k.questions];t[e]=c(c({},t[e]),{},{question:P.question,points:P.points,correct_answer:P.correct_answer,choices:P.choices,bloom_classification:P.bloom_classification}),j(c(c({},k),{},{questions:t})),I(null)})(e.originalIndex),className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 text-sm font-semibold",children:"Save"}),(0,Uv.jsx)("button",{onClick:()=>I(null),className:"flex-1 bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 text-sm font-semibold",children:"Cancel"}),(0,Uv.jsxs)("button",{onClick:()=>{return t=e.originalIndex,void(window.confirm("Delete this question?")&&(j(c(c({},k),{},{questions:k.questions.filter((e,n)=>n!==t)})),I(null)));var t},className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 text-sm font-semibold flex items-center justify-center gap-1",children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"})," Delete"]})]})]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,Uv.jsx)("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:e.originalIndex+1}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,Uv.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:e.type.replace("_"," ").toUpperCase()}),(0,Uv.jsxs)("span",{className:"text-sm text-gray-600",children:[e.points," ",1===e.points?"point":"points"]}),ve(e.bloom_classification,e.classification_confidence),(0,Uv.jsxs)("button",{onClick:()=>((e,t)=>{I(e),D({question:t.question,type:t.type,points:t.points,correct_answer:t.correct_answer||"",choices:t.choices?[...t.choices]:null,bloom_classification:t.bloom_classification||"LOTS"})})(e.originalIndex,e),className:"ml-auto text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm",children:[(0,Uv.jsx)(AI,{className:"w-4 h-4"})," Edit"]})]}),(0,Uv.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:e.question})]})]}),e.choices&&(0,Uv.jsx)("div",{className:"ml-11 space-y-2",children:e.choices.map((e,t)=>(0,Uv.jsx)("div",{className:"p-3 rounded-lg border-2 ".concat(e.is_correct?"bg-green-50 border-green-400":"bg-white border-gray-200"),children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("span",{className:e.is_correct?"text-green-700 font-semibold":"text-gray-700",children:e.text}),e.is_correct&&(0,Uv.jsx)(Iy,{className:"w-5 h-5 text-green-600 ml-auto"})]})},t))}),!e.choices&&(0,Uv.jsx)("div",{className:"ml-11 mt-3",children:(0,Uv.jsxs)("div",{className:"bg-green-50 border-2 border-green-400 rounded-lg p-3",children:[(0,Uv.jsxs)("span",{className:"text-sm text-gray-600 font-semibold",children:["Correct Answer:"," "]}),(0,Uv.jsx)("span",{className:"text-green-700 font-bold",children:e.correct_answer})]})})]})},e.originalIndex)})})]},n)})})})()}),(0,Uv.jsxs)("div",{className:"border-t p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[(0,Uv.jsx)("button",{onClick:pe,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{if(!window.confirm("Regenerate quiz? This will replace the current quiz with a new one."))return;if(!f)return alert("No PDF file found. Please upload again."),h(!1),void o(!0);E(!0);const e=new FormData;e.append("file",f),e.append("num_multiple_choice",v),e.append("num_true_false",x),e.append("num_identification",w),e.append("title",k.title||"Generated Quiz");try{const t=await fetch("http://localhost:8000/api/quiz/generate-from-pdf",{method:"POST",body:e}),n=await t.json();n.success?(j(n.quiz),I(null),H("ALL"),alert("\u2705 Quiz regenerated successfully!")):alert("Failed: "+n.message)}catch(G5){console.error(G5),alert("Generation error \u2013 check backend.")}finally{E(!1)}},disabled:S,className:"px-6 py-3 bg-orange-600 text-white font-semibold rounded-lg hover:bg-orange-700 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:S?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-5 h-5 animate-spin"}),"Regenerating..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(lx,{className:"w-5 h-5"}),"Regenerate Quiz"]})}),(0,Uv.jsx)("button",{onClick:async()=>{if(!k)return;const e=kv.currentUser;if(!e)return alert("Please log in first!");M(!0);try{var t;const n=k.questions.reduce((e,t)=>e+t.points,0),r=e.displayName||(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"Teacher",a={title:k.title,mode:"Published",questions:k.questions,totalPoints:n,classificationStats:k.classification_stats||{hots_count:k.questions.filter(e=>"HOTS"===e.bloom_classification).length,lots_count:k.questions.filter(e=>"LOTS"===e.bloom_classification).length,hots_percentage:(k.questions.filter(e=>"HOTS"===e.bloom_classification).length/k.questions.length*100).toFixed(1),lots_percentage:(k.questions.filter(e=>"LOTS"===e.bloom_classification).length/k.questions.length*100).toFixed(1)},teacherId:e.uid,teacherEmail:e.email,teacherName:r,createdAt:Nv(),updatedAt:Nv(),status:"published"};await gv(lg(jv,"quizzes"),a),h(!1),j(null),await se(),alert("Quiz published successfully!")}catch(G5){console.error(G5),alert("Publish error.")}finally{M(!1)}},disabled:R,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2 disabled:bg-gray-400",children:R?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-5 h-5 animate-spin"}),"Publishing..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Iy,{className:"w-5 h-5"}),"Publish Quiz"]})})]})]})}),document.body)]})}const RI=Dv("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),MI=Dv("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),LI=Dv("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),zI=Dv("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function FI(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=FI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function UI(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=FI(e))&&(r&&(r+=" "),r+=t);return r}var qI=n(6135),BI=n.n(qI),VI=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},HI=n(4879),WI=n.n(HI),GI=e=>0===e?0:e>0?1:-1,QI=e=>"number"==typeof e&&e!=+e,KI=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,YI=e=>("number"===typeof e||e instanceof Number)&&!QI(e),XI=e=>YI(e)||"string"===typeof e,$I=0,JI=e=>{var t=++$I;return"".concat(e||"").concat(t)},ZI=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!YI(e)&&"string"!==typeof e)return r;if(KI(e)){if(null==t)return r;var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return QI(n)&&(n=r),a&&null!=t&&n>t&&(n=t),n},eP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1};function tP(e,t,n){return YI(e)&&YI(t)?e+n*(t-e):t}function nP(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):WI()(e,t))===n)}var rP=e=>null===e||"undefined"===typeof e,aP=e=>rP(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),sP=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:i}=n,o=KI(r)?e:Number(r),l=KI(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},iP={width:0,height:0,overflow:"visible"},oP={width:0,overflowX:"visible"},lP={height:0,overflowY:"visible"},cP={},uP=e=>{var{width:t,height:n}=e,r=KI(t),a=KI(n);return r&&a?iP:r?oP:a?lP:cP};function dP(e){return Number.isFinite(e)}function hP(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function fP(){return fP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fP.apply(null,arguments)}function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mP(Object(n),!0).forEach(function(t){gP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vP=(0,t.createContext)({width:-1,height:-1});function yP(e){var{children:n,width:r,height:a}=e,s=(0,t.useMemo)(()=>({width:r,height:a}),[r,a]);return r<=0||a<=0?null:t.createElement(vP.Provider,{value:s},n)}var xP=()=>(0,t.useContext)(vP),bP=(0,t.forwardRef)((e,n)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:i,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:m,style:p={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=m,(0,t.useImperativeHandle)(n,()=>g.current);var[y,x]=(0,t.useState)({containerWidth:a.width,containerHeight:a.height}),b=(0,t.useCallback)((e,t)=>{x(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,t.useEffect)(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=v.current)||void 0===t||t.call(v,n,r)};d>0&&(e=BI()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,d]);var{containerWidth:w,containerHeight:N}=y;VI(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=sP(w,N,{width:s,height:i,aspect:r,maxHeight:c});return VI(S>0||E>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",S,E,s,i,o,l,r),t.createElement("div",{id:h?"".concat(h):void 0,className:UI("recharts-responsive-container",f),style:pP(pP({},p),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:uP({width:s,height:i})},t.createElement(yP,{width:S,height:E},u)))}),wP=(0,t.forwardRef)((e,n)=>{var r=xP();if(hP(r.width)&&hP(r.height))return e.children;var{width:a,height:s}=function(e){var{width:t,height:n,aspect:r}=e,a=t,s=n;return void 0===a&&void 0===s?(a="100%",s="100%"):void 0===a?a=r&&r>0?void 0:"100%":void 0===s&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=sP(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return YI(i)&&YI(o)?t.createElement(yP,{width:i,height:o},e.children):t.createElement(bP,fP({},e,{width:a,height:s,ref:n}))});function NP(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var SP=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),EP=()=>Math.random().toString(36).substring(7).split("").join("."),kP={INIT:"@@redux/INIT".concat(EP()),REPLACE:"@@redux/REPLACE".concat(EP()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(EP())};function jP(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function TP(e,t,n){if("function"!==typeof e)throw new Error(NP(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(NP(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(NP(1));return n(TP)(e,t)}let r=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function u(){if(l)throw new Error(NP(3));return a}function d(e){if("function"!==typeof e)throw new Error(NP(4));if(l)throw new Error(NP(5));let t=!0;c();const n=o++;return i.set(n,e),function(){if(t){if(l)throw new Error(NP(6));t=!1,c(),i.delete(n),s=null}}}function h(e){if(!jP(e))throw new Error(NP(7));if("undefined"===typeof e.type)throw new Error(NP(8));if("string"!==typeof e.type)throw new Error(NP(17));if(l)throw new Error(NP(9));try{l=!0,a=r(a,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}h({type:kP.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(NP(10));r=e,h({type:kP.REPLACE})},[SP]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(NP(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[SP](){return this}}}}}function _P(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let a;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:kP.INIT}))throw new Error(NP(12));if("undefined"===typeof n(void 0,{type:kP.PROBE_UNKNOWN_ACTION()}))throw new Error(NP(13))})}(n)}catch(G5){a=G5}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let s=!1;const i={};for(let a=0;a<r.length;a++){const o=r[a],l=n[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(NP(14))}i[o]=u,s=s||u!==c}return s=s||r.length!==Object.keys(e).length,s?i:e}}function CP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function AP(e){return jP(e)&&"type"in e&&"string"===typeof e.type}function OP(e){return t=>{let{dispatch:n,getState:r}=t;return t=>a=>"function"===typeof a?a(n,r,e):t(a)}}var IP=OP(),PP=OP,DP=Symbol.for("immer-nothing"),RP=Symbol.for("immer-draftable"),MP=Symbol.for("immer-state");function LP(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var zP=Object.getPrototypeOf;function FP(e){return!!e&&!!e[MP]}function UP(e){var t;return!!e&&(VP(e)||Array.isArray(e)||!!e[RP]||!(null===(t=e.constructor)||void 0===t||!t[RP])||KP(e)||YP(e))}var qP=Object.prototype.constructor.toString(),BP=new WeakMap;function VP(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=BP.get(n);return void 0===r&&(r=Function.toString.call(n),BP.set(n,r)),r===qP}function HP(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===WP(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function WP(e){const t=e[MP];return t?t.type_:Array.isArray(e)?1:KP(e)?2:YP(e)?3:0}function GP(e,t){return 2===WP(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function QP(e,t,n){const r=WP(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function KP(e){return e instanceof Map}function YP(e){return e instanceof Set}function XP(e){return e.copy_||e.base_}function $P(e,t){if(KP(e))return new Map(e);if(YP(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=VP(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[MP];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(zP(e),t)}{const t=zP(e);if(null!==t&&n)return c({},e);const r=Object.create(t);return Object.assign(r,e)}}function JP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eD(e)||FP(e)||!UP(e)||(WP(e)>1&&Object.defineProperties(e,{set:ZP,add:ZP,clear:ZP,delete:ZP}),Object.freeze(e),t&&Object.values(e).forEach(e=>JP(e,!0))),e}var ZP={value:function(){LP(2)}};function eD(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var tD,nD={};function rD(e){const t=nD[e];return t||LP(0),t}function aD(){return tD}function sD(e,t){t&&(rD("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iD(e){oD(e),e.drafts_.forEach(cD),e.drafts_=null}function oD(e){e===tD&&(tD=e.parent_)}function lD(e){return tD={drafts_:[],parent_:tD,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cD(e){const t=e[MP];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function uD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[MP].modified_&&(iD(t),LP(4)),UP(e)&&(e=dD(t,e),t.parent_||fD(t,e)),t.patches_&&rD("Patches").generateReplacementPatches_(n[MP].base_,e,t.patches_,t.inversePatches_)):e=dD(t,n,[]),iD(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DP?e:void 0}function dD(e,t,n){if(eD(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[MP];if(!a)return HP(t,(r,s)=>hD(e,a,t,r,s,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return fD(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let s=t,i=!1;3===a.type_&&(s=new Set(t),t.clear(),i=!0),HP(s,(r,s)=>hD(e,a,t,r,s,n,i),r),fD(e,t,!1),n&&e.patches_&&rD("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function hD(e,t,n,r,a,s,i){if(null==a)return;if("object"!==typeof a&&!i)return;const o=eD(a);if(!o||i){if(FP(a)){const i=dD(e,a,s&&t&&3!==t.type_&&!GP(t.assigned_,r)?s.concat(r):void 0);if(QP(n,r,i),!FP(i))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(UP(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===a&&o)return;dD(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!(KP(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||fD(e,a)}}}function fD(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&JP(t,n)}var mD={get(e,t){if(t===MP)return e;const n=XP(e);if(!GP(n,t))return function(e,t,n){var r;const a=vD(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!UP(r)?r:r===gD(e.base_,t)?(xD(e),e.copy_[t]=bD(r,e)):r},has:(e,t)=>t in XP(e),ownKeys:e=>Reflect.ownKeys(XP(e)),set(e,t,n){const r=vD(XP(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=gD(XP(e),t),a=null===r||void 0===r?void 0:r[MP];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||GP(e.base_,t)))return!0;xD(e),yD(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==gD(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,xD(e),yD(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=XP(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){LP(11)},getPrototypeOf:e=>zP(e.base_),setPrototypeOf(){LP(12)}},pD={};function gD(e,t){const n=e[MP];return(n?XP(n):e)[t]}function vD(e,t){if(!(t in e))return;let n=zP(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=zP(n)}}function yD(e){e.modified_||(e.modified_=!0,e.parent_&&yD(e.parent_))}function xD(e){e.copy_||(e.copy_=$P(e.base_,e.scope_.immer_.useStrictShallowCopy_))}HP(mD,(e,t)=>{pD[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),pD.deleteProperty=function(e,t){return pD.set.call(this,e,t,void 0)},pD.set=function(e,t,n){return mD.set.call(this,e[0],t,n,e[0])};function bD(e,t){const n=KP(e)?rD("MapSet").proxyMap_(e,t):YP(e)?rD("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:aD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=mD;n&&(a=[r],s=pD);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return r.draft_=o,r.revoke_=i,o}(e,t);return(t?t.scope_:aD()).drafts_.push(n),n}function wD(e){return FP(e)||LP(10),ND(e)}function ND(e){if(!UP(e)||eD(e))return e;const t=e[MP];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$P(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=$P(e,!0);return HP(n,(e,t)=>{QP(n,e,ND(t))},r),t&&(t.finalized_=!1),n}var SD=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...s))}}let r;if("function"!==typeof t&&LP(6),void 0!==n&&"function"!==typeof n&&LP(7),UP(e)){const a=lD(this),s=bD(e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?iD(a):oD(a)}return sD(a,n),uD(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===DP&&(r=void 0),this.autoFreeze_&&JP(r,!0),n){const t=[],a=[];rD("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}LP(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;const s=this.produce(e,n,(e,t)=>{r=e,a=t});return[s,r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){UP(e)||LP(8),FP(e)&&(e=wD(e));const t=lD(this),n=bD(e,void 0);return n[MP].isManual_=!0,oD(t),n}finishDraft(e,t){const n=e&&e[MP];n&&n.isManual_||LP(9);const{scope_:r}=n;return sD(r,t),uD(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=rD("Patches").applyPatches_;return FP(e)?r(e,t):this.produce(e,e=>r(e,t))}},ED=SD.produce;const kD=["reducerPath"];var jD="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?CP:CP.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function TD(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(NR(0));return c(c({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>AP(t)&&t.type===e,n}var _D=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function CD(e){return UP(e)?ED(e,()=>{}):e}function AD(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var OD="RTK_autoBatch",ID=()=>e=>({payload:e,meta:{[OD]:!0}}),PD=e=>t=>{setTimeout(t,e)},DD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,a=!1,s=!1;const i=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:PD(10):"callback"===e.type?e.queueNotification:PD(e.timeout),l=()=>{s=!1,a&&(a=!1,i.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[OD]),a=!r,a&&(s||(s=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}};function RD(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=null!==e&&void 0!==e?e:{};let s=new _D;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(IP):s.push(PP(t.extraArgument))),s},{reducer:n,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:s=!0,preloadedState:i,enhancers:o}=e||{};let l,u;if("function"===typeof n)l=n;else{if(!jP(n))throw new Error(NR(1));l=_P(n)}u="function"===typeof r?r(t):t();let d=CP;a&&(d=jD(c({trace:!1},"object"===typeof a&&a)));const h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(NP(15))};const i={getState:a.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},o=t.map(e=>e(i));return s=CP(...o)(a.dispatch),c(c({},a),{},{dispatch:s})}}(...u),f=(e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new _D(e);return n&&r.push(DD("object"===typeof n?n:void 0)),r})(h);return TP(l,i,d(..."function"===typeof o?o(f):f()))}function MD(e){const t={},n=[];let r;const a={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(NR(28));if(r in t)throw new Error(NR(29));return t[r]=n,a},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),a),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(r=e,a)};return e(a),[t,n,r]}var LD=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var zD=Symbol.for("rtk-slice-createasyncthunk");function FD(e,t){return"".concat(e,"/").concat(t)}function UD(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[zD];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(NR(11));const a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return c({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(a),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(NR(12));if(n in i.sliceCaseReducersByType)throw new Error(NR(13));return i.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?MD(e.extraReducers):[e.extraReducers],a=c(c({},t),i.sliceCaseReducersByType);return function(e,t){let n,[r,a,s]=MD(t);if(function(e){return"function"===typeof e}(e))n=()=>CD(e());else{const t=CD(e);n=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,i=[r[t.type],...a.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[s]),i.reduce((e,n)=>{if(n){if(FP(e)){const r=n(e,t);return void 0===r?e:r}if(UP(e))return ED(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return i.getInitialState=n,i}(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}s.forEach(r=>{const s=a[r],i={reducerName:r,type:FD(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,a,{type:s,reducerName:i,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(NR(17));r=t.reducer,a=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(i,r).exposeAction(i,a?TD(s,a):TD(s))}(i,s,o):function(e,t,n,r){let{type:a,reducerName:s}=e;if(!r)throw new Error(NR(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=r(a,i,d);n.exposeAction(s,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(s,{fulfilled:o||VD,pending:l||VD,rejected:c||VD,settled:u||VD})}(i,s,o,n)});const d=e=>e,h=new Map,f=new WeakMap;let m;function p(e,t){return m||(m=l()),m(e,t)}function g(){return m||(m=l()),m.getInitialState()}function v(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let a=e[t];return"undefined"===typeof a&&n&&(a=AD(f,r,g)),a}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const r=AD(h,n,()=>new WeakMap);return AD(r,t,()=>{const r={};for(const[s,i]of Object.entries(null!==(a=e.selectors)&&void 0!==a?a:{})){var a;r[s]=qD(i,t,()=>AD(f,t,g),n)}return r})}return{reducerPath:t,getSelectors:a,get selectors(){return a(r)},selectSlice:r}}const y=c(c({name:t,reducer:p,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:g},v(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,a=u(t,kD);const s=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:s,reducer:p},a),c(c({},y),v(s,!0))}});return y}}function qD(e,t,n,r){function a(a){let s=t(a);"undefined"===typeof s&&r&&(s=n());for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e(s,...o)}return a.unwrapped=e,a}var BD=UD();function VD(){}var HD="listener",WD="completed",GD="cancelled",QD="task-".concat(GD),KD="task-".concat(WD),YD="".concat(HD,"-").concat(GD),XD="".concat(HD,"-").concat(WD),$D=class{constructor(e){o(this,"name","TaskAbortError"),o(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(GD," (reason: ").concat(e,")")}},JD=(e,t)=>{if("function"!==typeof e)throw new TypeError(NR(32))},ZD=()=>{},eR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZD;return e.catch(t),e},tR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),nR=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},rR=e=>{if(e.aborted){const{reason:t}=e;throw new $D(t)}};function aR(e,t){let n=ZD;return new Promise((r,a)=>{const s=()=>a(new $D(e.reason));e.aborted?s():(n=tR(e,s),t.finally(()=>n()).then(r,a))}).finally(()=>{n=ZD})}var sR=e=>t=>eR(aR(e,t).then(t=>(rR(e),t))),iR=e=>{const t=sR(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:oR}=Object,lR={},cR="listenerMiddleware",uR=(e,t)=>(n,r)=>{JD(n);const a=new AbortController;var s;s=a,tR(e,()=>nR(s,e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $D?"cancelled":"rejected",error:n}}finally{null===t||void 0===t||t()}})(async()=>{rR(e),rR(a.signal);const t=await n({pause:sR(a.signal),delay:iR(a.signal),signal:a.signal});return rR(a.signal),t},()=>nR(a,KD));return null!==r&&void 0!==r&&r.autoJoin&&t.push(i.catch(ZD)),{result:sR(e)(i),cancel(){nR(a,QD)}}},dR=(e,t)=>(n,r)=>eR((async(n,r)=>{rR(t);let a=()=>{};const s=[new Promise((t,r)=>{let s=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});a=()=>{s(),r()}})];null!=r&&s.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await aR(t,Promise.race(s));return rR(t),e}finally{a()}})(n,r)),hR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=TD(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(NR(21));return JD(s),{predicate:a,type:t,effect:s}},fR=oR(e=>{const{type:t,predicate:n,effect:r}=hR(e);return{id:LD(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(NR(22))}}},{withTypes:()=>fR}),mR=(e,t)=>{const{type:n,effect:r,predicate:a}=hR(t);return Array.from(e.values()).find(e=>("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r)},pR=e=>{e.pending.forEach(e=>{nR(e,YD)})},gR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},vR=oR(TD("".concat(cR,"/add")),{withTypes:()=>vR}),yR=TD("".concat(cR,"/removeAll")),xR=oR(TD("".concat(cR,"/remove")),{withTypes:()=>xR}),bR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error("".concat(cR,"/error"),...t)},wR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,n=new Map,{extra:r,onError:a=bR}=e;JD(a);const s=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&pR(e)}))(null!==(n=mR(t,e))&&void 0!==n?n:fR(e))};oR(s,{withTypes:()=>s});const i=e=>{const n=mR(t,e);return n&&(n.unsubscribe(),e.cancelActive&&pR(n)),!!n};oR(i,{withTypes:()=>i});const o=async(e,i,o,l)=>{const c=new AbortController,u=dR(s,c.signal),d=[];try{e.pending.add(c),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:0;n.set(e,r+1)})(e),await Promise.resolve(e.effect(i,oR({},o,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:iR(c.signal),pause:sR(c.signal),extra:r,signal:c.signal,fork:uR(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==c&&(nR(e,YD),n.delete(e))})},cancel:()=>{nR(c,YD),e.pending.delete(c)},throwIfCancelled:()=>{rR(c.signal)}})))}catch(h){h instanceof $D||gR(a,h,{raisedBy:"effect"})}finally{await Promise.all(d),nR(c,XD),(e=>{var t;const r=null!==(t=n.get(e))&&void 0!==t?t:1;1===r?n.delete(e):n.set(e,r-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())pR(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!AP(r))return n(r);if(vR.match(r))return s(r.payload);if(yR.match(r))return void l();if(xR.match(r))return i(r.payload);let c=e.getState();const u=()=>{if(c===lR)throw new Error(NR(23));return c};let d;try{if(d=n(r),t.size>0){const n=e.getState(),s=Array.from(t.values());for(const t of s){let s=!1;try{s=t.predicate(r,n,c)}catch(h){s=!1,gR(a,h,{raisedBy:"predicate"})}s&&o(t,r,e,u)}}}finally{c=lR}return d},startListening:s,stopListening:i,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function NR(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}function SR(e,t){if(t){var n=Number.parseInt(t,10);if(!QI(n))return null===e||void 0===e?void 0:e[n]}}var ER=BD({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kR=ER.reducer,{createEventEmitter:jR}=ER.actions;n(7256);function TR(e){e()}var _R={notify(){},get:()=>[]};function CR(e,t){let n,r=_R,a=0,s=!1;function i(){c.onStateChange&&c.onStateChange()}function o(){a++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TR(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){r&&null!==e&&(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function l(){a--,n&&0===a&&(n(),n=void 0,r.clear(),r=_R)}const c={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var AR=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),OR=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),IR=(()=>AR||OR?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var PR=Symbol.for("react-redux-context"),DR="undefined"!==typeof globalThis?globalThis:{};function RR(){var e;if(!t.createContext)return{};const n=null!==(e=DR[PR])&&void 0!==e?e:DR[PR]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var MR=RR();var LR=function(e){const{children:n,context:r,serverState:a,store:s}=e,i=t.useMemo(()=>{const e=CR(s);return{store:s,subscription:e,getServerState:a?()=>a:void 0}},[s,a]),o=t.useMemo(()=>s.getState(),[s]);IR(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==s.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,o]);const l=r||MR;return t.createElement(l.Provider,{value:i},n)};var zR=Symbol.for("immer-nothing"),FR=Symbol.for("immer-draftable"),UR=Symbol.for("immer-state");function qR(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var BR=Object.getPrototypeOf;function VR(e){return!!e&&!!e[UR]}function HR(e){var t;return!!e&&(QR(e)||Array.isArray(e)||!!e[FR]||!(null===(t=e.constructor)||void 0===t||!t[FR])||JR(e)||ZR(e))}var WR=Object.prototype.constructor.toString(),GR=new WeakMap;function QR(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!==typeof n)return!1;let r=GR.get(n);return void 0===r&&(r=Function.toString.call(n),GR.set(n,r)),r===WR}function KR(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===YR(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function YR(e){const t=e[UR];return t?t.type_:Array.isArray(e)?1:JR(e)?2:ZR(e)?3:0}function XR(e,t){return 2===YR(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $R(e,t,n){const r=YR(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function JR(e){return e instanceof Map}function ZR(e){return e instanceof Set}function eM(e){return e.copy_||e.base_}function tM(e,t){if(JR(e))return new Map(e);if(ZR(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=QR(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[UR];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const a=n[r],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(BR(e),t)}{const t=BR(e);if(null!==t&&n)return c({},e);const r=Object.create(t);return Object.assign(r,e)}}function nM(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return aM(e)||VR(e)||!HR(e)||(YR(e)>1&&Object.defineProperties(e,{set:rM,add:rM,clear:rM,delete:rM}),Object.freeze(e),t&&Object.values(e).forEach(e=>nM(e,!0))),e}var rM={value:function(){qR(2)}};function aM(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var sM,iM={};function oM(e){const t=iM[e];return t||qR(0),t}function lM(){return sM}function cM(e,t){t&&(oM("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uM(e){dM(e),e.drafts_.forEach(fM),e.drafts_=null}function dM(e){e===sM&&(sM=e.parent_)}function hM(e){return sM={drafts_:[],parent_:sM,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fM(e){const t=e[UR];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function mM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[UR].modified_&&(uM(t),qR(4)),HR(e)&&(e=pM(t,e),t.parent_||vM(t,e)),t.patches_&&oM("Patches").generateReplacementPatches_(n[UR].base_,e,t.patches_,t.inversePatches_)):e=pM(t,n,[]),uM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zR?e:void 0}function pM(e,t,n){if(aM(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[UR];if(!a)return KR(t,(r,s)=>gM(e,a,t,r,s,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return vM(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let s=t,i=!1;3===a.type_&&(s=new Set(t),t.clear(),i=!0),KR(s,(r,s)=>gM(e,a,t,r,s,n,i),r),vM(e,t,!1),n&&e.patches_&&oM("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function gM(e,t,n,r,a,s,i){if(null==a)return;if("object"!==typeof a&&!i)return;const o=aM(a);if(!o||i){if(VR(a)){const i=pM(e,a,s&&t&&3!==t.type_&&!XR(t.assigned_,r)?s.concat(r):void 0);if($R(n,r,i),!VR(i))return;e.canAutoFreeze_=!1}else i&&n.add(a);if(HR(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===a&&o)return;pM(e,a),t&&t.scope_.parent_||"symbol"===typeof r||!(JR(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||vM(e,a)}}}function vM(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nM(t,n)}var yM={get(e,t){if(t===UR)return e;const n=eM(e);if(!XR(n,t))return function(e,t,n){var r;const a=wM(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!HR(r)?r:r===bM(e.base_,t)?(SM(e),e.copy_[t]=EM(r,e)):r},has:(e,t)=>t in eM(e),ownKeys:e=>Reflect.ownKeys(eM(e)),set(e,t,n){const r=wM(eM(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=bM(eM(e),t),a=null===r||void 0===r?void 0:r[UR];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||XR(e.base_,t)))return!0;SM(e),NM(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==bM(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,SM(e),NM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=eM(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){qR(11)},getPrototypeOf:e=>BR(e.base_),setPrototypeOf(){qR(12)}},xM={};function bM(e,t){const n=e[UR];return(n?eM(n):e)[t]}function wM(e,t){if(!(t in e))return;let n=BR(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=BR(n)}}function NM(e){e.modified_||(e.modified_=!0,e.parent_&&NM(e.parent_))}function SM(e){e.copy_||(e.copy_=tM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}KR(yM,(e,t)=>{xM[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),xM.deleteProperty=function(e,t){return xM.set.call(this,e,t,void 0)},xM.set=function(e,t,n){return yM.set.call(this,e[0],t,n,e[0])};function EM(e,t){const n=JR(e)?oM("MapSet").proxyMap_(e,t):ZR(e)?oM("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:lM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=yM;n&&(a=[r],s=xM);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return r.draft_=o,r.revoke_=i,o}(e,t);return(t?t.scope_:lM()).drafts_.push(n),n}function kM(e){if(!HR(e)||aM(e))return e;const t=e[UR];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tM(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=tM(e,!0);return KR(n,(e,t)=>{$R(n,e,kM(t))},r),t&&(t.finalized_=!1),n}var jM=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...s))}}let r;if("function"!==typeof t&&qR(6),void 0!==n&&"function"!==typeof n&&qR(7),HR(e)){const a=hM(this),s=EM(e,void 0);let i=!0;try{r=t(s),i=!1}finally{i?uM(a):dM(a)}return cM(a,n),mM(r,a)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===zR&&(r=void 0),this.autoFreeze_&&nM(r,!0),n){const t=[],a=[];oM("Patches").generateReplacementPatches_(e,r,t,a),n(t,a)}return r}qR(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return t.produceWithPatches(n,t=>e(t,...a))};let r,a;const s=this.produce(e,n,(e,t)=>{r=e,a=t});return[s,r,a]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){HR(e)||qR(8),VR(e)&&(e=function(e){VR(e)||qR(10);return kM(e)}(e));const t=hM(this),n=EM(e,void 0);return n[UR].isManual_=!0,dM(t),n}finishDraft(e,t){const n=e&&e[UR];n&&n.isManual_||qR(9);const{scope_:r}=n;return cM(r,t),mM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=oM("Patches").applyPatches_;return VR(e)?r(e,t):this.produce(e,e=>r(e,t))}};jM.produce;var TM={active:!1,index:null,dataKey:void 0,coordinate:void 0},_M=BD({name:"tooltip",initialState:{itemInteraction:{click:TM,hover:TM},axisInteraction:{click:TM,hover:TM},keyboardInteraction:TM,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ID()},removeTooltipEntrySettings:{reducer(e,t){var n=wD(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ID()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:CM,removeTooltipEntrySettings:AM,setTooltipSettingsState:OM,setActiveMouseOverItemIndex:IM,mouseLeaveItem:PM,mouseLeaveChart:DM,setActiveClickItemIndex:RM,setMouseOverAxisIndex:MM,setMouseClickAxisIndex:LM,setSyncInteraction:zM,setKeyboardInteraction:FM}=_M.actions,UM=_M.reducer,qM=BD({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:BM,setDataStartEndIndexes:VM,setComputedData:HM}=qM.actions,WM=qM.reducer,GM=BD({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,s;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(a=t.payload.bottom)&&void 0!==a?a:0,e.margin.left=null!==(s=t.payload.left)&&void 0!==s?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:QM,setLayout:KM,setChartSize:YM,setScale:XM}=GM.actions,$M=GM.reducer;function JM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var ZM=e=>Array.isArray(e)?e:[e];function eL(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const n=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var tL="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function nL(){return{s:0,v:void 0,o:null,p:null}}function rL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let a,s=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=nL(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=nL(),e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),s++,r){var c,u,d;const e=null!==(c=null===(u=a)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:a;null!=e&&r(e,l)&&(l=e,0!==s&&s--);a="object"===typeof l&&null!==l||"function"===typeof l?new tL(l):l}return o.s=1,o.v=l,l}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function aL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a="function"===typeof e?{memoize:e,memoizeOptions:n}:e,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,s=0,i=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),JM(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const u=c(c({},a),o),{memoize:d,memoizeOptions:h=[],argsMemoize:f=rL,argsMemoizeOptions:m=[],devModeChecks:p={}}=u,g=ZM(h),v=ZM(m),y=eL(t),x=d(function(){return s++,l.apply(null,arguments)},...g);const b=f(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(y,arguments);return r=x.apply(null,e),r},...v);return Object.assign(b,{resultFunc:l,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:f})};return Object.assign(s,{withTypes:()=>s}),s}var sL=aL(rL),iL=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sL;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((e,t,r)=>(e[n[r]]=t,e),{})});return r},{withTypes:()=>iL}),oL=n(3044),lL=(0,t.createContext)(null),cL=e=>e,uL=()=>{var e=(0,t.useContext)(lL);return e?e.store.dispatch:cL},dL=()=>{},hL=()=>dL,fL=(e,t)=>e===t;function mL(e){var n=(0,t.useContext)(lL);return(0,oL.useSyncExternalStoreWithSelector)(n?n.subscription.addNestedSub:hL,n?n.store.getState:dL,n?n.store.getState:dL,n?e:dL,fL)}var pL=n(830),gL=n.n(pL),vL=e=>e.legend.settings,yL=sL([e=>e.legend.payload,vL],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?gL()(r,n):r});function xL(e,t){if((a=e.length)>1)for(var n,r,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(r=i,i=e[t[s]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}Array.prototype.slice;function bL(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function wL(e){return function(){return e}}function NL(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function SL(e,t){return e[t]}function EL(e){const t=[];return t.key=e,t}function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kL(Object(n),!0).forEach(function(t){TL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _L=Math.PI/180,CL=e=>180*e/Math.PI,AL=(e,t,n,r)=>({x:e+Math.cos(-_L*r)*n,y:t+Math.sin(-_L*r)*n}),OL=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},IL=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,i=((e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)})({x:n,y:r},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(n-a)/i,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:i,angle:CL(l),angleInRadian:l}},PL=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},DL=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:s}=IL({x:n,y:r},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o)return null;if(0===a)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}})(t),d=s;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?jL(jL({},t),{},{radius:a,angle:PL(d,t)}):null};function RL(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ML(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ML(Object(n),!0).forEach(function(t){zL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FL(e,t,n){return rP(e)||rP(t)?n:XI(t)?WI()(e,t,n):"function"===typeof t?t(e):n}var UL=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,qL=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var a,s,i=e.map(e=>(e.coordinate===t&&(a=!0),e.coordinate===n&&(s=!0),e.coordinate));return a||i.push(t),s||i.push(n),i},BL=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!i)return null;var m="scaleBand"===o&&i.bandwidth?i.bandwidth()/2:2,p=(t||n)&&"category"===a&&i.bandwidth?i.bandwidth()/m:0;return p="angleAxis"===f&&s&&s.length>=2?2*GI(s[0]-s[1])*p:p,t&&(d||h)?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:i(n)+p,value:e,offset:p,index:t}}).filter(e=>!QI(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:i(e)+p,value:e,index:t,offset:p})):i.ticks&&!n&&null!=u?i.ticks(u).map((e,t)=>({coordinate:i(e)+p,value:e,offset:p,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+p,value:r?r[e]:e,index:t,offset:p}))},VL=1e-4,HL={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,i=0;i<t;++i){var o=QI(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=s,e[i][n][1]=s+o,s=e[i][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,i=e[0].length;s<i;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}xL(e,t)}},none:xL,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var i=0,o=0;i<n;++i)o+=e[i][r][1]||0;a[r][1]+=a[r][0]=-o/2}xL(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,i=1;i<r;++i){for(var o=0,l=0,c=0;o<a;++o){for(var u=e[t[o]],d=u[i][1]||0,h=(d-(u[i-1][1]||0))/2,f=0;f<o;++f){var m=e[t[f]];h+=(m[i][1]||0)-(m[i-1][1]||0)}l+=d,c+=h*d}n[i-1][1]+=n[i-1][0]=s,l&&(s-=c/l)}n[i-1][1]+=n[i-1][0]=s,xL(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var i=QI(e[s][n][1])?e[s][n][0]:e[s][n][1];i>=0?(e[s][n][0]=a,e[s][n][1]=a+i,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},WL=(e,t,n)=>{var r=HL[n],a=function(){var e=wL([]),t=NL,n=xL,r=SL;function a(a){var s,i,o=Array.from(e.apply(this,arguments),EL),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(e,o[s].key,c,a)]).data=e;for(s=0,i=bL(t(o));s<l;++s)o[i[s]].index=s;return n(o,i),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:wL(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:wL(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?NL:"function"===typeof e?e:wL(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?xL:e,a):n},a}().keys(t).value((e,t)=>+FL(e,t,0)).order(NL).offset(r);return a(e)};function GL(e){return null==e?void 0:String(e)}function QL(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:i}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!rP(a[t.dataKey])){var o=nP(n,"value",a[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=FL(a,rP(i)?t.dataKey:i);return rP(l)?null:t.scale(l)}var KL=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:s,index:i}=e;if("category"===t.type)return n[i]?n[i].coordinate+r:null;var o=FL(s,t.dataKey,t.scale.domain()[i]);return rP(o)?null:t.scale(o)-a/2+r},YL=(e,t,n)=>{var r;if(null!=e)return r=Object.keys(e).reduce((r,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((e,r)=>{var a=(e=>{var t=e.flat(2).filter(YI);return[Math.min(...t),Math.max(...t)]})(RL(r,t,n));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]),[r[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},XL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$L=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JL=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=gL()(t,e=>e.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function ZL(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return LL(LL({},t),{},{dataKey:n,payload:r,value:a,name:s})}function ez(e,t){return e?String(e):"string"===typeof t?t:void 0}var tz=e=>e.layout.width,nz=e=>e.layout.height,rz=e=>e.layout.scale,az=e=>e.layout.margin,sz=sL(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),iz=sL(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oz="data-recharts-item-index",lz="data-recharts-item-data-key";function cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cz(Object(n),!0).forEach(function(t){dz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hz=sL([tz,nz,az,e=>e.brush.height,function(e){return iz(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return iz(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return sz(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return sz(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},vL,e=>e.legend.size],(e,t,n,r,a,s,i,o,l,c)=>{var u={left:(n.left||0)+a,right:(n.right||0)+s},d=uz(uz({},{top:(n.top||0)+i,bottom:(n.bottom||0)+o}),u),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:i,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===i)&&"center"!==s&&YI(e[s]))return LL(LL({},e),{},{[s]:e[s]+(r||0)});if(("horizontal"===o||"vertical"===o&&"center"===s)&&"middle"!==i&&YI(e[i]))return LL(LL({},e),{},{[i]:e[i]+(a||0)})}return e})(d,l,c);var f=e-d.left-d.right,m=t-d.top-d.bottom;return uz(uz({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(m,0)})}),fz=sL(hz,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),mz=sL(tz,nz,(e,t)=>({x:0,y:0,width:e,height:t})),pz=(0,t.createContext)(null),gz=()=>null!=(0,t.useContext)(pz),vz=e=>e.brush,yz=sL([vz,hz,az],(e,t,n)=>({height:e.height,x:YI(e.x)?e.x:t.left,y:YI(e.y)?e.y:t.top+t.height+t.brushBottom-((null===n||void 0===n?void 0:n.bottom)||0),width:YI(e.width)?e.width:t.width})),xz=()=>{var e,t=gz(),n=mL(fz),r=mL(yz),a=null===(e=mL(vz))||void 0===e?void 0:e.padding;return t&&r&&a?{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}:n},bz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wz=()=>{var e;return null!==(e=mL(hz))&&void 0!==e?e:bz},Nz=()=>mL(tz),Sz=()=>mL(nz),Ez=e=>e.layout.layoutType,kz=()=>mL(Ez),jz=e=>{var n=uL(),r=gz(),{width:a,height:s}=e,i=xP(),o=a,l=s;return i&&(o=i.width>0?i.width:a,l=i.height>0?i.height:s),(0,t.useEffect)(()=>{!r&&hP(o)&&hP(l)&&n(YM({width:o,height:l}))},[n,r,o,l]),null},Tz=n(8354),_z=n.n(Tz);function Cz(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Az(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Oz extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rz;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Iz(this,e))}has(e){return super.has(Iz(this,e))}set(e,t){return super.set(Pz(this,e),t)}delete(e){return super.delete(Dz(this,e))}}Set;function Iz(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function Pz(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Dz(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function Rz(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Mz=Symbol("implicit");function Lz(){var e=new Oz,t=[],n=[],r=Mz;function a(a){let s=e.get(a);if(void 0===s){if(r!==Mz)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Oz;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return Lz(t,n).unknown(r)},Cz.apply(a,arguments),a}function zz(){var e,t,n=Lz().unknown(void 0),r=n.domain,a=n.range,s=0,i=1,o=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=i<s,h=d?i:s,f=d?s:i;e=(f-h)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var m=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return h+e*t});return a(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,d()):[s,i]},n.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,d()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return zz(r(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Cz.apply(d(),arguments)}function Fz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Fz(t())},e}function Uz(){return Fz(zz.apply(null,arguments).paddingInner(1))}const qz=Math.sqrt(50),Bz=Math.sqrt(10),Vz=Math.sqrt(2);function Hz(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),i=s>=qz?10:s>=Bz?5:s>=Vz?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Hz(e,t,2*n):[o,l,c]}function Wz(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,i]=r?Hz(t,e,n):Hz(e,t,n);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(r)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function Gz(e,t,n){return Hz(e=+e,t=+t,n=+n)[2]}function Qz(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Gz(t,e,n):Gz(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Kz(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yz(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xz(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=Kz,n=(t,n)=>Kz(e(t),n),r=(t,n)=>e(t)-n):(t=e===Kz||e===Yz?e:$z,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function $z(){return 0}function Jz(e){return null===e?NaN:+e}const Zz=Xz(Kz),eF=Zz.right,tF=(Zz.left,Xz(Jz).center,eF);function nF(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function aF(){}var sF=.7,iF=1/sF,oF="\\s*([+-]?\\d+)\\s*",lF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uF=/^#([0-9a-f]{3,8})$/,dF=new RegExp("^rgb\\(".concat(oF,",").concat(oF,",").concat(oF,"\\)$")),hF=new RegExp("^rgb\\(".concat(cF,",").concat(cF,",").concat(cF,"\\)$")),fF=new RegExp("^rgba\\(".concat(oF,",").concat(oF,",").concat(oF,",").concat(lF,"\\)$")),mF=new RegExp("^rgba\\(".concat(cF,",").concat(cF,",").concat(cF,",").concat(lF,"\\)$")),pF=new RegExp("^hsl\\(".concat(lF,",").concat(cF,",").concat(cF,"\\)$")),gF=new RegExp("^hsla\\(".concat(lF,",").concat(cF,",").concat(cF,",").concat(lF,"\\)$")),vF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yF(){return this.rgb().formatHex()}function xF(){return this.rgb().formatRgb()}function bF(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?wF(t):3===n?new EF(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?NF(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?NF(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dF.exec(e))?new EF(t[1],t[2],t[3],1):(t=hF.exec(e))?new EF(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=fF.exec(e))?NF(t[1],t[2],t[3],t[4]):(t=mF.exec(e))?NF(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=pF.exec(e))?AF(t[1],t[2]/100,t[3]/100,1):(t=gF.exec(e))?AF(t[1],t[2]/100,t[3]/100,t[4]):vF.hasOwnProperty(e)?wF(vF[e]):"transparent"===e?new EF(NaN,NaN,NaN,0):null}function wF(e){return new EF(e>>16&255,e>>8&255,255&e,1)}function NF(e,t,n,r){return r<=0&&(e=t=n=NaN),new EF(e,t,n,r)}function SF(e,t,n,r){return 1===arguments.length?((a=e)instanceof aF||(a=bF(a)),a?new EF((a=a.rgb()).r,a.g,a.b,a.opacity):new EF):new EF(e,t,n,null==r?1:r);var a}function EF(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function kF(){return"#".concat(CF(this.r)).concat(CF(this.g)).concat(CF(this.b))}function jF(){const e=TF(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(_F(this.r),", ").concat(_F(this.g),", ").concat(_F(this.b)).concat(1===e?")":", ".concat(e,")"))}function TF(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _F(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function CF(e){return((e=_F(e))<16?"0":"")+e.toString(16)}function AF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new IF(e,t,n,r)}function OF(e){if(e instanceof IF)return new IF(e.h,e.s,e.l,e.opacity);if(e instanceof aF||(e=bF(e)),!e)return new IF;if(e instanceof IF)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(n-r)/o+6*(n<r):n===s?(r-t)/o+2:(t-n)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new IF(i,o,l,e.opacity)}function IF(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function PF(e){return(e=(e||0)%360)<0?e+360:e}function DF(e){return Math.max(0,Math.min(1,e||0))}function RF(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function MF(e,t,n,r,a){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*n+(1+3*e+3*s-3*i)*r+i*a)/6}nF(aF,bF,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yF,formatHex:yF,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return OF(this).formatHsl()},formatRgb:xF,toString:xF}),nF(EF,SF,rF(aF,{brighter(e){return e=null==e?iF:Math.pow(iF,e),new EF(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?sF:Math.pow(sF,e),new EF(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new EF(_F(this.r),_F(this.g),_F(this.b),TF(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kF,formatHex:kF,formatHex8:function(){return"#".concat(CF(this.r)).concat(CF(this.g)).concat(CF(this.b)).concat(CF(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:jF,toString:jF})),nF(IF,function(e,t,n,r){return 1===arguments.length?OF(e):new IF(e,t,n,null==r?1:r)},rF(aF,{brighter(e){return e=null==e?iF:Math.pow(iF,e),new IF(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?sF:Math.pow(sF,e),new IF(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new EF(RF(e>=240?e-240:e+120,a,r),RF(e,a,r),RF(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new IF(PF(this.h),DF(this.s),DF(this.l),TF(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=TF(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(PF(this.h),", ").concat(100*DF(this.s),"%, ").concat(100*DF(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const LF=e=>()=>e;function zF(e,t){return function(n){return e+n*t}}function FF(e){return 1===(e=+e)?UF:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):LF(isNaN(t)?n:t)}}function UF(e,t){var n=t-e;return n?zF(e,n):LF(isNaN(e)?t:e)}const qF=function e(t){var n=FF(t);function r(e,t){var r=n((e=SF(e)).r,(t=SF(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),i=UF(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function BF(e){return function(t){var n,r,a=t.length,s=new Array(a),i=new Array(a),o=new Array(a);for(n=0;n<a;++n)r=SF(t[n]),s[n]=r.r||0,i[n]=r.g||0,o[n]=r.b||0;return s=e(s),i=e(i),o=e(o),r.opacity=1,function(e){return r.r=s(e),r.g=i(e),r.b=o(e),r+""}}}BF(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],i=r>0?e[r-1]:2*a-s,o=r<t-1?e[r+2]:2*s-a;return MF((n-r/t)*t,i,a,s,o)}}),BF(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],i=e[(r+1)%t],o=e[(r+2)%t];return MF((n-r/t)*t,a,s,i,o)}});function VF(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r);for(n=0;n<a;++n)s[n]=$F(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=s[n](e);return i}}function HF(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function WF(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GF(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=$F(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var QF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KF=new RegExp(QF.source,"g");function YF(e,t){var n,r,a,s=QF.lastIndex=KF.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(n=QF.exec(e))&&(r=KF.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(n=n[0])===(r=r[0])?o[i]?o[i]+=r:o[++i]=r:(o[++i]=null,l.push({i:i,x:WF(n,r)})),s=KF.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function XF(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function $F(e,t){var n,r=typeof t;return null==t||"boolean"===r?LF(t):("number"===r?WF:"string"===r?(n=bF(t))?(t=n,qF):YF:t instanceof bF?qF:t instanceof Date?HF:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?XF:Array.isArray(t)?VF:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?GF:WF)(e,t)}function JF(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ZF(e){return+e}var eU=[0,1];function tU(e){return e}function nU(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function rU(e,t,n){var r=e[0],a=e[1],s=t[0],i=t[1];return a<r?(r=nU(a,r),s=n(i,s)):(r=nU(r,a),s=n(s,i)),function(e){return s(r(e))}}function aU(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=nU(e[i],e[i+1]),s[i]=n(t[i],t[i+1]);return function(t){var n=tF(e,t,1,r)-1;return s[n](a[n](t))}}function sU(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function iU(){var e,t,n,r,a,s,i=eU,o=eU,l=$F,c=tU;function u(){var e=Math.min(i.length,o.length);return c!==tU&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(i[0],i[e-1])),r=e>2?aU:rU,a=s=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),o,l)))(e(c(t)))}return d.invert=function(n){return c(t((s||(s=r(o,i.map(e),WF)))(n)))},d.domain=function(e){return arguments.length?(i=Array.from(e,ZF),u()):i.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=JF,u()},d.clamp=function(e){return arguments.length?(c=!!e||tU,u()):c!==tU},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function oU(){return iU()(tU,tU)}var lU,cU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uU(e){if(!(t=cU.exec(e)))throw new Error("invalid format: "+e);var t;return new dU({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function dU(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function hU(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fU(e){return(e=hU(Math.abs(e)))?e[1]:NaN}function mU(e,t){var n=hU(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}uU.prototype=dU.prototype,dU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const pU={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mU(100*e,t),r:mU,s:function(e,t){var n=hU(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(lU=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return s===i?r:s>i?r+new Array(s-i+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+hU(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gU(e){return e}var vU,yU,xU,bU=Array.prototype.map,wU=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function NU(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?gU:(t=bU.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[i=(i+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?gU:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(bU.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=uU(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,m=e.width,p=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(p=!0,y="g"):pU[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?s:/[%p]/.test(y)?l:"",w=pU[y],N=/[defgprs%]/.test(y);function S(e){var a,s,l,h=x,S=b;if("c"===y)S=w(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===y?wU[8+lU/3]:"")+S+(E&&"("===d?")":""),N)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){S=(46===l?i+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}p&&!f&&(e=r(e,1/0));var k=h.length+e.length+S.length,j=k<m?new Array(m-k+1).join(t):"";switch(p&&f&&(e=r(j+e,j.length?m-S.length:1/0),j=""),n){case"<":e=h+e+S+j;break;case"=":e=h+j+e+S;break;case"^":e=j.slice(0,k=j.length>>1)+h+e+S+j.slice(k);break;default:e=j+h+e+S}return o(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=uU(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(fU(t)/3))),a=Math.pow(10,-r),s=wU[8+r/3];return function(e){return n(a*e)+s}}}}function SU(e,t,n,r){var a,s=Qz(e,t,n);switch((r=uU(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fU(t)/3)))-fU(Math.abs(e)))}(s,i))||(r.precision=a),xU(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fU(t)-fU(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-fU(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return yU(r)}function EU(e){var t=e.domain;return e.ticks=function(e){var n=t();return Wz(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return SU(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],u=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);u-- >0;){if((a=Gz(l,c,n))===r)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function kU(){var e=oU();return e.copy=function(){return sU(e,kU())},Cz.apply(e,arguments),EU(e)}function jU(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,ZF),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return jU(e).unknown(t)},e=arguments.length?Array.from(e,ZF):[0,1],EU(n)}function TU(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],i=e[a];return i<s&&(n=r,r=a,a=n,n=s,s=i,i=n),e[r]=t.floor(s),e[a]=t.ceil(i),e}function _U(e){return Math.log(e)}function CU(e){return Math.exp(e)}function AU(e){return-Math.log(-e)}function OU(e){return-Math.exp(-e)}function IU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PU(e){return(t,n)=>-e(-t,n)}function DU(e){const t=e(_U,CU),n=t.domain;let r,a,s=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?IU:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=PU(r),a=PU(a),e(AU,OU)):e(_U,CU),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,u,d=r(i),h=r(o);const f=null==e?10:+e;let m=[];if(!(s%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),i>0){for(;d<=h;++d)for(c=1;c<s;++c)if(u=d<0?c/a(-d):c*a(d),!(u<i)){if(u>o)break;m.push(u)}}else for(;d<=h;++d)for(c=s-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<i)){if(u>o)break;m.push(u)}2*m.length<f&&(m=Wz(i,o,f))}else m=Wz(d,h,Math.min(h-d,f)).map(a);return l?m.reverse():m},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=uU(n)).precision||(n.trim=!0),n=yU(n)),e===1/0)return n;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=i?n(e):""}},t.nice=()=>n(TU(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function RU(){const e=DU(iU()).domain([1,10]);return e.copy=()=>sU(e,RU()).base(e.base()),Cz.apply(e,arguments),e}function MU(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LU(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zU(e){var t=1,n=e(MU(t),LU(t));return n.constant=function(n){return arguments.length?e(MU(t=+n),LU(t)):t},EU(n)}function FU(){var e=zU(iU());return e.copy=function(){return sU(e,FU()).constant(e.constant())},Cz.apply(e,arguments)}function UU(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BU(e){return e<0?-e*e:e*e}function VU(e){var t=e(tU,tU),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(tU,tU):.5===n?e(qU,BU):e(UU(n),UU(1/n)):n},EU(t)}function HU(){var e=VU(iU());return e.copy=function(){return sU(e,HU()).exponent(e.exponent())},Cz.apply(e,arguments),e}function WU(){return HU.apply(null,arguments).exponent(.5)}function GU(e){return Math.sign(e)*e*e}function QU(){var e,t=oU(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(GU(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,ZF)).map(GU)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return QU(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Cz.apply(a,arguments),EU(a)}function KU(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function YU(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function XU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kz;if(e===Kz)return $U;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function $U(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function JU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?$U:XU(a);r>n;){if(r-n>600){const s=r-n+1,i=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);JU(e,t,Math.max(n,Math.floor(t-i*l/s+c)),Math.min(r,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=n,o=r;for(ZU(e,n,t),a(e[r],s)>0&&ZU(e,n,r);i<o;){for(ZU(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[n],s)?ZU(e,n,o):(++o,ZU(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function ZU(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function eq(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return YU(e);if(t>=1)return KU(e);var r,a=(r-1)*t,s=Math.floor(a),i=KU(JU(e,s).subarray(0,s+1));return i+(YU(e.subarray(s+1))-i)*(a-s)}}function tq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jz;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),i=+n(e[s],s,e);return i+(+n(e[s+1],s+1,e)-i)*(a-s)}}function nq(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=tq(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:n[tF(r,t)]}return s.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Kz),a()},s.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return nq().domain(t).range(n).unknown(e)},Cz.apply(s,arguments)}function rq(){var e,t=0,n=1,r=1,a=[.5],s=[0,1];function i(t){return null!=t&&t<=t?s[tF(a,t,0,r)]:e}function o(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return i}return i.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},i.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,o()):s.slice()},i.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=r?[a[r-1],n]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return rq().domain([t,n]).range(s).unknown(e)},Cz.apply(EU(i),arguments)}function aq(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[tF(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return aq().domain(t).range(n).unknown(e)},Cz.apply(a,arguments)}vU=NU({thousands:",",grouping:[3],currency:["$",""]}),yU=vU.format,xU=vU.formatPrefix;const sq=1e3,iq=6e4,oq=36e5,lq=864e5,cq=6048e5,uq=2592e6,dq=31536e6,hq=new Date,fq=new Date;function mq(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const i=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return i;let o;do{i.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<r);return i},a.filter=n=>mq(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(hq.setTime(+t),fq.setTime(+r),e(hq),e(fq),Math.floor(n(hq,fq))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const pq=mq(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pq.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?mq(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pq:null);pq.range;const gq=mq(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sq)},(e,t)=>(t-e)/sq,e=>e.getUTCSeconds()),vq=(gq.range,mq(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sq)},(e,t)=>{e.setTime(+e+t*iq)},(e,t)=>(t-e)/iq,e=>e.getMinutes())),yq=(vq.range,mq(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*iq)},(e,t)=>(t-e)/iq,e=>e.getUTCMinutes())),xq=(yq.range,mq(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sq-e.getMinutes()*iq)},(e,t)=>{e.setTime(+e+t*oq)},(e,t)=>(t-e)/oq,e=>e.getHours())),bq=(xq.range,mq(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oq)},(e,t)=>(t-e)/oq,e=>e.getUTCHours())),wq=(bq.range,mq(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*iq)/lq,e=>e.getDate()-1)),Nq=(wq.range,mq(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lq,e=>e.getUTCDate()-1)),Sq=(Nq.range,mq(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lq,e=>Math.floor(e/lq)));Sq.range;function Eq(e){return mq(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*iq)/cq)}const kq=Eq(0),jq=Eq(1),Tq=Eq(2),_q=Eq(3),Cq=Eq(4),Aq=Eq(5),Oq=Eq(6);kq.range,jq.range,Tq.range,_q.range,Cq.range,Aq.range,Oq.range;function Iq(e){return mq(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/cq)}const Pq=Iq(0),Dq=Iq(1),Rq=Iq(2),Mq=Iq(3),Lq=Iq(4),zq=Iq(5),Fq=Iq(6),Uq=(Pq.range,Dq.range,Rq.range,Mq.range,Lq.range,zq.range,Fq.range,mq(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),qq=(Uq.range,mq(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Bq=(qq.range,mq(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Bq.every=e=>isFinite(e=Math.floor(e))&&e>0?mq(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;Bq.range;const Vq=mq(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vq.every=e=>isFinite(e=Math.floor(e))&&e>0?mq(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Vq.range;function Hq(e,t,n,r,a,s){const i=[[gq,1,sq],[gq,5,5e3],[gq,15,15e3],[gq,30,3e4],[s,1,iq],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,oq],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,lq],[r,2,1728e5],[n,1,cq],[t,1,uq],[t,3,7776e6],[e,1,dq]];function o(t,n,r){const a=Math.abs(n-t)/r,s=Xz(e=>{let[,,t]=e;return t}).right(i,a);if(s===i.length)return e.every(Qz(t/dq,n/dq,r));if(0===s)return pq.every(Math.max(Qz(t,n,r),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:o(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},o]}const[Wq,Gq]=Hq(Vq,qq,Pq,Sq,bq,yq),[Qq,Kq]=Hq(Bq,Uq,kq,wq,xq,vq);function Yq(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xq(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $q(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Jq,Zq,eB,tB={"-":"",_:" ",0:"0"},nB=/^\s*\d+/,rB=/^%/,aB=/[\\^$*+?|[\]().{}]/g;function sB(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function iB(e){return e.replace(aB,"\\$&")}function oB(e){return new RegExp("^(?:"+e.map(iB).join("|")+")","i")}function lB(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function cB(e,t,n){var r=nB.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uB(e,t,n){var r=nB.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function mB(e,t,n){var r=nB.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function pB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vB(e,t,n){var r=nB.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function yB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function bB(e,t,n){var r=nB.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function NB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function SB(e,t,n){var r=nB.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function EB(e,t,n){var r=nB.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kB(e,t,n){var r=nB.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jB(e,t,n){var r=rB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function TB(e,t,n){var r=nB.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _B(e,t,n){var r=nB.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function CB(e,t){return sB(e.getDate(),t,2)}function AB(e,t){return sB(e.getHours(),t,2)}function OB(e,t){return sB(e.getHours()%12||12,t,2)}function IB(e,t){return sB(1+wq.count(Bq(e),e),t,3)}function PB(e,t){return sB(e.getMilliseconds(),t,3)}function DB(e,t){return PB(e,t)+"000"}function RB(e,t){return sB(e.getMonth()+1,t,2)}function MB(e,t){return sB(e.getMinutes(),t,2)}function LB(e,t){return sB(e.getSeconds(),t,2)}function zB(e){var t=e.getDay();return 0===t?7:t}function FB(e,t){return sB(kq.count(Bq(e)-1,e),t,2)}function UB(e){var t=e.getDay();return t>=4||0===t?Cq(e):Cq.ceil(e)}function qB(e,t){return e=UB(e),sB(Cq.count(Bq(e),e)+(4===Bq(e).getDay()),t,2)}function BB(e){return e.getDay()}function VB(e,t){return sB(jq.count(Bq(e)-1,e),t,2)}function HB(e,t){return sB(e.getFullYear()%100,t,2)}function WB(e,t){return sB((e=UB(e)).getFullYear()%100,t,2)}function GB(e,t){return sB(e.getFullYear()%1e4,t,4)}function QB(e,t){var n=e.getDay();return sB((e=n>=4||0===n?Cq(e):Cq.ceil(e)).getFullYear()%1e4,t,4)}function KB(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sB(t/60|0,"0",2)+sB(t%60,"0",2)}function YB(e,t){return sB(e.getUTCDate(),t,2)}function XB(e,t){return sB(e.getUTCHours(),t,2)}function $B(e,t){return sB(e.getUTCHours()%12||12,t,2)}function JB(e,t){return sB(1+Nq.count(Vq(e),e),t,3)}function ZB(e,t){return sB(e.getUTCMilliseconds(),t,3)}function eV(e,t){return ZB(e,t)+"000"}function tV(e,t){return sB(e.getUTCMonth()+1,t,2)}function nV(e,t){return sB(e.getUTCMinutes(),t,2)}function rV(e,t){return sB(e.getUTCSeconds(),t,2)}function aV(e){var t=e.getUTCDay();return 0===t?7:t}function sV(e,t){return sB(Pq.count(Vq(e)-1,e),t,2)}function iV(e){var t=e.getUTCDay();return t>=4||0===t?Lq(e):Lq.ceil(e)}function oV(e,t){return e=iV(e),sB(Lq.count(Vq(e),e)+(4===Vq(e).getUTCDay()),t,2)}function lV(e){return e.getUTCDay()}function cV(e,t){return sB(Dq.count(Vq(e)-1,e),t,2)}function uV(e,t){return sB(e.getUTCFullYear()%100,t,2)}function dV(e,t){return sB((e=iV(e)).getUTCFullYear()%100,t,2)}function hV(e,t){return sB(e.getUTCFullYear()%1e4,t,4)}function fV(e,t){var n=e.getUTCDay();return sB((e=n>=4||0===n?Lq(e):Lq.ceil(e)).getUTCFullYear()%1e4,t,4)}function mV(){return"+0000"}function pV(){return"%"}function gV(e){return+e}function vV(e){return Math.floor(+e/1e3)}function yV(e){return new Date(e)}function xV(e){return e instanceof Date?+e:+new Date(+e)}function bV(e,t,n,r,a,s,i,o,l,c){var u=oU(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),x=c("%B"),b=c("%Y");function w(e){return(l(e)<e?f:o(e)<e?m:i(e)<e?p:s(e)<e?g:r(e)<e?a(e)<e?v:y:n(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,xV)):h().map(yV)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(TU(n,e)):u},u.copy=function(){return sU(u,bV(e,t,n,r,a,s,i,o,l,c))},u}function wV(){return Cz.apply(bV(Qq,Kq,Bq,Uq,kq,wq,xq,vq,gq,Zq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NV(){return Cz.apply(bV(Wq,Gq,Vq,qq,Pq,Nq,bq,yq,gq,eB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function SV(){var e,t,n,r,a,s=0,i=1,o=tU,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=r(s=+s),t=r(i=+i),n=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u($F),c.rangeRound=u(JF),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(i),n=e===t?0:1/(t-e),c}}function EV(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kV(){var e=EU(SV()(tU));return e.copy=function(){return EV(e,kV())},Az.apply(e,arguments)}function jV(){var e=DU(SV()).domain([1,10]);return e.copy=function(){return EV(e,jV()).base(e.base())},Az.apply(e,arguments)}function TV(){var e=zU(SV());return e.copy=function(){return EV(e,TV()).constant(e.constant())},Az.apply(e,arguments)}function _V(){var e=VU(SV());return e.copy=function(){return EV(e,_V()).exponent(e.exponent())},Az.apply(e,arguments)}function CV(){return _V.apply(null,arguments).exponent(.5)}function AV(){var e=[],t=tU;function n(n){if(null!=n&&!isNaN(n=+n))return t((tF(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Kz),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>eq(e,r/t))},n.copy=function(){return AV(t).domain(e)},Az.apply(n,arguments)}function OV(){var e,t,n,r,a,s,i,o=0,l=.5,c=1,u=1,d=tU,h=!1;function f(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(u*e<u*t?r:a),d(h?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=$F);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=m($F),f.rangeRound=m(JF),f.unknown=function(e){return arguments.length?(i=e,f):i},function(i){return s=i,e=i(o),t=i(l),n=i(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function IV(){var e=EU(OV()(tU));return e.copy=function(){return EV(e,IV())},Az.apply(e,arguments)}function PV(){var e=DU(OV()).domain([.1,1,10]);return e.copy=function(){return EV(e,PV()).base(e.base())},Az.apply(e,arguments)}function DV(){var e=zU(OV());return e.copy=function(){return EV(e,DV()).constant(e.constant())},Az.apply(e,arguments)}function RV(){var e=VU(OV());return e.copy=function(){return EV(e,RV()).exponent(e.exponent())},Az.apply(e,arguments)}function MV(){return RV.apply(null,arguments).exponent(.5)}function LV(e){return null!=e}!function(e){Jq=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=oB(a),u=lB(a),d=oB(s),h=lB(s),f=oB(i),m=lB(i),p=oB(o),g=lB(o),v=oB(l),y=lB(l),x={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:CB,e:CB,f:DB,g:WB,G:QB,H:AB,I:OB,j:IB,L:PB,m:RB,M:MB,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:gV,s:vV,S:LB,u:zB,U:FB,V:qB,w:BB,W:VB,x:null,X:null,y:HB,Y:GB,Z:KB,"%":pV},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:YB,e:YB,f:eV,g:dV,G:fV,H:XB,I:$B,j:JB,L:ZB,m:tV,M:nV,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:gV,s:vV,S:rV,u:aV,U:sV,V:oV,w:lV,W:cV,x:null,X:null,y:uV,Y:hV,Z:mV,"%":pV},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:xB,e:xB,f:kB,g:pB,G:mB,H:wB,I:wB,j:bB,L:EB,m:yB,M:NB,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:vB,Q:TB,s:_B,S:SB,u:uB,U:dB,V:hB,w:cB,W:fB,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:pB,Y:mB,Z:gB,"%":jB};function N(e,t){return function(n){var r,a,s,i=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=tB[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),i.push(r),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function S(e,t){return function(n){var r,a,s=$q(1900,void 0,1);if(E(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=Xq($q(s.y,0,1))).getUTCDay(),r=a>4||0===a?Dq.ceil(r):Dq(r),r=Nq.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=Yq($q(s.y,0,1))).getDay(),r=a>4||0===a?jq.ceil(r):jq(r),r=wq.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?Xq($q(s.y,0,1)).getUTCDay():Yq($q(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Xq(s)):Yq(s)}}function E(e,t,n,r){for(var a,s,i=0,o=t.length,l=n.length;i<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=w[a in tB?t.charAt(i++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return x.x=N(n,x),x.X=N(r,x),x.c=N(t,x),b.x=N(n,b),b.X=N(r,b),b.c=N(t,b),{format:function(e){var t=N(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=N(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),Zq=Jq.format,Jq.parse,eB=Jq.utcFormat,Jq.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var zV=e=>e.chartData,FV=sL([zV],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),UV=(e,t,n,r)=>r?FV(e):zV(e);function qV(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(dP(t)&&dP(n))return!0}return!1}function BV(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function VV(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var n,r,[a,s]=e;if(dP(a))n=a;else if("function"===typeof a)return;if(dP(s))r=s;else if("function"===typeof s)return;var i=[n,r];if(qV(i))return i}}var HV=n(4441),WV=n.n(HV),GV=e=>e,QV={"@@functional/placeholder":!0},KV=e=>e===QV,YV=e=>function t(){return 0===arguments.length||1===arguments.length&&KV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XV=(e,t)=>1===e?t:YV(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(e=>e!==QV).length;return s>=e?t(...r):XV(e-s,YV(function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=r.map(e=>KV(e)?n.shift():e);return t(...s,...n)}))}),$V=e=>XV(e.length,e),JV=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ZV=$V((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),eH=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),tH=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=a,n=e(...a))}};function nH(e){return 0===e?1:Math.floor(new(WV())(e).abs().log(10).toNumber())+1}function rH(e,t,n){for(var r=new(WV())(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}$V((e,t,n)=>{var r=+e;return r+n*(+t-r)}),$V((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),$V((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var aH=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},sH=(e,t,n)=>{if(e.lte(0))return new(WV())(0);var r=nH(e.toNumber()),a=new(WV())(10).pow(r),s=e.div(a),i=1!==r?.05:.1,o=new(WV())(Math.ceil(s.div(i).toNumber())).add(n).mul(i).mul(a);return t?new(WV())(o.toNumber()):new(WV())(Math.ceil(o.toNumber()))},iH=(e,t,n)=>{var r=new(WV())(1),a=new(WV())(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new(WV())(10).pow(nH(e)-1),a=new(WV())(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new(WV())(Math.floor(e)))}else 0===e?a=new(WV())(Math.floor((t-1)/2)):n||(a=new(WV())(Math.floor(e)));var i=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return GV;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce((e,t)=>t(e),a(...arguments))}}(ZV(e=>a.add(new(WV())(e-i).mul(r)).toNumber()),JV)(0,t)},oH=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(WV())(0),tickMin:new(WV())(0),tickMax:new(WV())(0)};var s,i=sH(new(WV())(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new(WV())(0):(s=new(WV())(e).add(t).div(2)).sub(new(WV())(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new(WV())(t).sub(s).div(i).toNumber()),c=o+l+1;return c>n?oH(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:i,tickMin:s.sub(new(WV())(o).mul(i)),tickMax:s.add(new(WV())(l).mul(i))})};var lH=tH(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Math.max(r,2),[i,o]=aH([t,n]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...JV(0,r-1).map(()=>1/0)]:[...JV(0,r-1).map(()=>-1/0),o];return t>n?eH(l):l}if(i===o)return iH(i,r,a);var{step:c,tickMin:u,tickMax:d}=oH(i,o,s,a,0),h=rH(u,d.add(new(WV())(.1).mul(c)),c);return t>n?eH(h):h}),cH=tH(function(e,t){var[n,r]=e,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[s,i]=aH([n,r]);if(s===-1/0||i===1/0)return[n,r];if(s===i)return[s];var o=Math.max(t,2),l=sH(new(WV())(i).sub(s).div(o-1),a,0),c=[...rH(new(WV())(s),new(WV())(i),l),i];return!1===a&&(c=c.map(e=>Math.round(e))),n>r?eH(c):c}),uH=e=>e.rootProps.maxBarSize,dH=e=>e.rootProps.barCategoryGap,hH=e=>e.rootProps.stackOffset,fH=e=>e.options.chartName,mH=e=>e.rootProps.syncId,pH=e=>e.rootProps.syncMethod,gH=e=>e.options.eventEmitter,vH=0,yH="auto",xH=!0,bH=!1,wH=!0,NH=0,SH="auto",EH=!0,kH=5,jH=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},TH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vH,includeHidden:!1,name:void 0,reversed:!1,scale:yH,tick:xH,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},_H={allowDataOverflow:bH,allowDecimals:!1,allowDuplicatedCategory:wH,dataKey:void 0,domain:void 0,id:NH,includeHidden:!1,name:void 0,reversed:!1,scale:SH,tick:EH,tickCount:kH,ticks:void 0,type:"number",unit:void 0},CH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:vH,includeHidden:!1,name:void 0,reversed:!1,scale:yH,tick:xH,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},AH={allowDataOverflow:bH,allowDecimals:!1,allowDuplicatedCategory:wH,dataKey:void 0,domain:void 0,id:NH,includeHidden:!1,name:void 0,reversed:!1,scale:SH,tick:EH,tickCount:kH,ticks:void 0,type:"category",unit:void 0},OH=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?CH:TH,IH=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?AH:_H,PH=e=>e.polarOptions,DH=sL([tz,nz,hz],OL),RH=sL([PH,DH],(e,t)=>{if(null!=e)return ZI(e.innerRadius,t,0)}),MH=sL([PH,DH],(e,t)=>{if(null!=e)return ZI(e.outerRadius,t,.8*t)}),LH=sL([PH],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]}),zH=(sL([OH,LH],jH),sL([DH,RH,MH],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]})),FH=(sL([IH,zH],jH),sL([Ez,PH,RH,MH,tz,nz],(e,t,n,r,a,s)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:ZI(i,a,a/2),cy:ZI(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}})),UH=(e,t)=>t,qH=(e,t,n)=>n;function BH(e){return null===e||void 0===e?void 0:e.id}var VH=e=>{var t=Ez(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},HH=e=>e.tooltip.settings.axisId,WH=e=>{var t=VH(e),n=HH(e);return uW(e,t,n)},GH=sL([WH],e=>null===e||void 0===e?void 0:e.dataKey);function QH(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=n,i=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var o=BH(e);n.forEach((t,n)=>{var r,l=null==s||a?n:String(FL(t,s,null)),c=FL(t,e.dataKey,0);r=i.has(l)?i.get(l):{},Object.assign(r,{[o]:c}),i.set(l,r)})}}),Array.from(i.values())}function KH(e){return null!=e.stackId&&null!=e.dataKey}var YH=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function XH(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}function $H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$H(Object(n),!0).forEach(function(t){ZH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eW=[0,"auto"],tW={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nW=(e,t)=>e.cartesianAxis.xAxis[t],rW=(e,t)=>{var n=nW(e,t);return null==n?tW:n},aW={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:eW,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},sW=(e,t)=>e.cartesianAxis.yAxis[t],iW=(e,t)=>{var n=sW(e,t);return null==n?aW:n},oW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lW=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?oW:n},cW=(e,t,n)=>{switch(t){case"xAxis":return rW(e,n);case"yAxis":return iW(e,n);case"zAxis":return lW(e,n);case"angleAxis":return OH(e,n);case"radiusAxis":return IH(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uW=(e,t,n)=>{switch(t){case"xAxis":return rW(e,n);case"yAxis":return iW(e,n);case"angleAxis":return OH(e,n);case"radiusAxis":return IH(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},dW=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function hW(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var fW=e=>e.graphicalItems.cartesianItems,mW=sL([UH,qH],hW),pW=(e,t,n)=>e.filter(n).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),gW=sL([fW,cW,mW],pW,{memoizeOptions:{resultEqualityCheck:XH}}),vW=sL([gW],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(KH)),yW=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),xW=sL([gW],yW),bW=e=>e.map(e=>e.data).filter(Boolean).flat(1),wW=sL([gW],bW,{memoizeOptions:{resultEqualityCheck:XH}}),NW=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},SW=sL([wW,UV],NW),EW=(e,t,n)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:FL(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:FL(e,t)}))):e.map(e=>({value:e})),kW=sL([SW,cW,gW],EW);function jW(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function TW(e){if(XI(e)||e instanceof Date){var t=Number(e);if(dP(t))return t}}function _W(e){if(Array.isArray(e)){var t=[TW(e[0]),TW(e[1])];return qV(t)?t:void 0}var n=TW(e);if(null!=n)return[n,n]}function CW(e){return e.map(TW).filter(LV)}var AW=sL([vW,UV,WH],QH),OW=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,a]=t,s=a.map(BH);return[r,{stackedData:WL(e,s,n),graphicalItems:a}]}))},IW=sL([AW,vW,hH],OW),PW=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(null==r&&"zAxis"!==n){var i=YL(e,a,s);if(null==i||0!==i[0]||0!==i[1])return i}},DW=sL([cW],e=>e.allowDataOverflow),RW=e=>{var t;if(null==e||!("domain"in e))return eW;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=CW(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:eW},MW=sL([cW],RW),LW=sL([MW,DW],VV),zW=sL([IW,zV,UH,LW],PW,{memoizeOptions:{resultEqualityCheck:YH}}),FW=e=>e.errorBars,UW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var a=r.flat();return[Math.min(...a),Math.max(...a)]}},qW=(e,t,n,r,a)=>{var s,i;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var o,l,c=null===(o=r[n.id])||void 0===o?void 0:o.filter(e=>jW(a,e)),u=FL(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),d=function(e,t,n){return!n||"number"!==typeof t||QI(t)?[]:n.length?CW(n.flatMap(n=>{var r,a,s=FL(e,n.dataKey);if(Array.isArray(s)?[r,a]=s:r=a=s,dP(r)&&dP(a))return[t-r,t+a]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==s||h<s)&&(s=h),(null==i||f>i)&&(i=f)}var m=_W(u);null!=m&&(s=null==s?m[0]:Math.min(s,m[0]),i=null==i?m[1]:Math.max(i,m[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var n=_W(FL(e,t.dataKey));null!=n&&(s=null==s?n[0]:Math.min(s,n[0]),i=null==i?n[1]:Math.max(i,n[1]))}),dP(s)&&dP(i))return[s,i]},BW=sL([SW,cW,xW,FW,UH],qW,{memoizeOptions:{resultEqualityCheck:YH}});function VW(e){var{value:t}=e;if(XI(t)||t instanceof Date)return t}var HW=e=>e.referenceElements.dots,WW=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),GW=sL([HW,UH,qH],WW),QW=e=>e.referenceElements.areas,KW=sL([QW,UH,qH],WW),YW=e=>e.referenceElements.lines,XW=sL([YW,UH,qH],WW),$W=(e,t)=>{var n=CW(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},JW=sL(GW,UH,$W),ZW=(e,t)=>{var n=CW(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},eG=sL([KW,UH],ZW),tG=(e,t)=>{var n=CW(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},nG=sL(XW,UH,tG),rG=sL(JW,nG,eG,(e,t,n)=>UW(e,n,t)),aG=(e,t,n,r,a,s,i,o)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"===typeof e&&null!=t)try{var r=e(t,n);if(qV(r))return BV(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var a,s,[i,o]=e;if("auto"===i)null!=t&&(a=Math.min(...t));else if(YI(i))a=i;else if("function"===typeof i)try{null!=t&&(a=i(null===t||void 0===t?void 0:t[0]))}catch(m){}else if("string"===typeof i&&XL.test(i)){var l=XL.exec(i);if(null==l||null==t)a=void 0;else{var c=+l[1];a=t[0]-c}}else a=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(s=Math.max(...t));else if(YI(o))s=o;else if("function"===typeof o)try{null!=t&&(s=o(null===t||void 0===t?void 0:t[1]))}catch(p){}else if("string"===typeof o&&$L.test(o)){var u=$L.exec(o);if(null==u||null==t)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=null===t||void 0===t?void 0:t[1];var h=[a,s];if(qV(h))return null==t?h:BV(h,t,n)}}}(t,"vertical"===i&&"xAxis"===o||"horizontal"===i&&"yAxis"===o?UW(r,s,a):UW(s,a),e.allowDataOverflow),sG=sL([cW,MW,LW,zW,BW,rG,Ez,UH],aG,{memoizeOptions:{resultEqualityCheck:YH}}),iG=[0,1],oG=(e,t,n,r,a,s,i)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==i){var{dataKey:o,type:l}=e,c=UL(t,s);return c&&null==o?_z()(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(VW).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&eP(r))?_z()(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===a?iG:i}},lG=sL([cW,Ez,SW,kW,hH,UH,sG],oG),cG=(t,n,r,a,s)=>{if(null!=t){var{scale:i,type:o}=t;if("auto"===i)return"radial"===n&&"radiusAxis"===s?"band":"radial"===n&&"angleAxis"===s?"linear":"category"===o&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"===typeof i){var l="scale".concat(aP(i));return l in e?l:"point"}}},uG=sL([cW,Ez,dW,fH,UH],cG);function dG(t,n,r,a){if(null!=r&&null!=a){if("function"===typeof t.scale)return t.scale.copy().domain(r).range(a);var s=function(t){if(null!=t){if(t in e)return e[t]();var n="scale".concat(aP(t));return n in e?e[n]():void 0}}(n);if(null!=s){var i=s.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-VL,s=Math.max(r[0],r[1])+VL,i=e(t[0]),o=e(t[n-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[n-1]])}})(i),i}}}var hG=(e,t,n)=>{var r=RW(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&qV(e)?lH(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&qV(e)?cH(e,t.tickCount,t.allowDecimals):void 0},fG=sL([lG,uW,uG],hG),mG=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null===e||void 0===e?void 0:e.type)&&qV(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],i=t[1],o=n[n.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},pG=sL([cW,lG,fG,UH],mG),gG=sL(kW,cW,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(CW(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(0===a)return 1/0;for(var s=0;s<r.length-1;s++){var i=r[s+1]-r[s];n=Math.min(n,i)}return n/a}}),vG=sL(gG,Ez,dH,hz,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!dP(e))return 0;var s="vertical"===t?r.height:r.width;if("gap"===a)return e*s/2;if("no-gap"===a){var i=ZI(n,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),yG=sL(rW,(e,t)=>{var n=rW(e,t);return null==n||"string"!==typeof n.padding?0:vG(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:a}=e;return"string"===typeof a?{left:t,right:t}:{left:(null!==(n=a.left)&&void 0!==n?n:0)+t,right:(null!==(r=a.right)&&void 0!==r?r:0)+t}}),xG=sL(iW,(e,t)=>{var n=iW(e,t);return null==n||"string"!==typeof n.padding?0:vG(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:a}=e;return"string"===typeof a?{top:t,bottom:t}:{top:(null!==(n=a.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=a.bottom)&&void 0!==r?r:0)+t}}),bG=sL([hz,yG,yz,vz,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),wG=sL([hz,Ez,xG,yz,vz,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:i}=a;return s?[r.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),NG=(e,t,n,r)=>{var a;switch(t){case"xAxis":return bG(e,n,r);case"yAxis":return wG(e,n,r);case"zAxis":return null===(a=lW(e,n))||void 0===a?void 0:a.range;case"angleAxis":return LH(e);case"radiusAxis":return zH(e,n);default:return}},SG=sL([cW,NG],jH),EG=sL([cW,uG,pG,SG],dG);sL([gW,FW,UH],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>jW(n,e)));function kG(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jG=(e,t)=>t,TG=(e,t,n)=>n,_G=sL(sz,jG,TG,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(kG)),CG=sL(iz,jG,TG,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(kG)),AG=(e,t)=>({width:e.width,height:t.height}),OG=sL(hz,rW,AG),IG=sL(nz,hz,_G,jG,TG,(e,t,n,r,a)=>{var s,i={};return n.forEach(n=>{var o=AG(t,n);null==s&&(s=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!a||"bottom"===r&&a;i[n.id]=s-Number(l)*o.height,s+=(l?-1:1)*o.height}),i}),PG=sL(tz,hz,CG,jG,TG,(e,t,n,r,a)=>{var s,i={};return n.forEach(n=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,n);null==s&&(s=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!a||"right"===r&&a;i[n.id]=s-Number(l)*o.width,s+=(l?-1:1)*o.width}),i}),DG=sL([hz,rW,(e,t)=>{var n=rW(e,t);if(null!=n)return IG(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null===n||void 0===n?void 0:n[r];return null==a?{x:e.left,y:0}:{x:e.left,y:a}}}),RG=sL([hz,iW,(e,t)=>{var n=iW(e,t);if(null!=n)return PG(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var a=null===n||void 0===n?void 0:n[r];return null==a?{x:0,y:e.top}:{x:a,y:e.top}}}),MG=sL(hz,iW,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),LG=(e,t,n)=>{switch(t){case"xAxis":return OG(e,n).width;case"yAxis":return MG(e,n).height;default:return}},zG=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:a,type:s,dataKey:i}=n,o=UL(e,r),l=t.map(e=>e.value);return i&&o&&"category"===s&&a&&eP(l)?l:void 0}},FG=sL([Ez,kW,cW,UH],zG),UG=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:a,scale:s}=n;return!UL(e,r)||"number"!==a&&"auto"===s?void 0:t.map(e=>e.value)}},qG=sL([Ez,kW,uW,UH],UG),BG=sL([Ez,(e,t,n)=>{switch(t){case"xAxis":return rW(e,n);case"yAxis":return iW(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uG,EG,FG,qG,NG,fG,UH],(e,t,n,r,a,s,i,o,l)=>{if(null==t)return null;var c=UL(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:n,scale:r}}),VG=sL([Ez,uW,uG,EG,fG,NG,FG,qG,UH],(e,t,n,r,a,s,i,o,l)=>{if(null!=t&&null!=r){var c=UL(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"===typeof r.bandwidth?r.bandwidth()/2:2,m="category"===u&&r.bandwidth?r.bandwidth()/f:0;m="angleAxis"===l&&null!=s&&s.length>=2?2*GI(s[0]-s[1])*m:m;var p=d||a;return p?p.map((e,t)=>{var n=i?i.indexOf(e):e;return{index:t,coordinate:r(n)+m,value:e,offset:m}}).filter(e=>!QI(e.coordinate)):c&&o?o.map((e,t)=>({coordinate:r(e)+m,value:e,index:t,offset:m})):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+m,value:e,offset:m})):r.domain().map((e,t)=>({coordinate:r(e)+m,value:i?i[e]:e,index:t,offset:m}))}}),HG=sL([Ez,uW,EG,NG,FG,qG,UH],(e,t,n,r,a,s,i)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var o=UL(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null===r||void 0===r?void 0:r.length)>=2?2*GI(r[0]-r[1])*c:c,o&&s?s.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}))}}),WG=sL(cW,EG,(e,t)=>{if(null!=e&&null!=t)return JH(JH({},e),{},{scale:t})}),GG=sL([cW,uG,lG,SG],dG),QG=(sL((e,t,n)=>lW(e,n),GG,(e,t)=>{if(null!=e&&null!=t)return JH(JH({},e),{},{scale:t})}),sL([Ez,sz,iz],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),KG=e=>e.options.defaultTooltipEventType,YG=e=>e.options.validateTooltipEventTypes;function XG(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function $G(e,t){return XG(t,KG(e),YG(e))}var JG=(e,t)=>{var n,r=Number(t);if(!QI(r)&&null!=t)return r>=0?null===e||void 0===e||null===(n=e[r])||void 0===n?void 0:n.value:void 0};function ZG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZG(Object(n),!0).forEach(function(t){tQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nQ=(e,t,n,r)=>{if(null==t)return TM;var a=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==a)return TM;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var s=!0===e.settings.active;if(null!=a.index){if(s)return eQ(eQ({},a),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return eQ(eQ({},TM),{},{coordinate:a.coordinate})},rQ=(e,t)=>{var n=null===e||void 0===e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!dP(r))return n;var a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(0,Math.min(r,a)))},aQ=(e,t,n,r,a,s,i,o)=>{if(null!=s&&null!=o){var l=i[0],c=null==l?void 0:o(l.positions,s);if(null!=c)return c;var u=null===a||void 0===a?void 0:a[Number(s)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},sQ=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(a="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===a});var a},iQ=e=>e.options.tooltipPayloadSearcher,oQ=e=>e.tooltip;function lQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lQ(Object(n),!0).forEach(function(t){uQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dQ=(e,t,n,r,a,s,i)=>{if(null!=t&&null!=s){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:m,settings:p}=n,g=function(e,t){return null!=e?e:t}(m,o),v=Array.isArray(g)?RL(g,c,u):g,y=null!==(d=null===p||void 0===p?void 0:p.dataKey)&&void 0!==d?d:r,x=null===p||void 0===p?void 0:p.nameKey;(h=r&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===i?nP(v,r,a):s(v,t,l,x),Array.isArray(h))?h.forEach(t=>{var n=cQ(cQ({},p),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(ZL({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:FL(t.payload,t.dataKey),name:t.name}))}):e.push(ZL({tooltipEntrySettings:p,dataKey:y,payload:h,value:FL(h,y),name:null!==(f=FL(h,x))&&void 0!==f?f:null===p||void 0===p?void 0:p.name}));return e},[])}},hQ=sL([WH,Ez,dW,fH,VH],cG),fQ=sL([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mQ=sL([VH,HH],hW),pQ=sL([fQ,WH,mQ],pW,{memoizeOptions:{resultEqualityCheck:XH}}),gQ=sL([pQ],e=>e.filter(KH)),vQ=sL([pQ],bW,{memoizeOptions:{resultEqualityCheck:XH}}),yQ=sL([vQ,zV],NW),xQ=sL([gQ,zV,WH],QH),bQ=sL([yQ,WH,pQ],EW),wQ=sL([WH],RW),NQ=sL([WH],e=>e.allowDataOverflow),SQ=sL([wQ,NQ],VV),EQ=sL([pQ],e=>e.filter(KH)),kQ=sL([xQ,EQ,hH],OW),jQ=sL([kQ,zV,VH,SQ],PW),TQ=sL([pQ],yW),_Q=sL([yQ,WH,TQ,FW,VH],qW,{memoizeOptions:{resultEqualityCheck:YH}}),CQ=sL([HW,VH,HH],WW),AQ=sL([CQ,VH],$W),OQ=sL([QW,VH,HH],WW),IQ=sL([OQ,VH],ZW),PQ=sL([YW,VH,HH],WW),DQ=sL([PQ,VH],tG),RQ=sL([AQ,DQ,IQ],UW),MQ=sL([WH,wQ,SQ,jQ,_Q,RQ,Ez,VH],aG),LQ=sL([WH,Ez,yQ,bQ,hH,VH,MQ],oG),zQ=sL([LQ,WH,hQ],hG),FQ=sL([WH,LQ,zQ,VH],mG),UQ=e=>{var t=VH(e),n=HH(e);return NG(e,t,n,!1)},qQ=sL([WH,UQ],jH),BQ=sL([WH,hQ,FQ,qQ],dG),VQ=sL([Ez,bQ,WH,VH],zG),HQ=sL([Ez,bQ,WH,VH],UG),WQ=sL([Ez,WH,hQ,BQ,UQ,VQ,HQ,VH],(e,t,n,r,a,s,i,o)=>{if(t){var{type:l}=t,c=UL(e,o);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===o&&null!=a&&(null===a||void 0===a?void 0:a.length)>=2?2*GI(a[0]-a[1])*d:d,c&&i?i.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:s?s[e]:e,index:t,offset:d}))}}}),GQ=sL([KG,YG,e=>e.tooltip.settings],(e,t,n)=>XG(n.shared,e,t)),QQ=e=>e.tooltip.settings.trigger,KQ=e=>e.tooltip.settings.defaultIndex,YQ=sL([oQ,GQ,QQ,KQ],nQ),XQ=sL([YQ,yQ],rQ),$Q=sL([WQ,XQ],JG),JQ=sL([YQ],e=>{if(e)return e.dataKey}),ZQ=sL([oQ,GQ,QQ,KQ],sQ),eK=sL([tz,nz,Ez,hz,WQ,KQ,ZQ,iQ],aQ),tK=sL([YQ,eK],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),nK=sL([YQ],e=>e.active),rK=sL([ZQ,XQ,zV,GH,$Q,iQ,GQ],dQ),aK=sL([rK],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),sK=()=>mL(fH),iK=(e,t)=>t,oK=(e,t,n)=>n,lK=(e,t,n,r)=>r,cK=sL(WQ,e=>gL()(e,e=>e.coordinate)),uK=sL([oQ,iK,oK,lK],nQ),dK=sL([uK,yQ],rQ),hK=sL([oQ,iK,oK,lK],sQ),fK=sL([tz,nz,Ez,hz,WQ,lK,hK,iQ],aQ),mK=sL([uK,fK],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),pK=sL(WQ,dK,JG),gK=sL([hK,dK,zV,GH,pK,iQ,iK],dQ),vK=sL([uK],e=>({isActive:e.active,activeIndex:e.index})),yK=sL([(e,t)=>t,Ez,FH,VH,qQ,WQ,cK,hz],(e,t,n,r,a,s,i,o)=>{if(e&&t&&r&&a&&s){var l=function(e,t,n,r,a){return"horizontal"===n||"vertical"===n?e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height?{x:e,y:t}:null:r?DL({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,a)=>{var s,i=-1,o=null!==(s=null===t||void 0===t?void 0:t.length)&&void 0!==s?s:0;if(o<=1||null==e)return 0;if("angleAxis"===r&&null!=a&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(GI(u-c)!==GI(d-u)){var f=[];if(GI(d-u)===GI(a[1]-a[0])){h=d;var m=u+a[1]-a[0];f[0]=Math.min(m,(m+c)/2),f[1]=Math.max(m,(m+c)/2)}else{h=c;var p=d+a[1]-a[0];f[0]=Math.min(u,(p+u)/2),f[1]=Math.max(u,(p+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:i}=n[l]);break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){({index:i}=n[l]);break}}}else if(t)for(var x=0;x<o;x++)if(0===x&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:i}=t[x]);break}return i})(c,i,s,r,a),d=((e,t,n,r)=>{var a=t.find(e=>e&&e.index===n);if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,{radius:i}=r;return LL(LL(LL({},r),AL(r.cx,r.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=r;return LL(LL(LL({},r),AL(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),xK=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},bK=TD("mouseClick"),wK=wR();wK.startListening({actionCreator:bK,effect:(e,t)=>{var n=e.payload,r=yK(t.getState(),xK(n));null!=(null===r||void 0===r?void 0:r.activeIndex)&&t.dispatch(LM({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var NK=TD("mouseMove"),SK=wR();function EK(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function kK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kK(Object(n),!0).forEach(function(t){TK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}SK.startListening({actionCreator:NK,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=$G(r,r.tooltip.settings.shared),s=yK(r,xK(n));"axis"===a&&(null!=(null===s||void 0===s?void 0:s.activeIndex)?t.dispatch(MM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(DM()))}});var _K=BD({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ID()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ID()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ID()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ID()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ID()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ID()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var s=a.widthHistory||[];if(3===s.length&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var i=[...s,r].slice(-3);e.yAxis[n]=jK(jK({},e.yAxis[n]),{},{width:r,widthHistory:i})}}}}),{addXAxis:CK,removeXAxis:AK,addYAxis:OK,removeYAxis:IK,addZAxis:PK,removeZAxis:DK,updateYAxisWidth:RK}=_K.actions,MK=_K.reducer,LK=BD({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ID()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=wD(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:ID()},removeCartesianGraphicalItem:{reducer(e,t){var n=wD(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ID()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ID()},removePolarGraphicalItem:{reducer(e,t){var n=wD(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ID()}}}),{addCartesianGraphicalItem:zK,replaceCartesianGraphicalItem:FK,removeCartesianGraphicalItem:UK,addPolarGraphicalItem:qK,removePolarGraphicalItem:BK}=LK.actions,VK=LK.reducer,HK=BD({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=wD(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=wD(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=wD(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:WK,removeDot:GK,addArea:QK,removeArea:KK,addLine:YK,removeLine:XK}=HK.actions,$K=HK.reducer,JK={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZK=BD({name:"brush",initialState:JK,reducers:{setBrushSettings:(e,t)=>null==t.payload?JK:t.payload}}),{setBrushSettings:eY}=ZK.actions,tY=ZK.reducer,nY=BD({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ID()},removeLegendPayload:{reducer(e,t){var n=wD(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ID()}}}),{setLegendSize:rY,setLegendSettings:aY,addLegendPayload:sY,removeLegendPayload:iY}=nY.actions,oY=nY.reducer,lY={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},cY=BD({name:"rootProps",initialState:lY,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:lY.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uY=cY.reducer,{updateOptions:dY}=cY.actions,hY=BD({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:fY,removeRadiusAxis:mY,addAngleAxis:pY,removeAngleAxis:gY}=hY.actions,vY=hY.reducer,yY=BD({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xY}=yY.actions,bY=yY.reducer,wY=TD("keyDown"),NY=TD("focus"),SY=wR();SY.startListening({actionCreator:wY,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if("ArrowRight"===a||"ArrowLeft"===a||"Enter"===a){var s=Number(rQ(r,yQ(n))),i=WQ(n);if("Enter"!==a){var o=s+("ArrowRight"===a?1:-1)*("left-to-right"===QG(n)?1:-1);if(!(null==i||o>=i.length||o<0)){var l=fK(n,"axis","hover",String(o));t.dispatch(FM({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=fK(n,"axis","hover",String(r.index));t.dispatch(FM({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),SY.startListening({actionCreator:NY,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var a=fK(n,"axis","hover",String("0"));t.dispatch(FM({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:a}))}}}});var EY=TD("externalEvent"),kY=wR();kY.startListening({actionCreator:EY,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:tK(n),activeDataKey:JQ(n),activeIndex:XQ(n),activeLabel:$Q(n),activeTooltipIndex:XQ(n),isTooltipActive:nK(n)};e.payload.handler(r,e.payload.reactEvent)}}});var jY=sL([oQ],e=>e.tooltipItemPayloads),TY=sL([jY,iQ,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(e=>e.settings.dataKey===r);if(null!=a){var{positions:s}=a;if(null!=s)return t(s,n)}}),_Y=TD("touchMove"),CY=wR();CY.startListening({actionCreator:_Y,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=$G(r,r.tooltip.settings.shared);if("axis"===a){var s=yK(r,xK({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null===s||void 0===s?void 0:s.activeIndex)&&t.dispatch(MM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if("item"===a){var i,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(oz),u=null!==(i=l.getAttribute(lz))&&void 0!==i?i:void 0,d=TY(t.getState(),c,u);t.dispatch(IM({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var AY=BD({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?a:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:OY,replaceErrorBar:IY,removeErrorBar:PY}=AY.actions,DY=AY.reducer,RY=!1,MY=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),LY=_P({brush:tY,cartesianAxis:MK,chartData:WM,errorBars:DY,graphicalItems:VK,layout:$M,legend:oY,options:kR,polarAxis:vY,polarOptions:bY,referenceElements:$K,rootProps:uY,tooltip:UM});function zY(e){var{preloadedState:n,children:r,reduxStoreName:a}=e,s=gz(),i=(0,t.useRef)(null);if(s)return r;null==i.current&&(i.current=function(e){return RD({reducer:LY,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([wK.middleware,SK.middleware,SY.middleware,kY.middleware,CY.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(DD({type:"raf"}))},devTools:RY&&{serialize:{replacer:EK},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(n,a));var o=lL;return t.createElement(LR,{context:o,store:i.current},r)}var FY=e=>{var{chartData:n}=e,r=uL(),a=gz();return(0,t.useEffect)(()=>a?()=>{}:(r(BM(n)),()=>{r(BM(void 0))}),[n,r,a]),null};function UY(e){var{layout:n,margin:r}=e,a=uL(),s=gz();return(0,t.useEffect)(()=>{s||(a(KM(n)),a(QM(r)))},[a,s,n,r]),null}function qY(e){var n=uL();return(0,t.useEffect)(()=>{n(dY(e))},[n,e]),null}var BY=()=>mL(e=>e.rootProps.accessibilityLayer),VY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function HY(e){return"string"===typeof e&&VY.includes(e)}var WY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function GY(e){return"string"===typeof e&&WY.includes(e)}function QY(e){return"string"===typeof e&&e.startsWith("data-")}function KY(e){var t=Object.entries(e).filter(e=>{var[t]=e;return GY(t)||QY(t)});return Object.fromEntries(t)}function YY(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?KY(e.props):"object"!==typeof e||Array.isArray(e)?null:KY(e)}function XY(e){var t=Object.entries(e).filter(e=>{var[t]=e;return GY(t)||QY(t)||HY(t)});return Object.fromEntries(t)}var $Y=["children","width","height","viewBox","className","style","title","desc"];function JY(){return JY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JY.apply(null,arguments)}var ZY=(0,t.forwardRef)((e,n)=>{var{children:r,width:a,height:s,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,$Y),h=i||{width:a,height:s,x:0,y:0},f=UI("recharts-surface",o);return t.createElement("svg",JY({},XY(d),{className:f,width:a,height:s,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:n}),t.createElement("title",null,c),t.createElement("desc",null,u),r)}),eX=["children"];function tX(){return tX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tX.apply(null,arguments)}var nX={width:"100%",height:"100%",display:"block"},rX=(0,t.forwardRef)((e,n)=>{var r=Nz(),a=Sz(),s=BY();if(!hP(r)||!hP(a))return null;var i,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return i="number"===typeof c.tabIndex?c.tabIndex:s?0:void 0,o="string"===typeof c.role?c.role:s?"application":void 0,t.createElement(ZY,tX({},c,{title:u,desc:d,role:o,tabIndex:i,width:r,height:a,style:nX,ref:n}),l)}),aX=e=>{var{children:n}=e,r=mL(yz);if(!r)return null;var{width:a,height:s,y:i,x:o}=r;return t.createElement(ZY,{width:a,height:s,x:o,y:i},n)},sX=(0,t.forwardRef)((e,n)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,eX);return gz()?t.createElement(aX,null,r):t.createElement(rX,tX({ref:n},a),r)});var iX=new(n(6150)),oX="recharts.syncEvent.tooltip",lX="recharts.syncEvent.brush";function cX(e){return e.tooltip.syncInteraction}var uX=["x","y"];function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(t){fX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mX=()=>{};function pX(){var e=mL(mH),n=mL(gH),r=uL(),a=mL(pH),s=mL(WQ),i=kz(),o=xz(),l=mL(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return mX;var t=(t,l,c)=>{var u;if(n!==c&&e===t)if("index"!==a){if(null!=s){var d;if("function"===typeof a){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=a(s,h);d=s[f]}else"value"===a&&(d=s.find(e=>String(e.value)===l.payload.label));var{coordinate:m}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=m&&null!=o){var{x:p,y:g}=m,v=Math.min(p,o.x+o.width),y=Math.min(g,o.y+o.height),x={x:"horizontal"===i?d.coordinate:v,y:"horizontal"===i?y:d.coordinate},b=zM({active:l.payload.active,coordinate:x,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox});r(b)}else r(zM({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:N,y:S}=w,E=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(w,uX),{x:k,y:j,width:T,height:_}=l.payload.sourceViewBox,C=hX(hX({},E),{},{x:o.x+(T?(N-k)/T:0)*o.width,y:o.y+(_?(S-j)/_:0)*o.height});r(hX(hX({},l),{},{payload:hX(hX({},l.payload),{},{coordinate:C})}))}else r(l)};return iX.on(oX,t),()=>{iX.off(oX,t)}},[l,r,n,e,a,s,i,o])}function gX(){var e=uL();(0,t.useEffect)(()=>{e(jR())},[e]),pX(),function(){var e=mL(mH),n=mL(gH),r=uL();(0,t.useEffect)(()=>{if(null==e)return mX;var t=(t,a,s)=>{n!==s&&e===t&&r(VM(a))};return iX.on(lX,t),()=>{iX.off(lX,t)}},[r,n,e])}()}function vX(e,n,r,a,s,i){var o=mL(t=>((e,t,n)=>{if(null!=t){var r=oQ(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(t,e,n)),l=mL(gH),c=mL(mH),u=mL(pH),d=mL(cX),h=null===d||void 0===d?void 0:d.active,f=xz();(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=zM({active:i,coordinate:r,dataKey:o,index:s,label:"number"===typeof a?String(a):a,sourceViewBox:f});iX.emit(oX,c,e,l)}},[h,r,o,s,a,l,c,u,i,f])}var yX=(0,t.createContext)(null),xX=(0,t.createContext)(null);function bX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bX(Object(n),!0).forEach(function(t){NX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function NX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(){return SX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SX.apply(null,arguments)}var EX=()=>(gX(),null);function kX(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var jX=(0,t.forwardRef)((e,n)=>{var r,a,s=(0,t.useRef)(null),[i,o]=(0,t.useState)({containerWidth:kX(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:kX(null===(a=e.style)||void 0===a?void 0:a.height)}),l=(0,t.useCallback)((e,t)=>{o(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e){var{width:t,height:r}=e.getBoundingClientRect();l(t,r);var a=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;l(t,n)});a.observe(e),s.current=a}},[n,l]);return(0,t.useEffect)(()=>()=>{var e=s.current;null!=e&&e.disconnect()},[l]),t.createElement(t.Fragment,null,t.createElement(jz,{width:i.containerWidth,height:i.containerHeight}),t.createElement("div",SX({ref:c},e)))}),TX=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e,[s,i]=(0,t.useState)({containerWidth:kX(r),containerHeight:kX(a)}),o=(0,t.useCallback)((e,t)=>{i(n=>{var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]),l=(0,t.useCallback)(e=>{if("function"===typeof n&&n(e),null!=e){var{width:t,height:r}=e.getBoundingClientRect();o(t,r)}},[n,o]);return t.createElement(t.Fragment,null,t.createElement(jz,{width:s.containerWidth,height:s.containerHeight}),t.createElement("div",SX({ref:l},e)))}),_X=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e;return t.createElement(t.Fragment,null,t.createElement(jz,{width:r,height:a}),t.createElement("div",SX({ref:n},e)))}),CX=(0,t.forwardRef)((e,n)=>{var{width:r,height:a}=e;return KI(r)||KI(a)?t.createElement(TX,SX({},e,{ref:n})):t.createElement(_X,SX({},e,{ref:n}))});var AX=(0,t.forwardRef)((e,n)=>{var{children:r,className:a,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y,responsive:x,dispatchTouchEvents:b=!0}=e,w=(0,t.useRef)(null),N=uL(),[S,E]=(0,t.useState)(null),[k,j]=(0,t.useState)(null),T=function(){var e=uL(),[n,r]=(0,t.useState)(null),a=mL(rz);return(0,t.useEffect)(()=>{if(null!=n){var t=n.getBoundingClientRect().width/n.offsetWidth;dP(t)&&t!==a&&e(XM(t))}},[n,e,a]),r}(),_=xP(),C=(null===_||void 0===_?void 0:_.width)>0?_.width:y,A=(null===_||void 0===_?void 0:_.height)>0?_.height:s,O=(0,t.useCallback)(e=>{T(e),"function"===typeof n&&n(e),E(e),j(e),null!=e&&(w.current=e)},[T,n,E,j]),I=(0,t.useCallback)(e=>{N(bK(e)),N(EY({handler:i,reactEvent:e}))},[N,i]),P=(0,t.useCallback)(e=>{N(NK(e)),N(EY({handler:u,reactEvent:e}))},[N,u]),D=(0,t.useCallback)(e=>{N(DM()),N(EY({handler:d,reactEvent:e}))},[N,d]),R=(0,t.useCallback)(e=>{N(NK(e)),N(EY({handler:h,reactEvent:e}))},[N,h]),M=(0,t.useCallback)(()=>{N(NY())},[N]),L=(0,t.useCallback)(e=>{N(wY(e.key))},[N]),z=(0,t.useCallback)(e=>{N(EY({handler:o,reactEvent:e}))},[N,o]),F=(0,t.useCallback)(e=>{N(EY({handler:l,reactEvent:e}))},[N,l]),U=(0,t.useCallback)(e=>{N(EY({handler:c,reactEvent:e}))},[N,c]),q=(0,t.useCallback)(e=>{N(EY({handler:f,reactEvent:e}))},[N,f]),B=(0,t.useCallback)(e=>{N(EY({handler:g,reactEvent:e}))},[N,g]),V=(0,t.useCallback)(e=>{b&&N(_Y(e)),N(EY({handler:p,reactEvent:e}))},[N,b,p]),H=(0,t.useCallback)(e=>{N(EY({handler:m,reactEvent:e}))},[N,m]),W=function(e){return!0===e?jX:CX}(x);return t.createElement(yX.Provider,{value:S},t.createElement(xX.Provider,{value:k},t.createElement(W,{width:null!==C&&void 0!==C?C:null===v||void 0===v?void 0:v.width,height:null!==A&&void 0!==A?A:null===v||void 0===v?void 0:v.height,className:UI("recharts-wrapper",a),style:wX({position:"relative",cursor:"default",width:C,height:A},v),onClick:I,onContextMenu:z,onDoubleClick:F,onFocus:M,onKeyDown:L,onMouseDown:U,onMouseEnter:P,onMouseLeave:D,onMouseMove:R,onMouseUp:q,onTouchEnd:H,onTouchMove:V,onTouchStart:B,ref:O},t.createElement(EX,null),r)))}),OX=sL([hz],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),IX=sL([OX,tz,nz],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),PX=()=>mL(IX),DX=(0,t.createContext)(void 0),RX=e=>{var{children:n}=e,[r]=(0,t.useState)("".concat(JI("recharts"),"-clip")),a=PX();if(null==a)return null;var{x:s,y:i,width:o,height:l}=a;return t.createElement(DX.Provider,{value:r},t.createElement("defs",null,t.createElement("clipPath",{id:r},t.createElement("rect",{x:s,y:i,height:l,width:o}))),n)},MX=["width","height","responsive","children","className","style","compact","title","desc"];var LX=(0,t.forwardRef)((e,n)=>{var{width:r,height:a,responsive:s,children:i,className:o,style:l,compact:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,MX),f=KY(h);return c?t.createElement(t.Fragment,null,t.createElement(jz,{width:r,height:a}),t.createElement(sX,{otherAttributes:f,title:u,desc:d},i)):t.createElement(AX,{className:o,style:l,width:r,height:a,responsive:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(sX,{otherAttributes:f,title:u,desc:d,ref:n},t.createElement(RX,null,i)))});function zX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UX(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zX(Object(n),!0).forEach(function(t){FX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}function qX(){return qX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qX.apply(null,arguments)}var BX={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",responsive:!1},VX=(0,t.forwardRef)(function(e,n){var r,a=UX(e.categoricalChartProps,BX),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return t.createElement(zY,{preloadedState:{options:u},reduxStoreName:null!==(r=c.id)&&void 0!==r?r:s},t.createElement(FY,{chartData:c.data}),t.createElement(UY,{layout:a.layout,margin:a.margin}),t.createElement(qY,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(LX,qX({},a,{ref:n})))}),HX=["axis","item"],WX=(0,t.forwardRef)((e,n)=>t.createElement(VX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HX,tooltipPayloadSearcher:SR,categoricalChartProps:e,ref:n}));function GX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function KX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QX(Object(n),!0).forEach(function(t){YX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XX=KX({},{cacheSize:2e3,enableCache:!0}),$X=new class{constructor(e){GX(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(XX.cacheSize),JX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZX="recharts_measurement_span";var e$=(e,t)=>{try{var n=document.getElementById(ZX);n||((n=document.createElement("span")).setAttribute("id",ZX),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,JX,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(a){return{width:0,height:0}}},t$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||MY)return{width:0,height:0};if(!XX.enableCache)return e$(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}(e,t),r=$X.get(n);if(r)return r;var a=e$(e,t);return $X.set(n,a),a};function n$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r${static create(e){return new r$(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(t){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}n$(r$,"EPS",1e-4);function a$(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function s$(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,s=Math.atan(n/t),i=a>s&&a<Math.PI-s?n/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function i$(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(t){c$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u$(e,t,n){var r,{tick:a,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!s||!s.length||!a)return[];if(YI(c)||MY)return null!==(r=function(e,t){return a$(e,t+1)}(s,YI(c)?c:0))&&void 0!==r?r:[];var f=[],m="top"===l||"bottom"===l?"width":"height",p=d&&"width"===m?t$(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var a="function"===typeof u?u(e.value,r):e.value;return"width"===m?s$(t$(a,{fontSize:t,letterSpacing:n}),p,h):t$(a,{fontSize:t,letterSpacing:n})[m]},v=s.length>=2?GI(s[1].coordinate-s[0].coordinate):1,y=function(e,t,n){var r="width"===n,{x:a,y:s,width:i,height:o}=e;return 1===t?{start:r?a:s,end:r?a+i:s+o}:{start:r?a+i:s+o,end:r?a:s}}(i,v,m);return"equidistantPreserveStart"===c?function(e,t,n,r,a){for(var s,i=(r||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:a$(r,u)};var s,i=c,h=()=>(void 0===s&&(s=n(t,i)),s),f=t.coordinate,m=0===c||i$(e,f,h,d,l);m||(c=0,d=o,u+=1),m&&(d=f+e*(h()/2+a),c+=u)};u<=i.length;)if(s=h())return s.v;return[]}(v,y,g,s,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,a,s){var i=(r||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var u=r[o-1],d=n(u,o-1),h=e*(u.coordinate+e*d/2-c);i[o-1]=u=l$(l$({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),i$(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+a),i[o-1]=l$(l$({},u),{},{isShow:!0}))}for(var f=s?o-1:o,m=function(t){var r,s=i[t],o=()=>(void 0===r&&(r=n(s,t)),r);if(0===t){var u=e*(s.coordinate-e*o()/2-l);i[t]=s=l$(l$({},s),{},{tickCoord:u<0?s.coordinate-u*e:s.coordinate})}else i[t]=s=l$(l$({},s),{},{tickCoord:s.coordinate});i$(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+a),i[t]=l$(l$({},s),{},{isShow:!0}))},p=0;p<f;p++)m(p);return i}(v,y,g,s,o,"preserveStartEnd"===c):function(e,t,n,r,a){for(var s=(r||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(t){var r,c=s[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===i-1){var d=e*(c.coordinate+e*u()/2-l);s[t]=c=l$(l$({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else s[t]=c=l$(l$({},c),{},{tickCoord:c.coordinate});i$(e,c.tickCoord,u,o,l)&&(l=c.tickCoord-e*(u()/2+a),s[t]=l$(l$({},c),{},{isShow:!0}))},u=i-1;u>=0;u--)c(u);return s}(v,y,g,s,o),f.filter(e=>e.isShow))}function d$(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}var h$=["children","className"];function f$(){return f$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f$.apply(null,arguments)}var m$=t.forwardRef((e,n)=>{var{children:r,className:a}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,h$),i=UI("recharts-layer",a);return t.createElement("g",f$({className:i},XY(s),{ref:n}),r)}),p$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,y$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},b$=Object.keys(x$),w$="NaN";class N${static parse(e){var t,[,n,r]=null!==(t=y$.exec(e))&&void 0!==t?t:[];return new N$(parseFloat(n),null!==r&&void 0!==r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,QI(e)&&(this.unit=""),""===t||v$.test(t)||(this.num=NaN,this.unit=""),b$.includes(t)&&(this.num=function(e,t){return e*x$[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new N$(NaN,""):new N$(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new N$(NaN,""):new N$(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new N$(NaN,""):new N$(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new N$(NaN,""):new N$(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return QI(this.num)}}function S$(e){if(e.includes(w$))return w$;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=null!==(n=p$.exec(t))&&void 0!==n?n:[],i=N$.parse(null!==r&&void 0!==r?r:""),o=N$.parse(null!==s&&void 0!==s?s:""),l="*"===a?i.multiply(o):i.divide(o);if(l.isNaN())return w$;t=t.replace(p$,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=g$.exec(t))&&void 0!==c?c:[],f=N$.parse(null!==u&&void 0!==u?u:""),m=N$.parse(null!==h&&void 0!==h?h:""),p="+"===d?f.add(m):f.subtract(m);if(p.isNaN())return w$;t=t.replace(g$,p.toString())}return t}var E$=/\(([^()]*)\)/;function k$(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=E$.exec(n));){var[,r]=t;n=n.replace(E$,S$(r))}return n}(t),t=S$(t)}function j$(e){var t=function(e){try{return k$(e)}catch(t){return w$}}(e.slice(5,-1));return t===w$?"":t}var T$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_$=["dx","dy","angle","className","breakAll"];function C$(){return C$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C$.apply(null,arguments)}function A$(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O$=/[ \f\n\r\t\v\u2028\u2029]+/,I$=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];return rP(t)||(a=n?t.toString().split(""):t.toString().split(O$)),{wordsWithComputedWidth:a.map(e=>({word:e,width:t$(e,r).width})),spaceWidth:n?0:t$("\xa0",r).width}}catch(s){return null}},P$=e=>[{words:rP(e)?[]:e.toString().split(O$)}],D$=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:i}=e;if((t||n)&&!MY){var o=I$({breakAll:s,children:r,style:a});if(!o)return P$(r);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,n,r,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=YI(s),u=i,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:s,width:i}=t,o=e[e.length-1];if(o&&(null==r||a||o.width+i+n<Number(r)))o.words.push(s),o.width+=i+n;else{var l={words:[s],width:i};e.push(l)}return e},[])},h=d(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||a)return h;if(!(h.length>s||f(h).width>Number(r)))return h;for(var m,p=e=>{var t=u.slice(0,e),n=I$({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n);return[a.length>s||f(a).width>Number(r),a]},g=0,v=u.length-1,y=0;g<=v&&y<=u.length-1;){var x=Math.floor((g+v)/2),b=x-1,[w,N]=p(b),[S]=p(x);if(w||S||(g=x+1),w&&S&&(v=x-1),!w&&S){m=N;break}y++}return m||h})({breakAll:s,children:r,maxLines:i,style:a},l,c,t,n)}return P$(r)},R$="#808080",M$=(0,t.forwardRef)((e,n)=>{var{x:r=0,y:a=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=R$}=e,d=A$(e,T$),h=(0,t.useMemo)(()=>D$({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:m,angle:p,className:g,breakAll:v}=d,y=A$(d,_$);if(!XI(r)||!XI(a)||0===h.length)return null;var x,b=r+(YI(f)?f:0),w=a+(YI(m)?m:0);switch(c){case"start":x=j$("calc(".concat(i,")"));break;case"middle":x=j$("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:x=j$("calc(".concat(h.length-1," * -").concat(s,")"))}var N=[];if(o){var S=h[0].width,{width:E}=d;N.push("scale(".concat(YI(E)?E/S:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(b,", ").concat(w,")")),N.length&&(y.transform=N.join(" ")),t.createElement("text",C$({},XY(y),{ref:n,x:b,y:w,className:UI("recharts-text",g),textAnchor:l,fill:u.includes("url")?R$:u}),h.map((e,n)=>{var r=e.words.join(v?"":" ");return t.createElement("tspan",{x:b,dy:0===n?x:s,key:"".concat(r,"-").concat(n)},r)}))});M$.displayName="Text";var L$=["labelRef"];function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(t){U$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q$(){return q$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q$.apply(null,arguments)}var B$=(0,t.createContext)(null),V$=e=>{var{x:n,y:r,width:a,height:s,children:i}=e,o=(0,t.useMemo)(()=>({x:n,y:r,width:a,height:s}),[n,r,a,s]);return t.createElement(B$.Provider,{value:o},i)},H$=()=>{var e=(0,t.useContext)(B$),n=xz();return e||n},W$=(0,t.createContext)(null),G$=()=>{var e=(0,t.useContext)(W$),n=mL(FH);return e||n},Q$=e=>null!=e&&"function"===typeof e,K$=(e,n,r,a,s)=>{var i,o,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:m,endAngle:p,clockWise:g}=s,v=(h+f)/2,y=((e,t)=>GI(t-e)*Math.min(Math.abs(t-e),360))(m,p),x=y>=0?1:-1;switch(n){case"insideStart":i=m+x*l,o=g;break;case"insideEnd":i=p-x*l,o=!g;break;case"end":i=p+x*l,o=g;break;default:throw new Error("Unsupported position ".concat(n))}o=y<=0?o:!o;var b=AL(u,d,v,i),w=AL(u,d,v,i+359*(o?1:-1)),N="M".concat(b.x,",").concat(b.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=rP(e.id)?JI("recharts-radial-line-"):e.id;return t.createElement("text",q$({},a,{dominantBaseline:"central",className:UI("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:N})),t.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Y$=e=>"cx"in e&&YI(e.cx),X$={offset:5};function $$(e){var n=UX(e,X$),{viewBox:r,position:a,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=n,d=G$(),h=H$(),f=r||("center"===a?h:null!==d&&void 0!==d?d:h);if(!f||rP(s)&&rP(i)&&!(0,t.isValidElement)(o)&&"function"!==typeof o)return null;var m,p=F$(F$({},n),{},{viewBox:f});if((0,t.isValidElement)(o)){var{labelRef:g}=p,v=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(p,L$);return(0,t.cloneElement)(o,v)}if("function"===typeof o){if(m=(0,t.createElement)(o,p),(0,t.isValidElement)(m))return m}else m=(e=>{var{value:t,formatter:n}=e,r=rP(e.children)?t:e.children;return"function"===typeof n?n(r):r})(n);var y=Y$(f),x=XY(n);if(y&&("insideStart"===a||"insideEnd"===a||"end"===a))return K$(n,a,m,x,f);var b=y?((e,t,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===n){var{x:u,y:d}=AL(r,a,i+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:f,y:m}=AL(r,a,h,c);return{x:f,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(f,n.offset,n.position):((e,t)=>{var n,{parentViewBox:r,offset:a,position:s}=e;null==r||Y$(r)||(n=r);var{x:i,y:o,width:l,height:c}=t,u=c>=0?1:-1,d=u*a,h=u>0?"end":"start",f=u>0?"start":"end",m=l>=0?1:-1,p=m*a,g=m>0?"end":"start",v=m>0?"start":"end";if("top"===s)return F$(F$({},{x:i+l/2,y:o-u*a,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===s)return F$(F$({},{x:i+l/2,y:o+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===s){var y={x:i-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return F$(F$({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===s){var x={x:i+l+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return F$(F$({},x),n?{width:Math.max(n.x+n.width-x.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===s?F$({x:i+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},b):"insideRight"===s?F$({x:i+l-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===s?F$({x:i+l/2,y:o+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===s?F$({x:i+l/2,y:o+c-d,textAnchor:"middle",verticalAnchor:h},b):"insideTopLeft"===s?F$({x:i+p,y:o+d,textAnchor:v,verticalAnchor:f},b):"insideTopRight"===s?F$({x:i+l-p,y:o+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===s?F$({x:i+p,y:o+c-d,textAnchor:v,verticalAnchor:h},b):"insideBottomRight"===s?F$({x:i+l-p,y:o+c-d,textAnchor:g,verticalAnchor:h},b):s&&"object"===typeof s&&(YI(s.x)||KI(s.x))&&(YI(s.y)||KI(s.y))?F$({x:i+ZI(s.x,l),y:o+ZI(s.y,c),textAnchor:"end",verticalAnchor:"end"},b):F$({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(n,f);return t.createElement(M$,q$({ref:u,className:UI("recharts-label",l)},x,b,{breakAll:c}),m)}$$.displayName="Label";var J$=(e,n,r)=>{if(!e)return null;var a={viewBox:n,labelRef:r};return!0===e?t.createElement($$,q$({key:"label-implicit"},a)):XI(e)?t.createElement($$,q$({key:"label-implicit",value:e},a)):(0,t.isValidElement)(e)?e.type===$$?(0,t.cloneElement)(e,F$({key:"label-implicit"},a)):t.createElement($$,q$({key:"label-implicit",content:e},a)):Q$(e)?t.createElement($$,q$({key:"label-implicit",content:e},a)):e&&"object"===typeof e?t.createElement($$,q$({},e,{key:"label-implicit"},a)):null};function Z$(e){var{label:t,labelRef:n}=e,r=H$();return J$(t,r,n)||null}var eJ=(e,n)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,t.isValidElement)(e)&&(r=e.props),"object"!==typeof r&&"function"!==typeof r)return null;var a={};return Object.keys(r).forEach(e=>{HY(e)&&(a[e]=n||(t=>r[e](r,t)))}),a},tJ=(e,t,n)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];HY(a)&&"function"===typeof s&&(r||(r={}),r[a]=((e,t,n)=>r=>(e(t,n,r),null))(s,t,n))}),r},nJ=["axisLine","width","height","className","hide","ticks"],rJ=["viewBox"],aJ=["viewBox"];function sJ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iJ(){return iJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iJ.apply(null,arguments)}function oJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oJ(Object(n),!0).forEach(function(t){cJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cJ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uJ={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function dJ(e){var{x:n,y:r,width:a,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=lJ(lJ(lJ({},c),KY(l)),{},{fill:"none"});if("top"===i||"bottom"===i){var d=+("top"===i&&!o||"bottom"===i&&o);u=lJ(lJ({},u),{},{x1:n,y1:r+d*s,x2:n+a,y2:r+d*s})}else{var h=+("left"===i&&!o||"right"===i&&o);u=lJ(lJ({},u),{},{x1:n+h*a,y1:r,x2:n+h*a,y2:r+s})}return t.createElement("line",iJ({},u,{className:UI("recharts-cartesian-axis-line",WI()(l,"className"))}))}function hJ(e){var n,{option:r,tickProps:a,value:s}=e,i=UI(a.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(r))n=t.cloneElement(r,lJ(lJ({},a),{},{className:i}));else if("function"===typeof r)n=r(lJ(lJ({},a),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof r&&(o=UI(o,null===r||void 0===r?void 0:r.className)),n=t.createElement(M$,iJ({},a,{className:o}),s)}return n}function fJ(e){var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:f,width:m,height:p,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:x,getTicksConfig:b,events:w}=e,N=u$(lJ(lJ({},b),{},{ticks:n}),y,x),S=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,d),E=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,d),k=KY(b),j=YY(r),T={};"object"===typeof a&&(T=a);var _=lJ(lJ({},k),{},{fill:"none"},T),C=N.map((e,n)=>{var{line:y,tick:x}=function(e,t,n,r,a,s,i,o,l){var c,u,d,h,f,m,p=o?-1:1,g=e.tickSize||i,v=YI(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=u=e.coordinate,m=(d=(h=n+ +!o*a)-p*g)-p*l,f=v;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!o*r)-p*g)-p*l,m=v;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +o*r)+p*g)+p*l,m=v;break;default:c=u=e.coordinate,m=(d=(h=n+ +o*a)+p*g)+p*l,f=v}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:m}}}(e,h,f,m,p,u,g,d,v),b=lJ(lJ(lJ(lJ({textAnchor:S,verticalAnchor:E},k),{},{stroke:"none",fill:s},j),x),{},{index:n,payload:e,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return t.createElement(m$,iJ({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},tJ(w,e,n)),a&&t.createElement("line",iJ({},_,y,{className:UI("recharts-cartesian-axis-tick-line",WI()(a,"className"))})),r&&t.createElement(hJ,{option:r,tickProps:b,value:"".concat("function"===typeof i?i(e.value,n):e.value).concat(o||"")}))});return C.length>0?t.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var mJ=(0,t.forwardRef)((e,n)=>{var{axisLine:r,width:a,height:s,className:i,hide:o,ticks:l}=e,c=sJ(e,nJ),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),m=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+(a+s)+o+(n?r:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),a=r.fontSize,s=r.letterSpacing;a===u&&s===h||(d(a),f(s))}}},[u,h]);return o||null!=a&&a<=0||null!=s&&s<=0?null:t.createElement(m$,{className:UI("recharts-cartesian-axis",i),ref:p},t.createElement(dJ,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:KY(e)}),t.createElement(fJ,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),t.createElement(V$,{x:e.x,y:e.y,width:e.width,height:e.height},t.createElement(Z$,{label:e.label,labelRef:e.labelRef}),e.children))}),pJ=t.memo(mJ,(e,t)=>{var{viewBox:n}=e,r=sJ(e,rJ),{viewBox:a}=t,s=sJ(t,aJ);return d$(n,a)&&d$(r,s)}),gJ=t.forwardRef((e,n)=>{var r=UX(e,uJ);return t.createElement(pJ,iJ({},r,{ref:n}))});gJ.displayName="CartesianAxis";var vJ=["x1","y1","x2","y2","key"],yJ=["offset"],xJ=["xAxisId","yAxisId"],bJ=["xAxisId","yAxisId"];function wJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wJ(Object(n),!0).forEach(function(t){SJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SJ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(){return EJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EJ.apply(null,arguments)}function kJ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var jJ=e=>{var{fill:n}=e;if(!n||"none"===n)return null;var{fillOpacity:r,x:a,y:s,width:i,height:o,ry:l}=e;return t.createElement("rect",{x:a,y:s,ry:l,width:i,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TJ(e,n){var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var{x1:a,y1:s,x2:i,y2:o,key:l}=n,c=KY(kJ(n,vJ)),{offset:u}=c,d=kJ(c,yJ);r=t.createElement("line",EJ({},d,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function _J(e){var{x:n,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=kJ(e,xJ),c=s.map((e,t)=>{var s=NJ(NJ({},l),{},{x1:n,y1:e,x2:n+r,y2:e,key:"line-".concat(t),index:t});return TJ(a,s)});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function CJ(e){var{y:n,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=kJ(e,bJ),c=s.map((e,t)=>{var s=NJ(NJ({},l),{},{x1:e,y1:n,x2:e,y2:n+r,key:"line-".concat(t),index:t});return TJ(a,s)});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function AJ(e){var{horizontalFill:n,fillOpacity:r,x:a,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!n||!n.length)return null;var u=l.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=!u[l+1]?s+o-e:u[l+1]-e;if(c<=0)return null;var d=l%n.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:i,stroke:"none",fill:n[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function OJ(e){var{vertical:n=!0,verticalFill:r,fillOpacity:a,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!n||!r||!r.length)return null;var u=c.map(e=>Math.round(e+s-s)).sort((e,t)=>e-t);s!==u[0]&&u.unshift(0);var d=u.map((e,n)=>{var c=!u[n+1]?s+o-e:u[n+1]-e;if(c<=0)return null;var d=n%r.length;return t.createElement("rect",{key:"react-".concat(n),x:e,y:i,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var IJ=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return qL(u$(NJ(NJ(NJ({},uJ),n),{},{ticks:BL(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},PJ=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return qL(u$(NJ(NJ(NJ({},uJ),n),{},{ticks:BL(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},DJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function RJ(e){var n=Nz(),r=Sz(),a=wz(),s=NJ(NJ({},UX(e,DJ)),{},{x:YI(e.x)?e.x:a.left,y:YI(e.y)?e.y:a.top,width:YI(e.width)?e.width:a.width,height:YI(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=s,p=gz(),g=mL(e=>BG(e,"xAxis",i,p)),v=mL(e=>BG(e,"yAxis",o,p));if(!YI(u)||u<=0||!YI(d)||d<=0||!YI(l)||l!==+l||!YI(c)||c!==+c)return null;var y=s.verticalCoordinatesGenerator||IJ,x=s.horizontalCoordinatesGenerator||PJ,{horizontalPoints:b,verticalPoints:w}=s;if((!b||!b.length)&&"function"===typeof x){var N=f&&f.length,S=x({yAxis:v?NJ(NJ({},v),{},{ticks:N?f:v.ticks}):void 0,width:n,height:r,offset:a},!!N||h);VI(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!w||!w.length)&&"function"===typeof y){var E=m&&m.length,k=y({xAxis:g?NJ(NJ({},g),{},{ticks:E?m:g.ticks}):void 0,width:n,height:r,offset:a},!!E||h);VI(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}return t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(jJ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),t.createElement(AJ,EJ({},s,{horizontalPoints:b})),t.createElement(OJ,EJ({},s,{verticalPoints:w})),t.createElement(_J,EJ({},s,{offset:a,horizontalPoints:b,xAxis:g,yAxis:v})),t.createElement(CJ,EJ({},s,{offset:a,verticalPoints:w,xAxis:g,yAxis:v})))}RJ.displayName="CartesianGrid";var MJ=["dangerouslySetInnerHTML","ticks"],LJ=["id"],zJ=["domain"],FJ=["domain"];function UJ(){return UJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UJ.apply(null,arguments)}function qJ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function BJ(e){var n=uL();return(0,t.useLayoutEffect)(()=>(n(CK(e)),()=>{n(AK(e))}),[e,n]),null}var VJ=e=>{var{xAxisId:n,className:r}=e,a=mL(mz),s=gz(),i="xAxis",o=mL(e=>EG(e,i,n,s)),l=mL(e=>VG(e,i,n,s)),c=mL(e=>OG(e,n)),u=mL(e=>DG(e,n)),d=mL(e=>nW(e,n));if(null==c||null==u||null==d)return null;var{dangerouslySetInnerHTML:h,ticks:f}=e,m=qJ(e,MJ),{id:p}=d,g=qJ(d,LJ);return t.createElement(gJ,UJ({},m,g,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:UI("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:l}))},HJ={allowDataOverflow:tW.allowDataOverflow,allowDecimals:tW.allowDecimals,allowDuplicatedCategory:tW.allowDuplicatedCategory,height:tW.height,hide:!1,mirror:tW.mirror,orientation:tW.orientation,padding:tW.padding,reversed:tW.reversed,scale:tW.scale,tickCount:tW.tickCount,type:tW.type,xAxisId:0},WJ=e=>{var n,r,a,s,i,o=UX(e,HJ);return t.createElement(t.Fragment,null,t.createElement(BJ,{interval:null!==(n=o.interval)&&void 0!==n?n:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:null!==(r=o.includeHidden)&&void 0!==r&&r,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(a=o.angle)&&void 0!==a?a:0,minTickGap:null!==(s=o.minTickGap)&&void 0!==s?s:5,tick:null===(i=o.tick)||void 0===i||i,tickFormatter:o.tickFormatter}),t.createElement(VJ,o))},GJ=(e,t)=>{var{domain:n}=e,r=qJ(e,zJ),{domain:a}=t;return!!d$(r,qJ(t,FJ))&&(Array.isArray(n)&&2===n.length&&Array.isArray(a)&&2===a.length?n[0]===a[0]&&n[1]===a[1]:d$({domain:n},{domain:a}))},QJ=t.memo(WJ,GJ);QJ.displayName="XAxis";var KJ=["dangerouslySetInnerHTML","ticks"],YJ=["id"],XJ=["domain"],$J=["domain"];function JJ(){return JJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JJ.apply(null,arguments)}function ZJ(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eZ(e){var n=uL();return(0,t.useLayoutEffect)(()=>(n(OK(e)),()=>{n(IK(e))}),[e,n]),null}var tZ=e=>{var{yAxisId:n,className:r,width:a,label:s}=e,i=(0,t.useRef)(null),o=(0,t.useRef)(null),l=mL(mz),c=gz(),u=uL(),d="yAxis",h=mL(e=>EG(e,d,n,c)),f=mL(e=>MG(e,n)),m=mL(e=>RG(e,n)),p=mL(e=>VG(e,d,n,c)),g=mL(e=>sW(e,n));if((0,t.useLayoutEffect)(()=>{if("auto"===a&&f&&!Q$(s)&&!(0,t.isValidElement)(s)&&null!=g){var e=i.current;if(e){var r=e.getCalculatedWidth();Math.round(f.width)!==Math.round(r)&&u(RK({id:n,width:r}))}}},[p,f,u,s,n,a,g]),null==f||null==m||null==g)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=ZJ(e,KJ),{id:b}=g,w=ZJ(g,YJ);return t.createElement(gJ,JJ({},x,w,{ref:i,labelRef:o,scale:h,x:m.x,y:m.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:f.width,height:f.height,className:UI("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p}))},nZ={allowDataOverflow:aW.allowDataOverflow,allowDecimals:aW.allowDecimals,allowDuplicatedCategory:aW.allowDuplicatedCategory,hide:!1,mirror:aW.mirror,orientation:aW.orientation,padding:aW.padding,reversed:aW.reversed,scale:aW.scale,tickCount:aW.tickCount,type:aW.type,width:aW.width,yAxisId:0},rZ=e=>{var n,r,a,s,i,o=UX(e,nZ);return t.createElement(t.Fragment,null,t.createElement(eZ,{interval:null!==(n=o.interval)&&void 0!==n?n:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:null!==(r=o.includeHidden)&&void 0!==r&&r,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:null!==(a=o.angle)&&void 0!==a?a:0,minTickGap:null!==(s=o.minTickGap)&&void 0!==s?s:5,tick:null===(i=o.tick)||void 0===i||i,tickFormatter:o.tickFormatter}),t.createElement(tZ,o))},aZ=(e,t)=>{var{domain:n}=e,r=ZJ(e,XJ),{domain:a}=t;return!!d$(r,ZJ(t,$J))&&(Array.isArray(n)&&2===n.length&&Array.isArray(a)&&2===a.length?n[0]===a[0]&&n[1]===a[1]:d$({domain:n},{domain:a}))},sZ=t.memo(rZ,aZ);function iZ(){return iZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iZ.apply(null,arguments)}function oZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oZ(Object(n),!0).forEach(function(t){cZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cZ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){return Array.isArray(e)&&XI(e[0])&&XI(e[1])?e.join(" ~ "):e}sZ.displayName="YAxis";var dZ=e=>{var{separator:n=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,m=lZ({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=lZ({margin:0},s),g=!rP(d),v=g?d:"",y=UI("recharts-default-tooltip",c),x=UI("recharts-tooltip-label",u);g&&h&&void 0!==i&&null!==i&&(v=h(d,i));var b=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",iZ({className:y,style:m},b),t.createElement("p",{className:x,style:p},t.isValidElement(v)?v:"".concat(v)),(()=>{if(i&&i.length){var e=(l?gL()(i,l):i).map((e,r)=>{if("none"===e.type)return null;var s=e.formatter||o||uZ,{value:l,name:c}=e,u=l,d=c;if(s){var h=s(l,c,e,r,i);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=lZ({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:f},XI(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,XI(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},hZ="recharts-tooltip-wrapper",fZ={visibility:"hidden"};function mZ(e){var{coordinate:t,translateX:n,translateY:r}=e;return UI(hZ,{["".concat(hZ,"-right")]:YI(n)&&t&&YI(t.x)&&n>=t.x,["".concat(hZ,"-left")]:YI(n)&&t&&YI(t.x)&&n<t.x,["".concat(hZ,"-bottom")]:YI(r)&&t&&YI(t.y)&&r>=t.y,["".concat(hZ,"-top")]:YI(r)&&t&&YI(t.y)&&r<t.y})}function pZ(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&YI(s[r]))return s[r];var u=n[r]-o-(a>0?a:0),d=n[r]+a;if(t[r])return i[r]?u:d;var h=l[r];return null==h?0:i[r]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function gZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gZ(Object(n),!0).forEach(function(t){yZ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yZ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xZ extends t.PureComponent{constructor(){super(...arguments),yZ(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yZ(this,"handleKeyDown",e=>{var t,n,r,a;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(a=this.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:m,lastBoundingBox:p,innerRef:g,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:x}=function(e){var t,n,r,{allowEscapeViewBox:a,coordinate:s,offsetTopLeft:i,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&s?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=pZ({allowEscapeViewBox:a,coordinate:s,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=pZ({allowEscapeViewBox:a,coordinate:s,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):fZ,{cssProperties:t,cssClasses:mZ({translateX:n,translateY:r,coordinate:s})}}({allowEscapeViewBox:n,coordinate:i,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:h,viewBox:f}),b=v?{}:vZ(vZ({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=vZ(vZ({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:w,ref:g},s)}}var bZ=n(2239),wZ=n.n(bZ);function NZ(e,t,n){return!0===t?wZ()(e,n):"function"===typeof t?wZ()(e,t):e}var SZ,EZ,kZ,jZ,TZ,_Z,CZ,AZ,OZ,IZ,PZ,DZ,RZ,MZ;function LZ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[n,r]=(0,t.useState)({height:0,left:0,top:0,width:0}),a=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),a={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(a.height-n.height)>1||Math.abs(a.left-n.left)>1||Math.abs(a.top-n.top)>1||Math.abs(a.width-n.width)>1)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[n.width,n.height,n.top,n.left,...e]);return[n,a]}function zZ(){}function FZ(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function UZ(e){this._context=e}function qZ(e){this._context=e}function BZ(e){this._context=e}UZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:FZ(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:FZ(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},qZ.prototype={areaStart:zZ,areaEnd:zZ,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:FZ(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},BZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:FZ(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class VZ{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function HZ(e){this._context=e}function WZ(e){this._context=e}function GZ(e){return new WZ(e)}function QZ(e){return e<0?-1:1}function KZ(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),o=(s*a+i*r)/(r+a);return(QZ(s)+QZ(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function YZ(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function XZ(e,t,n){var r=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,a+o*t,s-o,i-o*n,s,i)}function $Z(e){this._context=e}function JZ(e){this._context=new ZZ(e)}function ZZ(e){this._context=e}function e0(e){this._context=e}function t0(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function n0(e,t){this._context=e,this._t=t}function r0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}HZ.prototype={areaStart:zZ,areaEnd:zZ,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},WZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},$Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XZ(this,this._t0,YZ(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,XZ(this,YZ(this,n=KZ(this,e,t)),n);break;default:XZ(this,this._t0,n=KZ(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(JZ.prototype=Object.create($Z.prototype)).point=function(e,t){$Z.prototype.point.call(this,t,e)},ZZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},e0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=t0(e),a=t0(t),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const a0=Math.PI,s0=2*a0,i0=1e-6,o0=s0-i0;function l0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class c0{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?l0:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return l0;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(SZ||(SZ=r0(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(EZ||(EZ=r0(["Z"]))))}lineTo(e,t){this._append(kZ||(kZ=r0(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(jZ||(jZ=r0(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,s){this._append(TZ||(TZ=r0(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+s)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,i=this._y1,o=n-e,l=r-t,c=s-e,u=i-t,d=c*c+u*u;if(null===this._x1)this._append(_Z||(_Z=r0(["M",",",""])),this._x1=e,this._y1=t);else if(d>i0)if(Math.abs(u*o-l*c)>i0&&a){let h=n-s,f=r-i,m=o*o+l*l,p=h*h+f*f,g=Math.sqrt(m),v=Math.sqrt(d),y=a*Math.tan((a0-Math.acos((m+d-p)/(2*g*v)))/2),x=y/v,b=y/g;Math.abs(x-1)>i0&&this._append(AZ||(AZ=r0(["L",",",""])),e+x*c,t+x*u),this._append(OZ||(OZ=r0(["A",",",",0,0,",",",",",""])),a,a,+(u*h>c*f),this._x1=e+b*o,this._y1=t+b*l)}else this._append(CZ||(CZ=r0(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let i=n*Math.cos(r),o=n*Math.sin(r),l=e+i,c=t+o,u=1^s,d=s?r-a:a-r;null===this._x1?this._append(IZ||(IZ=r0(["M",",",""])),l,c):(Math.abs(this._x1-l)>i0||Math.abs(this._y1-c)>i0)&&this._append(PZ||(PZ=r0(["L",",",""])),l,c),n&&(d<0&&(d=d%s0+s0),d>o0?this._append(DZ||(DZ=r0(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-i,t-o,n,n,u,this._x1=l,this._y1=c):d>i0&&this._append(RZ||(RZ=r0(["A",",",",0,",",",",",",",""])),n,n,+(d>=a0),u,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(MZ||(MZ=r0(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function u0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new c0(t)}function d0(e){return e[0]}function h0(e){return e[1]}function f0(e,t){var n=wL(!0),r=null,a=GZ,s=null,i=u0(o);function o(o){var l,c,u,d=(o=bL(o)).length,h=!1;for(null==r&&(s=a(u=i())),l=0;l<=d;++l)!(l<d&&n(c=o[l],l,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(c,l,o),+t(c,l,o));if(u)return s=null,u+""||null}return e="function"===typeof e?e:void 0===e?d0:wL(e),t="function"===typeof t?t:void 0===t?h0:wL(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:wL(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:wL(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:wL(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),o):r},o}function m0(e,t,n){var r=null,a=wL(!0),s=null,i=GZ,o=null,l=u0(c);function c(c){var u,d,h,f,m,p=(c=bL(c)).length,g=!1,v=new Array(p),y=new Array(p);for(null==s&&(o=i(m=l())),u=0;u<=p;++u){if(!(u<p&&a(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(r?+r(f,u,c):v[u],n?+n(f,u,c):y[u]))}if(m)return o=null,m+""||null}function u(){return f0().defined(a).curve(i).context(s)}return e="function"===typeof e?e:void 0===e?d0:wL(+e),t="function"===typeof t?t:wL(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?h0:wL(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:wL(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:wL(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:wL(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:wL(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:wL(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:wL(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:wL(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}function g0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g0(Object(n),!0).forEach(function(t){y0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x0={curveBasisClosed:function(e){return new qZ(e)},curveBasisOpen:function(e){return new BZ(e)},curveBasis:function(e){return new UZ(e)},curveBumpX:function(e){return new VZ(e,!0)},curveBumpY:function(e){return new VZ(e,!1)},curveLinearClosed:function(e){return new HZ(e)},curveLinear:GZ,curveMonotoneX:function(e){return new $Z(e)},curveMonotoneY:function(e){return new JZ(e)},curveNatural:function(e){return new e0(e)},curveStep:function(e){return new n0(e,.5)},curveStepAfter:function(e){return new n0(e,1)},curveStepBefore:function(e){return new n0(e,0)}},b0=e=>dP(e.x)&&dP(e.y),w0=e=>e.x,N0=e=>e.y,S0=e=>{var t,{type:n="linear",points:r=[],baseLine:a,layout:s,connectNulls:i=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var n="curve".concat(aP(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?x0[n]||GZ:x0["".concat(n).concat("vertical"===t?"Y":"X")]})(n,s),l=i?r.filter(b0):r;if(Array.isArray(a)){var c=i?a.filter(e=>b0(e)):a,u=l.map((e,t)=>v0(v0({},e),{},{base:c[t]}));return(t="vertical"===s?m0().y(N0).x1(w0).x0(e=>e.base.x):m0().x(w0).y1(N0).y0(e=>e.base.y)).defined(b0).curve(o),t(u)}return(t="vertical"===s&&YI(a)?m0().y(N0).x1(w0).x0(a):YI(a)?m0().x(w0).y1(N0).y0(a):f0().x(w0).y(N0)).defined(b0).curve(o),t(l)},E0=e=>{var{className:n,points:r,path:a,pathRef:s}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?S0(e):a;return t.createElement("path",p0({},KY(e),eJ(e),{className:UI("recharts-curve",n),d:null===i?void 0:i,ref:s}))},k0=["x","y","top","left","width","height","className"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}function T0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C0=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),A0=e=>{var{x:n=0,y:r=0,top:a=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,k0),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T0(Object(n),!0).forEach(function(t){_0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:r,top:a,left:s,width:i,height:o},c);return YI(n)&&YI(r)&&YI(i)&&YI(o)&&YI(a)&&YI(s)?t.createElement("path",j0({},XY(u),{className:UI("recharts-cross",l),d:C0(n,r,i,o,a,s)})):null};function O0(){}function I0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I0(Object(n),!0).forEach(function(t){D0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R0=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),M0=(e,t)=>Object.keys(t).reduce((n,r)=>P0(P0({},n),{},{[r]:e(r,t[r])}),{});function L0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L0(Object(n),!0).forEach(function(t){F0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F0(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U0=(e,t,n)=>e+(t-e)*n,q0=e=>{var{from:t,to:n}=e;return t!==n},B0=(e,t,n)=>{var r=M0((t,n)=>{if(q0(n)){var[r,a]=e(n.from,n.to,n.velocity);return z0(z0({},n),{},{from:r,velocity:a})}return n},t);return n<1?M0((e,t)=>q0(t)?z0(z0({},t),{},{velocity:U0(t.velocity,r[e].velocity,n),from:U0(t.from,r[e].from,n)}):t,t):B0(e,r,n-1)};function V0(e,t,n,r,a,s){var i,o=r.reduce((n,r)=>z0(z0({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{i||(i=r);var u=(r-i)/n.dt;o=B0(n,o,u),a(z0(z0(z0({},e),t),M0((e,t)=>t.from,o))),i=r,Object.values(o).filter(q0).length&&(l=s.setTimeout(c))};return()=>(l=s.setTimeout(c),()=>{l()})}const H0=(e,t,n,r,a,s)=>{var i,o,l=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?V0(e,t,n,l,a,s):function(e,t,n,r,a,s,i){var o,l=null,c=a.reduce((n,r)=>z0(z0({},n),{},{[r]:[e[r],t[r]]}),{}),u=a=>{o||(o=a);var d=(a-o)/r,h=M0((e,t)=>U0(...t,n(d)),c);if(s(z0(z0(z0({},e),t),h)),d<1)l=i.setTimeout(u);else{var f=M0((e,t)=>U0(...t,n(1)),c);s(z0(z0(z0({},e),t),f))}};return()=>(l=i.setTimeout(u),()=>{l()})}(e,t,n,r,l,a,s)};var W0=1e-4,G0=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Q0=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),K0=(e,t)=>n=>{var r=G0(e,t);return Q0(r,n)},Y0=function(){for(var e,t,n,r,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];if(1===s.length)switch(s[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var o=s[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,n,t,r]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===s.length&&([e,n,t,r]=s);var l,c,u=K0(e,t),d=K0(n,r),h=(l=e,c=t,e=>{var t=[...G0(l,c).map((e,t)=>e*t).slice(1),0];return Q0(t,e)}),f=e=>e>1?1:e<0?0:e,m=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=u(n)-t,s=h(n);if(Math.abs(a-t)<W0||s<W0)return d(n);n=f(n-a/s)}return d(n)};return m.isStepper=!1,m},X0=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Y0(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(e,a,s)=>{var i=s+(-(e-a)*t-s*n)*r/1e3,o=s*r/1e3+e;return Math.abs(o-a)<W0&&Math.abs(i)<W0?[a,0]:[o,i]};return a.isStepper=!0,a.dt=r,a}();default:if("cubic-bezier"===e.split("(")[0])return Y0(e)}return"function"===typeof e?e:null};class $0{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,a=s=>{s-n>=t?e(s):"function"===typeof requestAnimationFrame&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function J0(){return function(e){var t=()=>null,n=!1,r=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var i=s,[o,...l]=i;return"number"===typeof o?void(r=e.setTimeout(a.bind(null,l),o)):(a(o),void(r=e.setTimeout(a.bind(null,l))))}"string"===typeof s&&t(s),"object"===typeof s&&t(s),"function"===typeof s&&s()}};return{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),a(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new $0)}var Z0=(0,t.createContext)(J0);var e1={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},t1={t:0},n1={t:1};function r1(e){var n=UX(e,e1),{isActive:r,canBegin:a,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=n,d=function(e,n){var r=(0,t.useContext)(Z0);return(0,t.useMemo)(()=>null!==n&&void 0!==n?n:r(e),[e,n,r])}(n.animationId,n.animationManager),[h,f]=(0,t.useState)(r?t1:n1),m=(0,t.useRef)(null);return(0,t.useEffect)(()=>{r||f(n1)},[r]),(0,t.useEffect)(()=>{if(!r||!a)return O0;var e=H0(t1,n1,X0(i),s,f,d.getTimeoutController());return d.start([c,o,()=>{m.current=e()},s,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,a,s,i,o,c,l,d]),u(h.t)}function a1(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,t.useRef)(JI(n)),a=(0,t.useRef)(e);return a.current!==e&&(r.current=JI(n),a.current=e),r.current}var s1=["radius"],i1=["radius"];function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(t){c1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u1.apply(null,arguments)}function d1(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var h1=(e,t,n,r,a)=>{var s,i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>i?i:a[d];s="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(s+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),s+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(s+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*u[1])),s+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(s+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),s+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(s+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*u[3])),s+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);s="M ".concat(e,",").concat(t+o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*h,"\n            L ").concat(e+n,",").concat(t+r-o*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*h," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},f1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m1=e=>{var n=UX(e,f1),r=(0,t.useRef)(null),[a,s]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&s(e)}catch(t){}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=n,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=n,v=(0,t.useRef)(l),y=(0,t.useRef)(c),x=(0,t.useRef)(i),b=(0,t.useRef)(o),w=a1((0,t.useMemo)(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var N=UI("recharts-rectangle",d);if(!g){var S=XY(n),{radius:E}=S,k=d1(S,s1);return t.createElement("path",u1({},k,{radius:"number"===typeof u?u:void 0,className:N,d:h1(i,o,l,c,u)}))}var j=v.current,T=y.current,_=x.current,C=b.current,A="0px ".concat(-1===a?1:a,"px"),O="".concat(a,"px 0px"),I=R0(["strokeDasharray"],f,"string"===typeof h?h:void 0);return t.createElement(r1,{animationId:w,key:w,canBegin:a>0,duration:f,easing:h,isActive:g,begin:m},e=>{var a,s=tP(j,l,e),d=tP(T,c,e),h=tP(_,i,e),f=tP(C,o,e);r.current&&(v.current=s,y.current=d,x.current=h,b.current=f),a=p?e>0?{transition:I,strokeDasharray:O}:{strokeDasharray:A}:{strokeDasharray:O};var m=XY(n),{radius:g}=m,w=d1(m,i1);return t.createElement("path",u1({},w,{radius:"number"===typeof u?u:void 0,className:N,d:h1(h,f,s,d,u),ref:r,style:l1(l1({},a),n.style)}))})};function p1(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e;return{points:[AL(t,n,r,a),AL(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g1.apply(null,arguments)}var v1=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+r,u=Math.asin(o/c)/_L,d=l?a:a+s*u,h=l?a-s*u:a;return{center:AL(t,n,c,d),circleTangency:AL(t,n,r,d),lineTangency:AL(t,n,c*Math.cos(u*_L),h),theta:u}},y1=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:i}=e,o=((e,t)=>GI(t-e)*Math.min(Math.abs(t-e),359.999))(s,i),l=s+o,c=AL(t,n,a,s),u=AL(t,n,a,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(s>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=AL(t,n,r,s),f=AL(t,n,r,l);d+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(s<=l),",\n            ").concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},x1={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},b1=e=>{var n=UX(e,x1),{cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=n;if(i<s||u===d)return null;var f,m=UI("recharts-sector",h),p=i-s,g=ZI(o,p,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=GI(c-l),{circleTangency:d,lineTangency:h,theta:f}=v1({cx:t,cy:n,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:g}=v1({cx:t,cy:n,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):y1({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n  ");if(r>0){var{circleTangency:x,lineTangency:b,theta:w}=v1({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:N,lineTangency:S,theta:E}=v1({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-w-E;if(k<0&&0===s)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+="L".concat(S.x,",").concat(S.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else y+="L".concat(t,",").concat(n,"Z");return y})({cx:r,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y1({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),t.createElement("path",g1({},XY(n),{className:m,d:f}))};function w1(e,t,n){var r,a,s,i;if("horizontal"===e)s=r=t.x,a=n.top,i=n.top+n.height;else if("vertical"===e)i=a=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return p1(t);var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=AL(o,l,c,d),f=AL(o,l,u,d);r=h.x,a=h.y,s=f.x,i=f.y}return[{x:r,y:a},{x:s,y:i}]}function N1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N1(Object(n),!0).forEach(function(t){E1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k1=()=>{var e=mL(WH),t=mL(WQ),n=mL(BQ);return JL(S1(S1({},e),{},{scale:n}),t)};function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j1.apply(null,arguments)}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T1(Object(n),!0).forEach(function(t){C1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A1(e){var n,r,{coordinate:a,payload:s,index:i,offset:o,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:d,chartName:h}=e,f=a,m=s,p=i;if(!u||!f||"ScatterChart"!==h&&"axis"!==d)return null;if("ScatterChart"===h)n=f,r=A0;else if("BarChart"===h)n=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,f,o,l),r=m1;else if("radial"===c){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:b}=p1(f);n={cx:g,cy:v,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},r=b1}else n={points:w1(c,f,o)},r=E0;var w="object"===typeof u&&"className"in u?u.className:void 0,N=_1(_1(_1(_1({stroke:"#ccc",pointerEvents:"none"},o),n),YY(u)),{},{payload:m,payloadIndex:p,className:UI("recharts-tooltip-cursor",w)});return(0,t.isValidElement)(u)?(0,t.cloneElement)(u,N):(0,t.createElement)(r,N)}function O1(e){var n=k1(),r=wz(),a=kz(),s=sK();return t.createElement(A1,j1({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:n,chartName:s}))}function I1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I1(Object(n),!0).forEach(function(t){D1(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R1(e){return e.dataKey}var M1=[],L1={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!MY,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function z1(e){var n=UX(e,L1),{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:m,wrapperStyle:p,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:b,axisId:w}=n,N=uL(),S="number"===typeof x?String(x):x;(0,t.useEffect)(()=>{N(OM({shared:v,trigger:y,axisId:w,active:r,defaultIndex:S}))},[N,v,y,w,r,S]);var E=xz(),k=BY(),j=function(e){return mL(t=>$G(t,e))}(v),{activeIndex:T,isActive:_}=mL(e=>vK(e,j,y,S)),C=mL(e=>gK(e,j,y,S)),A=mL(e=>pK(e,j,y,S)),O=mL(e=>mK(e,j,y,S)),I=C,P=(0,t.useContext)(yX),D=null!==r&&void 0!==r?r:_,[R,M]=LZ([I,D]),L="axis"===j?A:void 0;vX(j,y,O,L,T,D);var z=null!==b&&void 0!==b?b:P;if(null==z)return null;var F=null!==I&&void 0!==I?I:M1;D||(F=M1),l&&F.length&&(F=NZ(I.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),d,R1));var U=F.length>0,q=t.createElement(xZ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:i,isAnimationActive:c,active:D,coordinate:O,hasPayload:U,offset:u,position:h,reverseDirection:f,useTranslate3d:m,viewBox:E,wrapperStyle:p,lastBoundingBox:R,innerRef:M,hasPortalFromProps:Boolean(b)},function(e,n){return t.isValidElement(e)?t.cloneElement(e,n):"function"===typeof e?t.createElement(e,n):t.createElement(dZ,n)}(o,P1(P1({},n),{},{payload:F,label:L,active:D,coordinate:O,accessibilityLayer:k})));return t.createElement(t.Fragment,null,(0,ix.createPortal)(q,z),D&&t.createElement(O1,{cursor:g,tooltipEventType:j,coordinate:O,payload:I,index:T}))}var F1=e=>null;F1.displayName="Cell";var U1=n(6667),q1=n.n(U1),B1=["valueAccessor"],V1=["dataKey","clockWise","id","textBreakAll"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H1.apply(null,arguments)}function W1(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var G1=e=>Array.isArray(e.value)?q1()(e.value):e.value,Q1=(0,t.createContext)(void 0),K1=Q1.Provider,Y1=(0,t.createContext)(void 0),X1=Y1.Provider;function $1(e){var{valueAccessor:n=G1}=e,r=W1(e,B1),{dataKey:a,clockWise:s,id:i,textBreakAll:o}=r,l=W1(r,V1),c=(0,t.useContext)(Q1),u=(0,t.useContext)(Y1),d=c||u;return d&&d.length?t.createElement(m$,{className:"recharts-label-list"},d.map((e,s)=>{var c,u=rP(a)?n(e,s):FL(e&&e.payload,a),d=rP(i)?{}:{id:"".concat(i,"-").concat(s)};return t.createElement($$,H1({key:"label-".concat(s)},XY(e),l,d,{fill:null!==(c=r.fill)&&void 0!==c?c:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:o,viewBox:e.viewBox,index:s}))})):null}function J1(e){var{label:n}=e;return n?!0===n?t.createElement($1,{key:"labelList-implicit"}):t.isValidElement(n)||Q$(n)?t.createElement($1,{key:"labelList-implicit",content:n}):"object"===typeof n?t.createElement($1,H1({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}$1.displayName="LabelList";var Z1=n(6429),e2=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",t2=null,n2=null,r2=e=>{if(e===t2&&Array.isArray(n2))return n2;var n=[];return t.Children.forEach(e,e=>{rP(e)||((0,Z1.isFragment)(e)?n=n.concat(r2(e.props.children)):n.push(e))}),n2=n,t2=e,n};function a2(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>e2(e)):[e2(t)],r2(e).forEach(e=>{var t=WI()(e,"type.displayName")||WI()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var s2=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),i2="Invariant failed";var o2=n(2540),l2=n.n(o2);function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(t){d2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h2.apply(null,arguments)}var f2=(e,t,n,r,a)=>{var s,i=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-i/2,",").concat(t+a),s+="L ".concat(e+n-i/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},m2={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},p2=e=>{var n=UX(e,m2),{x:r,y:a,upperWidth:s,lowerWidth:i,height:o,className:l}=n,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=n,f=(0,t.useRef)(null),[m,p]=(0,t.useState)(-1),g=(0,t.useRef)(s),v=(0,t.useRef)(i),y=(0,t.useRef)(o),x=(0,t.useRef)(r),b=(0,t.useRef)(a),w=a1(e,"trapezoid-");if((0,t.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&p(e)}catch(t){}},[]),r!==+r||a!==+a||s!==+s||i!==+i||o!==+o||0===s&&0===i||0===o)return null;var N=UI("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",h2({},XY(n),{className:N,d:f2(r,a,s,i,o)})));var S=g.current,E=v.current,k=y.current,j=x.current,T=b.current,_="0px ".concat(-1===m?1:m,"px"),C="".concat(m,"px 0px"),A=R0(["strokeDasharray"],u,c);return t.createElement(r1,{animationId:w,key:w,canBegin:m>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=tP(S,s,e),c=tP(E,i,e),u=tP(k,o,e),d=tP(j,r,e),h=tP(T,a,e);f.current&&(g.current=l,v.current=c,y.current=u,x.current=d,b.current=h);var m=e>0?{transition:A,strokeDasharray:C}:{strokeDasharray:_};return t.createElement("path",h2({},XY(n),{className:N,d:f2(d,h,l,c,u),ref:f,style:u2(u2({},m),n.style)}))})};Math.abs,Math.atan2;const g2=Math.cos,v2=(Math.max,Math.min,Math.sin),y2=Math.sqrt,x2=Math.PI,b2=2*x2;const w2={draw(e,t){const n=y2(t/x2);e.moveTo(n,0),e.arc(0,0,n,0,b2)}},N2={draw(e,t){const n=y2(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},S2=y2(1/3),E2=2*S2,k2={draw(e,t){const n=y2(t/E2),r=n*S2;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},j2={draw(e,t){const n=y2(t),r=-n/2;e.rect(r,r,n,n)}},T2=v2(x2/10)/v2(7*x2/10),_2=v2(b2/10)*T2,C2=-g2(b2/10)*T2,A2={draw(e,t){const n=y2(.8908130915292852*t),r=_2*n,a=C2*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=b2*s/5,i=g2(t),o=v2(t);e.lineTo(o*n,-i*n),e.lineTo(i*r-o*a,o*r+i*a)}e.closePath()}},O2=y2(3),I2={draw(e,t){const n=-y2(t/(3*O2));e.moveTo(0,2*n),e.lineTo(-O2*n,-n),e.lineTo(O2*n,-n),e.closePath()}},P2=-.5,D2=y2(3)/2,R2=1/y2(12),M2=3*(R2/2+1),L2={draw(e,t){const n=y2(t/M2),r=n/2,a=n*R2,s=r,i=n*R2+n,o=-s,l=i;e.moveTo(r,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(P2*r-D2*a,D2*r+P2*a),e.lineTo(P2*s-D2*i,D2*s+P2*i),e.lineTo(P2*o-D2*l,D2*o+P2*l),e.lineTo(P2*r+D2*a,P2*a-D2*r),e.lineTo(P2*s+D2*i,P2*i-D2*s),e.lineTo(P2*o+D2*l,P2*l-D2*o),e.closePath()}};y2(3),y2(3);var z2=["type","size","sizeType"];function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(null,arguments)}function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(t){B2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V2={symbolCircle:w2,symbolCross:N2,symbolDiamond:k2,symbolSquare:j2,symbolStar:A2,symbolTriangle:I2,symbolWye:L2},H2=Math.PI/180,W2=e=>{var{type:n="circle",size:r=64,sizeType:a="area"}=e,s=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,z2),i=q2(q2({},s),{},{type:n,size:r,sizeType:a}),o="circle";"string"===typeof n&&(o=n);var{className:l,cx:c,cy:u}=i,d=XY(i);return c===+c&&u===+u&&r===+r?t.createElement("path",F2({},d,{className:UI("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(aP(e));return V2[t]||w2})(o),t=function(e,t){let n=null,r=u0(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:wL(e||w2),t="function"===typeof t?t:wL(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:wL(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:wL(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*H2;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,o)),n=t();if(null!==n)return n})()})):null};W2.registerSymbol=(e,t)=>{V2["symbol".concat(aP(e))]=t};var G2=["option","shapeType","propTransformer","activeClassName","isActive"];function Q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q2(Object(n),!0).forEach(function(t){Y2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X2(e,t){return K2(K2({},t),e)}function $2(e){var{shapeType:n,elementProps:r}=e;switch(n){case"rectangle":return t.createElement(m1,r);case"trapezoid":return t.createElement(p2,r);case"sector":return t.createElement(b1,r);case"symbols":if(function(e){return"symbols"===e}(n))return t.createElement(W2,r);break;default:return null}}function J2(e){var n,{option:r,shapeType:a,propTransformer:s=X2,activeClassName:i="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,G2);if((0,t.isValidElement)(r))n=(0,t.cloneElement)(r,K2(K2({},l),function(e){return(0,t.isValidElement)(e)?e.props:e}(r)));else if("function"===typeof r)n=r(l);else if(l2()(r)&&"boolean"!==typeof r){var c=s(r,l);n=t.createElement($2,{shapeType:a,elementProps:c})}else{var u=l;n=t.createElement($2,{shapeType:a,elementProps:u})}return o?t.createElement(m$,{className:i},n):n}var Z2=["x","y"];function e4(){return e4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e4.apply(null,arguments)}function t4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t4(Object(n),!0).forEach(function(t){r4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a4(e,t){var{x:n,y:r}=e,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Z2),s="".concat(n),i=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),h=parseInt(d,10);return n4(n4(n4(n4(n4({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function s4(e){return t.createElement(J2,e4({shapeType:"rectangle",propTransformer:a4,activeClassName:"recharts-active-bar"},e))}var i4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(YI(e))return e;var a=YI(n)||rP(n);return a?e(n,r):(a||function(e){if(!e)throw new Error(i2)}(!1),t)}},o4=(e,t)=>{var n=uL();return(r,a)=>s=>{null===e||void 0===e||e(r,a,s),n(IM({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},l4=e=>{var t=uL();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),t(PM())}},c4=(e,t)=>{var n=uL();return(r,a)=>s=>{null===e||void 0===e||e(r,a,s),n(RM({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function u4(e){var{fn:n,args:r}=e,a=uL(),s=gz();return(0,t.useLayoutEffect)(()=>{if(!s){var e=n(r);return a(CM(e)),()=>{a(AM(e))}}},[n,r,a,s]),null}var d4=["children"];var h4={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},f4=(0,t.createContext)(h4);function m4(e){var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,d4);return t.createElement(f4.Provider,{value:r},n)}function p4(e,t){var n,r,a=mL(t=>rW(t,e)),s=mL(e=>iW(e,t)),i=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:tW.allowDataOverflow,o=null!==(r=null===s||void 0===s?void 0:s.allowDataOverflow)&&void 0!==r?r:aW.allowDataOverflow;return{needClip:i||o,needClipX:i,needClipY:o}}function g4(e){var{xAxisId:n,yAxisId:r,clipPathId:a}=e,s=PX(),{needClipX:i,needClipY:o,needClip:l}=p4(n,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=s;return t.createElement("clipPath",{id:"clipPath-".concat(a)},t.createElement("rect",{x:i?c:c-d/2,y:o?u:u-h/2,width:i?d:2*d,height:o?h:2*h}))}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(t){x4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b4=sL([fW,(e,t,n,r,a)=>a],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),w4=sL([b4],e=>null===e||void 0===e?void 0:e.maxBarSize),N4=(e,t,n)=>{var r=null!==n&&void 0!==n?n:e;if(!rP(r))return ZI(r,t,0)},S4=sL([Ez,fW,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,a)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===a).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),E4=sL([S4,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===Ez(e)?LG(e,"xAxis",t):LG(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(KH),a=e.filter(e=>null==e.stackId),s=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{}),i=Object.entries(s).map(e=>{var[r,a]=e;return{stackId:r,dataKeys:a.map(e=>e.dataKey),barSize:N4(t,n,a[0].barSize)}});return[...i,...a.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:N4(t,n,e.barSize)}))]}),k4=(e,t,n,r)=>{var a,s;return"horizontal"===Ez(e)?(a=WG(e,"xAxis",t,r),s=HG(e,"xAxis",t,r)):(a=WG(e,"yAxis",n,r),s=HG(e,"yAxis",n,r)),JL(a,s)};var j4,T4=sL([E4,uH,e=>e.rootProps.barGap,dH,(e,t,n,r,a)=>{var s,i,o=b4(e,t,n,r,a);if(null!=o){var l,c,u=Ez(e),d=uH(e),{maxBarSize:h}=o,f=rP(h)?d:h;return"horizontal"===u?(l=WG(e,"xAxis",t,r),c=HG(e,"xAxis",t,r)):(l=WG(e,"yAxis",n,r),c=HG(e,"yAxis",n,r)),null!==(s=null!==(i=JL(l,c,!0))&&void 0!==i?i:f)&&void 0!==s?s:0}},k4,w4],(e,t,n,r,a,s,i)=>{var o=rP(i)?t:i,l=function(e,t,n,r,a){var s=r.length;if(!(s<1)){var i,o=ZI(e,n,0,!0),l=[];if(dP(r[0].barSize)){var c=!1,u=n/s,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(s-1)*o)>=n&&(d-=(s-1)*o,o=0),d>=n&&u>0&&(c=!0,d=s*(u*=.9));var h={offset:((n-d)/2|0)-o,size:0};i=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=ZI(t,n,0,!0);n-2*f-(s-1)*o<=0&&(o=0);var m=(n-2*f-(s-1)*o)/s;m>1&&(m>>=0);var p=dP(a)?Math.min(m,a):m;i=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(m+o)*n+(m-p)/2,size:p}}],l)}return i}}(n,r,a!==s?a:s,e,o);return a!==s&&null!=l&&(l=l.map(e=>y4(y4({},e),{},{position:y4(y4({},e.position),{},{offset:e.position.offset-a/2})}))),l}),_4=sL([T4,b4],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),C4=sL([(e,t,n,r)=>"horizontal"===Ez(e)?IW(e,"yAxis",n,r):IW(e,"xAxis",t,r),b4],(e,t)=>{var n=BH(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var a=e[r];if(a){var{stackedData:s}=a;if(s)return s.find(e=>e.key===n)}}}}),A4=sL([hz,mz,(e,t,n,r)=>WG(e,"xAxis",t,r),(e,t,n,r)=>WG(e,"yAxis",n,r),(e,t,n,r)=>HG(e,"xAxis",t,r),(e,t,n,r)=>HG(e,"yAxis",n,r),_4,Ez,UV,k4,C4,b4,(e,t,n,r,a,s)=>s],(e,t,n,r,a,s,i,o,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=l;if(null!=d&&null!=i&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=n&&null!=r&&null!=a&&null!=s&&null!=c){var g,{data:v}=d;if(null!=(g=null!=v&&v.length>0?v:null===f||void 0===f?void 0:f.slice(m,p+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:m}=e,p="horizontal"===t?o:i,g=u?p.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,y,x,b,w,N;u?p=((e,t)=>{if(!t||2!==t.length||!YI(t[0])||!YI(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!YI(e[0])||e[0]<n)&&(a[0]=n),(!YI(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a})(u[d],g):(p=FL(e,n),Array.isArray(p)||(p=[v,p]));var S=i4(r,r3)(p[1],d);if("horizontal"===t){var E,[k,j]=[o.scale(p[0]),o.scale(p[1])];y=KL({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:e,index:d}),x=null!==(E=null!==j&&void 0!==j?j:k)&&void 0!==E?E:void 0,b=a.size;var T=k-j;if(w=QI(T)?0:T,N={x:y,y:h.top,width:b,height:h.height},Math.abs(S)>0&&Math.abs(w)<Math.abs(S)){var _=GI(w||S)*(Math.abs(S)-Math.abs(w));x-=_,w+=_}}else{var[C,A]=[i.scale(p[0]),i.scale(p[1])];if(y=C,x=KL({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:e,index:d}),b=A-C,w=a.size,N={x:h.left,y:x,width:h.width,height:w},Math.abs(S)>0&&Math.abs(b)<Math.abs(S))b+=GI(b||S)*(Math.abs(S)-Math.abs(b))}return null==y||null==x||null==b||null==w?null:W4(W4({},e),{},{x:y,y:x,width:b,height:w,value:u?p:p[1],payload:e,background:N,tooltipPosition:{x:y+b/2,y:x+w/2},parentViewBox:m},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:o,barSettings:d,pos:i,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:u,displayedData:g,offset:e,cells:h})}}),O4=()=>{};function I4(e){var{legendPayload:n}=e,r=uL(),a=gz();return(0,t.useLayoutEffect)(()=>a?O4:(r(sY(n)),()=>{r(iY(n))}),[r,a,n]),null}function P4(e){var{legendPayload:n}=e,r=uL(),a=mL(Ez);return(0,t.useLayoutEffect)(()=>"centric"!==a&&"radial"!==a?O4:(r(sY(n)),()=>{r(iY(n))}),[r,a,n]),null}var D4=null!==(j4=r["useId".toString()])&&void 0!==j4?j4:()=>{var[e]=t.useState(()=>JI("uid-"));return e};var R4=(0,t.createContext)(void 0),M4=e=>{var{id:n,type:r,children:a}=e,s=function(e,t){var n=D4();return t||(e?"".concat(e,"-").concat(n):n)}("recharts-".concat(r),n);return t.createElement(R4.Provider,{value:s},a(s))};function L4(e){var n=uL(),r=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===r.current?n(zK(e)):r.current!==e&&n(FK({prev:r.current,next:e})),r.current=e},[n,e]),(0,t.useLayoutEffect)(()=>()=>{r.current&&(n(UK(r.current)),r.current=null)},[n]),null}function z4(e){var n=uL();return(0,t.useLayoutEffect)(()=>(n(qK(e)),()=>{n(BK(e))}),[n,e]),null}var F4=["onMouseEnter","onMouseLeave","onClick"],U4=["value","background","tooltipPosition"],q4=["id"],B4=["onMouseEnter","onClick","onMouseLeave"];function V4(){return V4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V4.apply(null,arguments)}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H4(Object(n),!0).forEach(function(t){G4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q4(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var K4=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:ez(n,t),payload:e}]};function Y4(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:s,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:ez(s,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function X4(e){var n=mL(XQ),{data:r,dataKey:a,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Q4(i,F4),d=o4(o,a),h=l4(l),f=c4(c,a);if(!s||null==r)return null;var m=YY(s);return t.createElement(t.Fragment,null,r.map((e,r)=>{var{value:i,background:o,tooltipPosition:l}=e,c=Q4(e,U4);if(!o)return null;var p=d(e,r),g=h(e,r),v=f(e,r),y=W4(W4(W4(W4(W4({option:s,isActive:String(r)===n},c),{},{fill:"#eee"},o),m),tJ(u,e,r)),{},{onMouseEnter:p,onMouseLeave:g,onClick:v,dataKey:a,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(s4,V4({key:"background-bar-".concat(r)},y))}))}function $4(e){var{showLabels:n,children:r,rects:a}=e,s=null===a||void 0===a?void 0:a.map(e=>{var t={x:e.x,y:e.y,width:e.width,height:e.height};return W4(W4({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(K1,{value:n?s:void 0},r)}function J4(e){var{shape:n,activeBar:r,baseProps:a,entry:s,index:i,dataKey:o}=e,l=mL(XQ),c=mL(JQ),u=r&&String(i)===l&&(null==c||o===c),d=u?r:n;return t.createElement(s4,V4({},a,{name:String(a.name)},s,{isActive:u,option:d,index:i,dataKey:o}))}function Z4(e){var{shape:n,baseProps:r,entry:a,index:s,dataKey:i}=e;return t.createElement(s4,V4({},r,{name:String(r.name)},a,{isActive:!1,option:n,index:s,dataKey:i}))}function e3(e){var{data:n,props:r}=e,a=KY(r),{id:s}=a,i=Q4(a,q4),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:u,onClick:d,onMouseLeave:h}=r,f=Q4(r,B4),m=o4(u,l),p=l4(h),g=c4(d,l);return n?t.createElement(t.Fragment,null,n.map((e,n)=>t.createElement(m$,V4({key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n),className:"recharts-bar-rectangle"},tJ(f,e,n),{onMouseEnter:m(e,n),onMouseLeave:p(e,n),onClick:g(e,n)}),c?t.createElement(J4,{shape:o,activeBar:c,baseProps:i,entry:e,index:n,dataKey:l}):t.createElement(Z4,{shape:o,baseProps:i,entry:e,index:n,dataKey:l})))):null}function t3(e){var{props:n,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=n,h=r.current,f=a1(n,"recharts-bar-"),[m,p]=(0,t.useState)(!1),g=!m,v=(0,t.useCallback)(()=>{"function"===typeof u&&u(),p(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),p(!0)},[d]);return t.createElement($4,{showLabels:g,rects:a},t.createElement(r1,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:y,key:f},e=>{var i=1===e?a:null===a||void 0===a?void 0:a.map((t,n)=>{var r=h&&h[n];if(r)return W4(W4({},t),{},{x:tP(r.x,t.x,e),y:tP(r.y,t.y,e),width:tP(r.width,t.width,e),height:tP(r.height,t.height,e)});if("horizontal"===s){var a=tP(0,t.height,e);return W4(W4({},t),{},{y:t.y+t.height-a,height:a})}var i=tP(0,t.width,e);return W4(W4({},t),{},{width:i})});return e>0&&(r.current=null!==i&&void 0!==i?i:null),null==i?null:t.createElement(m$,null,t.createElement(e3,{props:n,data:i}))}),t.createElement(J1,{label:n.label}),n.children)}function n3(e){var n=(0,t.useRef)(null);return t.createElement(t3,{previousRectanglesRef:n,props:e})}var r3=0,a3=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:FL(e,t)}};class s3 extends t.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(e||null==n)return null;var u=UI("recharts-bar",a),d=c;return t.createElement(m$,{className:u,id:c},o&&t.createElement("defs",null,t.createElement(g4,{clipPathId:d,xAxisId:s,yAxisId:i})),t.createElement(m$,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},t.createElement(X4,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),t.createElement(n3,this.props)))}}var i3={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!MY,legendType:"rect",minPointSize:r3,xAxisId:0,yAxisId:0};function o3(e){var n,{xAxisId:r,yAxisId:a,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=p4(r,a),m=kz(),p=gz(),g=a2(e.children,F1),v=mL(t=>A4(t,r,a,p,e.id,g));if("vertical"!==m&&"horizontal"!==m)return null;var y=null===v||void 0===v?void 0:v[0];return n=null==y||null==y.height||null==y.width?0:"vertical"===m?y.height/2:y.width/2,t.createElement(m4,{xAxisId:r,yAxisId:a,data:v,dataPointFormatter:a3,errorBarOffset:n},t.createElement(s3,V4({},e,{layout:m,needClip:f,data:v,xAxisId:r,yAxisId:a,hide:s,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function l3(e){var n=UX(e,i3),r=gz();return t.createElement(M4,{id:n.id,type:"bar"},e=>t.createElement(t.Fragment,null,t.createElement(I4,{legendPayload:K4(n)}),t.createElement(u4,{fn:Y4,args:n}),t.createElement(L4,{type:"bar",id:e,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:GL(n.stackId),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:r}),t.createElement(o3,V4({},n,{id:e}))))}var c3=t.memo(l3);function u3(){const[e,n]=(0,t.useState)(!0),[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)({}),[b,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{E()},[]),(0,t.useEffect)(()=>{s&&k()},[s]);const E=async()=>{n(!0);try{const e=kv.currentUser;if(!e)return;const t=Xg(lg(jv,"classes"),Jg("teacherId","==",e.uid)),n=(await hv(t)).docs.map(e=>c({id:e.id},e.data()));a(n)}catch(e){console.error("Error fetching classes:",e)}finally{n(!1)}},k=async()=>{try{const e=Xg(lg(jv,"assignedQuizzes"),Jg("classId","==",s.id),Jg("completed","==",!0)),t=await hv(e),n=new Set,r=[];for(const a of t.docs){const e=a.data();if(!n.has(e.quizId)){n.add(e.quizId);const t=cg(jv,"quizzes",e.quizId),a=await uv(t);a.exists()&&r.push({id:e.quizId,title:a.data().title,quizMode:e.quizMode,assignedAt:e.assignedAt})}}r.sort((e,t)=>e.assignedAt&&t.assignedAt?t.assignedAt.seconds-e.assignedAt.seconds:0),l(r),d(null),f(null)}catch(e){console.error("Error fetching quizzes:",e)}},j=e=>{switch(e){case"good":return"Very Good Items";case"revise":return"To be Revised";case"discard":return"To be Discarded";default:return"Unknown"}},T=async(e,t)=>{p(!0);try{const n=cg(jv,"quizzes",e),r=await uv(n);if(!r.exists())return void console.error("Quiz not found");const a=r.data().questions||[],i=Xg(lg(jv,"quizSubmissions"),Jg("quizId","==",e)),o=await hv(i),l=[];for(const e of o.docs){const t=e.data(),n=cg(jv,"assignedQuizzes",t.assignmentId),r=await uv(n);r.exists()&&r.data().classId===s.id&&l.push(c({id:e.id},t))}if(0===l.length)return f({quizId:e,quizMode:t,questions:a,totalStudents:0,averageRawScore:0,averageBase50Score:0,itemAnalysis:[],lowPerformers:[],topPerformers:[],submissions:[]}),void p(!1);const u=a.map((e,t)=>{let n=0,r="";if("multiple_choice"===e.type){var a;const t=null===(a=e.choices)||void 0===a?void 0:a.find(e=>e.is_correct);r=(null===t||void 0===t?void 0:t.text)||""}else r=e.correct_answer||"";l.forEach(r=>{var a;const s=null===(a=r.answers)||void 0===a?void 0:a[t];if(!s)return;let i=!1;if("multiple_choice"===e.type){var o;const t=null===(o=e.choices)||void 0===o?void 0:o.find(e=>e.is_correct);i=t&&s===t.text}else"true_false"===e.type?i=s.toLowerCase()===e.correct_answer.toLowerCase():"identification"===e.type&&(i=s.toLowerCase().trim()===e.correct_answer.toLowerCase().trim());i&&n++});const s=n/l.length*100,i=(e=>e/100)(s),o=((e,t,n)=>{if(e.length<2)return 0;const r=e.map(e=>{var r;let a=!1;const s=null===(r=e.answers)||void 0===r?void 0:r[t];if(!s)return{score:0,totalScore:e.rawScorePercentage||0};if("multiple_choice"===n.type){var i;const e=null===(i=n.choices)||void 0===i?void 0:i.find(e=>e.is_correct);a=e&&s===e.text}else"true_false"===n.type?a=s.toLowerCase()===n.correct_answer.toLowerCase():"identification"===n.type&&(a=s.toLowerCase().trim()===n.correct_answer.toLowerCase().trim());return{score:a?1:0,totalScore:e.rawScorePercentage||0}}),a=r.sort((e,t)=>t.totalScore-e.totalScore),s=Math.ceil(a.length/2),i=a.length-s,o=a.slice(0,s).filter(e=>1===e.score).length,l=a.slice(s).filter(e=>1===e.score).length,c=o/s-l/i;return Math.round(100*c)/100})(l,t,e),c=(u=i)>=.86?"discard":u>=.71&&u<=.85?"revise":u>=.3&&u<=.7?"good":u>=.15&&u<=.29?"revise":u<.15?"discard":"revise";var u;return{questionNumber:t+1,questionText:e.question,type:e.type,correctCount:n,totalStudents:l.length,percentCorrect:Math.round(s),difficultyIndex:Math.round(100*i)/100,discriminationIndex:o,quality:c,points:e.points||1,index:t}}),d=l.reduce((e,t)=>e+(t.rawScorePercentage||0),0)/l.length,h=l.reduce((e,t)=>e+(t.base50ScorePercentage||0),0)/l.length,m=u.filter(e=>e.percentCorrect<50).map(e=>"Q".concat(e.questionNumber)),g=u.filter(e=>100===e.percentCorrect).map(e=>"Q".concat(e.questionNumber));f({quizId:e,quizMode:t,questions:a,totalStudents:l.length,averageRawScore:Math.round(d),averageBase50Score:Math.round(h),itemAnalysis:u,lowPerformers:m,topPerformers:g,submissions:l})}catch(n){console.error("Error fetching analytics:",n)}finally{p(!1)}},_=async(e,t,n,r,a)=>{try{const t=Xg(lg(jv,"quizSubmissions"),Jg("quizId","==",e)),n=await hv(t),r=Sv(jv);for(const e of n.docs){const t=e.data(),n=cg(jv,"assignedQuizzes",t.assignmentId),i=await uv(n);if(i.exists()&&i.data().classId===s.id){let s=0,i=0;a.forEach((e,n)=>{var r;const a=null===(r=t.answers)||void 0===r?void 0:r[n];if(!a)return;let o=!1;if("multiple_choice"===e.type){var l;const t=null===(l=e.choices)||void 0===l?void 0:l.find(e=>e.is_correct);o=t&&a===t.text}else"true_false"===e.type?o=a.toLowerCase()===e.correct_answer.toLowerCase():"identification"===e.type&&(o=a.toLowerCase().trim()===e.correct_answer.toLowerCase().trim());o&&(i++,s+=e.points||1)});const o=a.reduce((e,t)=>e+(t.points||1),0),l=o>0?Math.round(s/o*100):0,c=Math.round(50+l/2);r.update(e.ref,{score:Math.max(0,s),correctPoints:i,totalPoints:o,rawScorePercentage:l,base50ScorePercentage:c}),r.update(n,{rawScorePercentage:l,base50ScorePercentage:c})}}await r.commit()}catch(i){throw console.error("Error recalculating scores:",i),i}},C=async(e,t,n,r)=>{try{const n=Xg(lg(jv,"quizSubmissions"),Jg("quizId","==",e)),a=await hv(n),i=Sv(jv);for(const e of a.docs){const n=e.data(),a=cg(jv,"assignedQuizzes",n.assignmentId),o=await uv(a);if(o.exists()&&o.data().classId===s.id){let s=0,o=0;r.forEach((e,r)=>{var a;const i=r>=t?r+1:r,l=null===(a=n.answers)||void 0===a?void 0:a[i];if(!l)return;let c=!1;if("multiple_choice"===e.type){var u;const t=null===(u=e.choices)||void 0===u?void 0:u.find(e=>e.is_correct);c=t&&l===t.text}else"true_false"===e.type?c=l.toLowerCase()===e.correct_answer.toLowerCase():"identification"===e.type&&(c=l.toLowerCase().trim()===e.correct_answer.toLowerCase().trim());c&&(o++,s+=e.points||1)});const l=r.reduce((e,t)=>e+(t.points||1),0),c=l>0?Math.round(s/l*100):0,u=Math.round(50+c/2);i.update(e.ref,{score:Math.max(0,s),correctPoints:o,totalPoints:l,rawScorePercentage:c,base50ScorePercentage:u}),i.update(a,{rawScorePercentage:c,base50ScorePercentage:u})}}await i.commit()}catch(a){throw console.error("Error recalculating scores after deletion:",a),a}},A=e=>{switch(e){case"multiple_choice":return"Multiple Choice";case"true_false":return"True/False";case"identification":return"Identification";default:return e}};return e?(0,Uv.jsxs)("div",{className:"min-h-screen flex items-center justify-center font-Outfit",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading\u2026"})]}):(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(RI,{className:"w-8 h-8 text-blue-500 mb-6"}),(0,Uv.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold text-title flex items-center gap-2",children:"Reports & Analytics"}),(0,Uv.jsx)("p",{className:"text-md font-light text-subtext",children:"View detailed quiz details and student performance and insights."})]})]}),s?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsxs)("div",{className:"mb-8",children:[(0,Uv.jsx)("button",{onClick:()=>{i(null),d(null),f(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold mb-4",children:"\u2190 Back to Classes"}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-2xl p-6",children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:s.name}),(0,Uv.jsx)("p",{className:"text-gray-600",children:"Select a quiz to view analytics"})]})]}),u?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"mb-8",children:(0,Uv.jsx)("button",{onClick:()=>{d(null),f(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition font-semibold mb-4",children:"\u2190 Back to Quizzes"})}),m&&(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl p-12 shadow-md text-center",children:[(0,Uv.jsx)(Ex,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600",children:"Loading analytics..."})]}),!m&&h&&(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 shadow-lg text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:["synchronous"===h.quizMode?(0,Uv.jsx)(My,{className:"w-6 h-6"}):(0,Uv.jsx)(Dy,{className:"w-6 h-6"}),(0,Uv.jsx)("h2",{className:"font-semibold text-sm uppercase tracking-wide",children:"Quiz Mode"})]}),(0,Uv.jsx)("p",{className:"text-2xl font-bold",children:"synchronous"===h.quizMode?"LIVE QUIZ":"SELF-PACED"}),(0,Uv.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"synchronous"===h.quizMode?"Synchronous":"Asynchronous"})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl p-6 shadow-lg text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Uv.jsx)(Hy,{className:"w-6 h-6"}),(0,Uv.jsx)("h2",{className:"font-semibold text-sm uppercase tracking-wide",children:"Avg Raw Score"})]}),(0,Uv.jsxs)("p",{className:"text-4xl font-bold",children:[h.averageRawScore,"%"]}),(0,Uv.jsxs)("p",{className:"text-sm opacity-90 mt-1",children:[h.totalStudents," students"]})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-emerald-500 rounded-2xl p-6 shadow-lg text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Uv.jsx)(Hy,{className:"w-6 h-6"}),(0,Uv.jsx)("h2",{className:"font-semibold text-sm uppercase tracking-wide",children:"Avg Base-50 Grade"})]}),(0,Uv.jsxs)("p",{className:"text-4xl font-bold",children:[h.averageBase50Score,"%"]}),(0,Uv.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Transmuted grade"})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl p-6 shadow-lg text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Uv.jsx)(MI,{className:"w-6 h-6"}),(0,Uv.jsx)("h2",{className:"font-semibold text-sm uppercase tracking-wide",children:"Low Performers"})]}),(0,Uv.jsx)("p",{className:"text-2xl font-bold",children:h.lowPerformers.length>0?h.lowPerformers.join(", "):"None"}),(0,Uv.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Below 50% correct"})]}),(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl p-6 shadow-lg text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Uv.jsx)(Ky,{className:"w-6 h-6"}),(0,Uv.jsx)("h2",{className:"font-semibold text-sm uppercase tracking-wide",children:"Top Performers"})]}),(0,Uv.jsx)("p",{className:"text-2xl font-bold",children:h.topPerformers.length>0?h.topPerformers.join(", "):"None"}),(0,Uv.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"100% correct"})]})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-md mb-8",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,Uv.jsx)(kx,{className:"w-6 h-6 text-blue-600"}),(0,Uv.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Item Analysis Overview"})]}),h.itemAnalysis.length>0?(0,Uv.jsx)(wP,{width:"100%",height:400,children:(0,Uv.jsxs)(WX,{data:h.itemAnalysis,children:[(0,Uv.jsx)(RJ,{strokeDasharray:"3 3"}),(0,Uv.jsx)(QJ,{dataKey:"questionNumber",label:{value:"Question Number",position:"insideBottom",offset:-5},tickFormatter:e=>"Q".concat(e)}),(0,Uv.jsx)(sZ,{label:{value:"Percentage Correct (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),(0,Uv.jsx)(z1,{formatter:e=>["".concat(e,"%"),"Correct"],labelFormatter:e=>"Question ".concat(e)}),(0,Uv.jsx)(c3,{dataKey:"percentCorrect",fill:"#3b82f6",radius:[8,8,0,0]})]})}):(0,Uv.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No data available"})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-md mb-8",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Item Quality Legend (Hopkins & Antes)"}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[(0,Uv.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"font-semibold text-gray-800",children:"Very Good Items"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Difficulty: Moderate (0.30 - 0.70)"})]})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-lg",children:[(0,Uv.jsx)("div",{className:"w-6 h-6 bg-yellow-500 rounded-full"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"font-semibold text-gray-800",children:"To be Revised"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Difficulty: Easy (0.71-0.85) or Difficult (0.15-0.29)"})]})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-red-50 border-2 border-red-200 rounded-lg",children:[(0,Uv.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"font-semibold text-gray-800",children:"To be Discarded"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600",children:"Difficulty: Very Easy (\u22650.86) or Very Difficult (<0.15)"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-md overflow-x-auto",children:[(0,Uv.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detailed Item Analysis"}),(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{children:(0,Uv.jsxs)("tr",{className:"border-b-2 border-gray-200",children:[(0,Uv.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 w-10",children:"Q#"}),(0,Uv.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 flex-1",children:"Question"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 w-24",children:"Type"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 w-20",children:"% Correct"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 w-24",children:"Difficulty"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 w-28",children:"Quality"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 w-24",children:"Actions"})]})}),(0,Uv.jsx)("tbody",{children:h.itemAnalysis.map((e,t)=>(0,Uv.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,Uv.jsx)("td",{className:"py-3 px-4 font-bold text-gray-700",children:e.questionNumber}),(0,Uv.jsx)("td",{className:"py-3 px-4 text-gray-600 max-w-sm truncate",children:e.questionText}),(0,Uv.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Uv.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700 font-medium",children:A(e.type)})}),(0,Uv.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Uv.jsxs)("span",{className:"font-bold ".concat(e.percentCorrect>=80?"text-blue-600":e.percentCorrect>=50?"text-yellow-600":"text-red-600"),children:[e.percentCorrect,"%"]})}),(0,Uv.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Uv.jsx)("span",{className:"font-semibold text-gray-800",children:e.difficultyIndex})}),(0,Uv.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Uv.jsx)("span",{className:"inline-block text-xs px-2 py-1 rounded-md font-semibold whitespace-nowrap ".concat("good"===e.quality?"bg-blue-100 text-blue-700":"revise"===e.quality?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:j(e.quality)})}),(0,Uv.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Uv.jsxs)("button",{onClick:()=>(e=>{const t=h.questions[e.index];v(e.index),x({question:t.question,type:t.type,points:t.points,correct_answer:t.correct_answer||"",choices:t.choices?[...t.choices]:null,bloom_classification:t.bloom_classification||"LOTS"}),S(!0)})(e),className:"inline-flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm transition",children:[(0,Uv.jsx)(LI,{className:"w-4 h-4"}),"Edit"]})})]},t))})]})]})]})]}):(0,Uv.jsx)(Uv.Fragment,{children:o.length>0?(0,Uv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,Uv.jsxs)("button",{onClick:()=>(e=>{d(e),T(e.id,e.quizMode)})(e),className:"bg-white border-2 border-gray-200 rounded-2xl p-6 text-left hover:shadow-lg hover:border-blue-400 transition-all duration-300 group",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition",children:e.title}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:["synchronous"===e.quizMode?(0,Uv.jsx)(My,{className:"w-4 h-4 text-yellow-500"}):(0,Uv.jsx)(Dy,{className:"w-4 h-4 text-blue-500"}),(0,Uv.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"synchronous"===e.quizMode?"Live Quiz":"Self-Paced"})]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-500 mb-4",children:["Assigned: ",e.assignedAt?new Date(1e3*e.assignedAt.seconds).toLocaleDateString():"N/A"]}),(0,Uv.jsxs)("div",{className:"flex items-center justify-end text-blue-600 group-hover:text-blue-700 font-semibold",children:["View Analytics",(0,Uv.jsx)(cx,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]},e.id))}):(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl p-12 shadow-md text-center",children:[(0,Uv.jsx)(MI,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600 text-lg",children:"No completed quizzes found for this class"})]})})]}):(0,Uv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,Uv.jsxs)("button",{onClick:()=>i(e),className:"bg-gradient-to-br from-blue-50 to-emerald-50 border-2 border-blue-200 rounded-2xl p-6 text-left hover:shadow-lg hover:border-blue-400 transition-all duration-300 group",children:[(0,Uv.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-blue-600 transition",children:e.name}),(0,Uv.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,Uv.jsx)("span",{className:"font-semibold",children:e.studentCount||0})," students"]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-500 mb-4",children:["Teacher: ",e.teacherName||"teacher1"]}),(0,Uv.jsxs)("p",{className:"text-xs text-gray-500 mb-4",children:["Created: ",e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A"]}),(0,Uv.jsxs)("div",{className:"flex items-center justify-end text-blue-600 group-hover:text-blue-700 font-semibold",children:["View Quizzes",(0,Uv.jsx)(cx,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]},e.id))}),N&&null!==g&&(0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Edit Question ",g+1]}),(0,Uv.jsx)("button",{onClick:()=>{S(!1),v(null)},className:"text-gray-500 hover:text-gray-700",children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})})]}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Question Text"}),(0,Uv.jsx)("textarea",{value:y.question,onChange:e=>x(c(c({},y),{},{question:e.target.value})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Points"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:y.points,onChange:e=>x(c(c({},y),{},{points:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Classification"}),(0,Uv.jsxs)("select",{value:y.bloom_classification,onChange:e=>x(c(c({},y),{},{bloom_classification:e.target.value})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Uv.jsx)("option",{value:"LOTS",children:"LOTS (Lower Order Thinking)"}),(0,Uv.jsx)("option",{value:"HOTS",children:"HOTS (Higher Order Thinking)"})]})]})]}),"multiple_choice"===y.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Answer Choices"}),(0,Uv.jsxs)("div",{className:"space-y-2",children:[y.choices&&y.choices.map((e,t)=>(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("input",{type:"radio",checked:e.is_correct,onChange:()=>{const e=y.choices.map((e,n)=>c(c({},e),{},{is_correct:n===t}));x(c(c({},y),{},{choices:e}))},className:"w-4 h-4 cursor-pointer"}),(0,Uv.jsx)("input",{type:"text",value:e.text,onChange:e=>{const n=[...y.choices];n[t].text=e.target.value,x(c(c({},y),{},{choices:n}))},placeholder:"Choice ".concat(String.fromCharCode(65+t)),className:"flex-1 px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),y.choices.length>2&&(0,Uv.jsx)("button",{onClick:()=>{const e=y.choices.filter((e,n)=>n!==t);x(c(c({},y),{},{choices:e}))},className:"text-red-600 hover:text-red-700 p-1",children:(0,Uv.jsx)(Mv,{className:"w-5 h-5"})})]},t)),(0,Uv.jsxs)("button",{onClick:()=>{x(c(c({},y),{},{choices:[...y.choices,{text:"",is_correct:!1}]}))},className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center gap-1 mt-2",children:[(0,Uv.jsx)(_I,{className:"w-4 h-4"})," Add Choice"]})]})]}),"true_false"===y.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Correct Answer"}),(0,Uv.jsxs)("select",{value:y.correct_answer,onChange:e=>x(c(c({},y),{},{correct_answer:e.target.value})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Uv.jsx)("option",{value:"True",children:"True"}),(0,Uv.jsx)("option",{value:"False",children:"False"})]})]}),"identification"===y.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Correct Answer"}),(0,Uv.jsx)("input",{type:"text",value:y.correct_answer,onChange:e=>x(c(c({},y),{},{correct_answer:e.target.value})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter the correct answer"})]})]}),(0,Uv.jsxs)("div",{className:"flex gap-2 mt-6 justify-end",children:[(0,Uv.jsx)("button",{onClick:()=>{S(!1),v(null)},className:"px-4 py-2 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition",children:"Cancel"}),(0,Uv.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this question? Student scores will be recalculated.")){w(!0);try{const e=h.questions[g],t=h.questions.filter((e,t)=>t!==g),n=cg(jv,"quizzes",h.quizId),r=t.reduce((e,t)=>e+t.points,0),a=t.filter(e=>"HOTS"===e.bloom_classification).length,s=t.filter(e=>"LOTS"===e.bloom_classification).length;await mv(n,{questions:t,totalPoints:r,classificationStats:{hots_count:a,lots_count:s,hots_percentage:t.length>0?(a/t.length*100).toFixed(1):"0.0",lots_percentage:t.length>0?(s/t.length*100).toFixed(1):"0.0"},updatedAt:new Date}),await C(h.quizId,g,e,t),alert("Question deleted successfully! Student scores have been recalculated."),S(!1),v(null),await T(h.quizId,h.quizMode)}catch(e){console.error("Error deleting question:",e),alert("Error deleting question. Please try again.")}finally{w(!1)}}},disabled:b,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition disabled:bg-gray-400 flex items-center gap-2",children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"}),"Delete"]}),(0,Uv.jsx)("button",{onClick:async()=>{if(y.question.trim()){if("multiple_choice"===y.type){if(!y.choices||y.choices.length<2)return void alert("Multiple choice must have at least 2 choices");if(!y.choices.some(e=>e.is_correct))return void alert("Please mark one choice as correct");if(y.choices.some(e=>!e.text.trim()))return void alert("All choices must have text")}else if(!y.correct_answer.trim())return void alert("Correct answer cannot be empty");w(!0);try{const e=h.questions[g],t=[...h.questions];t[g]=c(c({},t[g]),{},{question:y.question,points:y.points,correct_answer:y.correct_answer,choices:y.choices,bloom_classification:y.bloom_classification});const n=cg(jv,"quizzes",h.quizId),r=t.reduce((e,t)=>e+t.points,0),a=t.filter(e=>"HOTS"===e.bloom_classification).length,s=t.filter(e=>"LOTS"===e.bloom_classification).length;await mv(n,{questions:t,totalPoints:r,classificationStats:{hots_count:a,lots_count:s,hots_percentage:(a/t.length*100).toFixed(1),lots_percentage:(s/t.length*100).toFixed(1)},updatedAt:new Date}),await _(h.quizId,g,e,t[g],t),alert("Question updated successfully! Student scores have been recalculated."),S(!1),v(null),await T(h.quizId,h.quizMode)}catch(e){console.error("Error saving question changes:",e),alert("Error saving changes. Please try again.")}finally{w(!1)}}else alert("Question text cannot be empty")},disabled:b,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400 flex items-center gap-2",children:b?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ex,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(zI,{className:"w-4 h-4"}),"Save Changes"]})})]})]})})]})}function d3(e){let{user:n,userDoc:r}=e;const[a,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(""),b=(null===r||void 0===r?void 0:r.firstName)||(null===n||void 0===n?void 0:n.displayName)||"Teacher",w=b&&b.charAt(0).toUpperCase()||"T";(0,t.useEffect)(()=>{d((null===r||void 0===r?void 0:r.firstName)||(null===n||void 0===n?void 0:n.displayName)||""),f((null===r||void 0===r?void 0:r.department)||""),p((null===r||void 0===r?void 0:r.email)||(null===n||void 0===n?void 0:n.email)||""),v((null===r||void 0===r?void 0:r.phone)||""),x((null===r||void 0===r?void 0:r.bio)||""),s(!1)},[n,r]);return a?(0,Uv.jsxs)("div",{className:"min-h-screen flex items-center justify-center font-Outfit",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-accent"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading\u2026"})]}):(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"flex flex-row gap-3 items-center ",children:[(0,Uv.jsx)(Jy,{className:"w-8 h-8 text-blue-500 mb-6"}),(0,Uv.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold text-title flex items-center gap-2",children:"Profile"}),(0,Uv.jsx)("p",{className:"text-md font-light text-subtext",children:"Your personal teaching profile and academic details."})]})]}),(0,Uv.jsxs)("div",{className:"flex md:grid-cols-2 gap-6 mt-2 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"bg-components p-6 rounded-2xl shadow-md w-full",children:[(0,Uv.jsx)("h2",{className:"text-xl md:text-2xl text-title font-semibold",children:"User Information"}),i?(0,Uv.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Full Name:"}),(0,Uv.jsx)("input",{type:"text",value:u||b,onChange:e=>d(e.target.value),className:"border p-1 rounded-xl w-full"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Department:"}),(0,Uv.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),className:"border p-1 rounded-xl w-full"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Email Address:"}),(0,Uv.jsx)("input",{type:"email",value:m,onChange:e=>p(e.target.value),className:"border p-1 rounded-xl w-full"})]}),(0,Uv.jsxs)("div",{className:"flex flex-row gap-4 mt-4 items-center",children:[(0,Uv.jsx)("label",{className:"w-36 text-subtext",children:"Phone:"}),(0,Uv.jsx)("input",{type:"tel",value:g,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=11&&v(t)},maxLength:11,className:"border p-1 rounded-xl w-full"})]})]}):(0,Uv.jsxs)("div",{className:"mt-4 space-y-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Full Name:"}),(0,Uv.jsx)("span",{className:"font-medium",children:u||b})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Department:"}),(0,Uv.jsx)("span",{className:"font-medium",children:h||"-"})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Email Address:"}),(0,Uv.jsx)("span",{className:"font-medium",children:m||"-"})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsx)("span",{className:"w-36 text-subtext",children:"Phone:"}),(0,Uv.jsx)("span",{className:"font-medium",children:g||"-"})]})]})]}),(0,Uv.jsxs)("div",{className:"flex flex-col p-10 gap-4 items-center rounded-3xl bg-components shadow-md",children:[(0,Uv.jsx)("div",{className:"w-52 h-52 text-8xl bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg ring-2 ring-white/20",children:w}),(0,Uv.jsx)("button",{className:"bg-blue-500 px-6 py-4 rounded-xl text-base text-white font-semibold hover:bg-blue-700 transition",children:"Change Profile Photo"})]})]}),(0,Uv.jsxs)("div",{className:"flex gap-3 flex-wrap animate-slideIn",children:[(0,Uv.jsx)("button",{className:"bg-blue-500 px-4 py-2 rounded-lg text-white font-semibold hover:bg-blue-700 transition mt-4",onClick:()=>{i&&console.log("Saving profile",{fullName:u,department:h,emailAddr:m,phone:g,bio:y}),o(!i)},children:i?"Save Changes":"Edit Profile"}),i&&(0,Uv.jsx)("button",{className:"bg-gray-300 px-4 py-2 rounded-lg text-gray-700 font-semibold hover:bg-gray-400 transition mt-4",onClick:()=>{o(!1),d((null===r||void 0===r?void 0:r.firstName)||(null===n||void 0===n?void 0:n.displayName)||""),f((null===r||void 0===r?void 0:r.department)||""),p((null===r||void 0===r?void 0:r.email)||(null===n||void 0===n?void 0:n.email)||""),v((null===r||void 0===r?void 0:r.phone)||""),x((null===r||void 0===r?void 0:r.bio)||"")},children:"Cancel"}),(0,Uv.jsx)("button",{className:"bg-orange-500 px-4 py-2 rounded-lg text-white font-semibold hover:bg-orange-700 transition mt-4 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:async()=>{const e=(null===n||void 0===n?void 0:n.email)||m;if(!e)return void alert("\u274c No email address found. Please add an email to your profile first.");if(window.confirm("A password reset link will be sent to:\n".concat(e,"\n\nDo you want to continue?")))try{c(!0),await Hs(kv,e),alert("\u2705 Password reset email sent to ".concat(e,"\n\nPlease check your inbox and spam folder. Click the link in the email to reset your password."))}catch(t){console.error("Error sending password reset email:",t);let e="Failed to send password reset email. ";"auth/user-not-found"===t.code?e+="No account found with this email.":"auth/invalid-email"===t.code?e+="Invalid email address.":"auth/too-many-requests"===t.code?e+="Too many requests. Please try again later.":e+=t.message,alert(e)}finally{c(!1)}},disabled:l,children:l?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Zy,{className:"w-4 h-4"}),"Change Password"]})})]})]})}c3.displayName="Bar";const h3=Dv("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),f3=Dv("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),m3=Dv("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),p3=Dv("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function g3(e){let{isOpen:n,studentCount:r,onConfirm:a,onCancel:s}=e;const[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)("");if(!n)return null;return(0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] font-Outfit backdrop-blur-sm animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-400 p-6 text-white",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(m3,{className:"w-6 h-6"}),(0,Uv.jsx)("h2",{className:"text-xl font-bold",children:"Confirm Account Creation"})]}),(0,Uv.jsxs)("p",{className:"text-blue-50 text-sm",children:["Create account for ",r," student",1!==r?"s":""]})]}),(0,Uv.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()?(d(""),a(i)):d("Please enter your password")},className:"p-6",children:[(0,Uv.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[(0,Uv.jsxs)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,Uv.jsx)(Py,{className:"w-4 h-4 text-blue-600"}),"Account Details"]}),(0,Uv.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\ud83d\udce7 Email:"}),(0,Uv.jsx)("span",{className:"font-medium text-gray-800",children:"From Classlist"})]}),(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\ud83d\udd11 Default Password:"}),(0,Uv.jsxs)("div",{className:"flex flex-col items-end justify-end",children:[(0,Uv.jsx)("span",{className:"font-mono font-semibold text-gray-800",children:"SURNAME1234"}),(0,Uv.jsx)("span",{className:"text-xs text-subtext text-end",children:"(depends on student's surname and last 4 digits of student number)"})]})]}),(0,Uv.jsxs)("div",{className:"flex justify-between",children:[(0,Uv.jsx)("span",{className:"text-gray-600",children:"\ud83d\udc64 Login Method:"}),(0,Uv.jsx)("span",{className:"font-medium text-gray-800",children:"Student Number"})]})]})]}),(0,Uv.jsxs)("div",{className:"mb-6",children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold text-title mb-2",children:"Enter Your Password to Continue"}),(0,Uv.jsxs)("div",{className:"relative",children:[(0,Uv.jsx)("input",{type:l?"text":"password",value:i,onChange:e=>{o(e.target.value),d("")},placeholder:"Enter password",className:"w-full px-4 py-3 pr-12 border-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition ".concat(u?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),autoFocus:!0}),(0,Uv.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition",children:l?(0,Uv.jsx)(p3,{className:"w-5 h-5"}):(0,Uv.jsx)(II,{className:"w-5 h-5"})})]}),u&&(0,Uv.jsxs)("p",{className:"text-red-600 text-sm mt-2 flex items-center gap-1",children:[(0,Uv.jsx)(Py,{className:"w-4 h-4"}),u]})]}),(0,Uv.jsxs)("div",{className:"flex gap-3",children:[(0,Uv.jsx)("button",{type:"button",onClick:()=>{o(""),d(""),c(!1),s()},className:"flex-1 px-4 py-3 border-2 border-gray-300 active:scale-95 hover:scale-105 duration-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition",children:"Cancel"}),(0,Uv.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 active:scale-95 hover:scale-105 duration-200 text-white font-semibold rounded-xl hover:bg-blue-700 transition shadow-lg hover:shadow-xl",children:"Create Accounts"})]})]})]})})}function v3(){const{classId:e}=ye(),n=ge(),[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)([]),[N,S]=(0,t.useState)(!1),[E,k]=(0,t.useState)([]),[j,T]=(0,t.useState)(!1),[_,C]=(0,t.useState)(null),[A,O]=(0,t.useState)("students"),[I,P]=(0,t.useState)(!1),[D,R]=(0,t.useState)([]),[M,L]=(0,t.useState)(!1),[z,F]=(0,t.useState)(null);(0,t.useEffect)(()=>{U(),q(),B(),V()},[e]),(0,t.useEffect)(()=>{x(!0)},[]);const U=async()=>{try{l(!0);const t=await uv(cg(jv,"classes",e));t.exists()?a(c({id:t.id},t.data())):(alert("Class not found!"),n("/teacher/classes/add"))}catch(t){console.error("Error fetching class:",t),alert("Failed to fetch class data")}finally{l(!1)}},q=async()=>{try{d(!0);const t=Xg(lg(jv,"users"),Jg("role","==","student"),Jg("classIds","array-contains",e)),n=await hv(t),r=[];n.forEach(e=>{r.push(c({id:e.id},e.data()))}),r.sort((e,t)=>{const n=e.name||"",r=t.name||"";return n.localeCompare(r)}),i(r)}catch(t){console.error("Error fetching students:",t),alert("Failed to fetch students")}finally{d(!1)}},B=async()=>{S(!0);try{const t=kv.currentUser;if(!t)return;const n=Xg(lg(jv,"assignedQuizzes"),Jg("assignedBy","==",t.uid),Jg("classId","==",e),Jg("quizMode","==","asynchronous")),r=await hv(n),a=new Map;r.forEach(e=>{const t=e.data(),n="".concat(t.quizId,"-").concat(t.classId);a.has(n)||a.set(n,{quizId:t.quizId,classId:t.classId,quizTitle:t.quizTitle,className:t.className,subject:t.subject||"",quizMode:t.quizMode||"asynchronous",dueDate:t.dueDate,assignedAt:t.assignedAt,studentIds:[],docIds:[]});const r=a.get(n);r.studentIds.includes(t.studentId)||r.studentIds.push(t.studentId),r.docIds.push(e.id)});const s=Array.from(a.values()).map(e=>({id:e.quizId,quizId:e.quizId,classId:e.classId,title:e.quizTitle,className:e.className,subject:e.subject,studentCount:e.studentIds.length,dueDate:e.dueDate,assignedAt:e.assignedAt,quizMode:e.quizMode,docIds:e.docIds}));s.sort((e,t)=>{var n,r;return((null===(n=t.assignedAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.assignedAt)||void 0===r?void 0:r.seconds)||0)}),w(s)}catch(G5){console.error(G5),alert("Error loading assigned quizzes.")}finally{S(!1)}},V=async()=>{T(!0);try{const t=kv.currentUser;if(!t)return;const n=Xg(lg(jv,"assignedQuizzes"),Jg("assignedBy","==",t.uid),Jg("classId","==",e),Jg("quizMode","==","synchronous")),r=await hv(n),a=new Map;r.forEach(e=>{const t=e.data(),n="".concat(t.quizId,"-").concat(t.classId);a.has(n)||a.set(n,{quizId:t.quizId,classId:t.classId,quizTitle:t.quizTitle,className:t.className,subject:t.subject||"",quizMode:t.quizMode||"synchronous",dueDate:t.dueDate,assignedAt:t.assignedAt,quizCode:t.quizCode||null,studentIds:[],sessionStatus:t.sessionStatus||"not_started",docIds:[]});const r=a.get(n);r.studentIds.includes(t.studentId)||r.studentIds.push(t.studentId),r.docIds.push(e.id)});const s=Array.from(a.values()).map(e=>({id:e.quizId,quizId:e.quizId,classId:e.classId,title:e.quizTitle,className:e.className,subject:e.subject,studentCount:e.studentIds.length,dueDate:e.dueDate,assignedAt:e.assignedAt,quizMode:e.quizMode,quizCode:e.quizCode,sessionStatus:e.sessionStatus,docIds:e.docIds}));s.sort((e,t)=>{var n,r;return((null===(n=t.assignedAt)||void 0===n?void 0:n.seconds)||0)-((null===(r=e.assignedAt)||void 0===r?void 0:r.seconds)||0)}),k(s)}catch(G5){console.error(G5),alert("Error loading synchronous quizzes.")}finally{T(!1)}},H=()=>{P(!1),F(null)},W=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n="Are you sure you want to delete this assignment?\n\nQuiz: ".concat(e.title,"\nClass: ").concat(e.className,"\n\nThis will remove the quiz from all ").concat(e.studentCount," students and delete all related data. This action cannot be undone.");if(window.confirm(n)){C("".concat(e.quizId,"-").concat(e.classId));try{const n=e.docIds.map(e=>pv(cg(jv,"assignedQuizzes",e)));await Promise.all(n),t?(await V(),alert("Live quiz assignment deleted successfully!")):(await B(),alert("Quiz assignment deleted successfully!"))}catch(G5){console.error("Error deleting assignment:",G5),alert("Error deleting assignment. Please try again.")}finally{C(null)}}},G=async(e,t)=>{try{await Gs(kv,e,t);return console.log("\u2705 Password validated, staying logged in"),{valid:!0}}catch(n){return console.error("\u274c Password validation failed:",n),{valid:!1,error:n.message}}},Q=async e=>{try{const t=Xg(lg(jv,"users"),Jg("emailAddress","==",e.toLowerCase().trim()),Jg("hasAccount","==",!0)),n=await hv(t);if(!n.empty){const e=n.docs[0];return{exists:!0,uid:e.data().authUID,studentId:e.id,name:e.data().name}}return{exists:!1}}catch(t){throw console.error("Error checking existing account:",t),t}},K=async(e,t,n,r)=>{try{var a;const i=null===(a=e.emailAddress)||void 0===a?void 0:a.toLowerCase().trim();if(!i||""===i)throw new Error("No email address found for ".concat(e.name));const o=await Q(i);if(o.exists)return console.log("\u26a0\ufe0f Account already exists for ".concat(i)),{status:"EXISTING_ACCOUNT",authUID:o.uid,message:"".concat(o.name," already has an account")};const l=((e,t)=>{try{const n=e.split(",")[0].trim().toUpperCase()+(t.split("-")[1]||t);return console.log("\ud83d\udd10 Generated password for ".concat(e,": ").concat(n)),n}catch(n){return console.error("Error generating custom password:",n),"123456"}})(e.name,e.studentNo);await kv.signOut(),await new Promise(e=>setTimeout(e,500));const c=(await Ws(kv,i,l)).user.uid;console.log("\u2705 Account created for ".concat(e.name," with UID: ").concat(c)),console.log("\ud83d\udcdd Password: ".concat(l)),await new Promise(e=>setTimeout(e,500));let u=!1,d=0;const h=3;for(;!u&&d<h;)try{(await Gs(kv,t,n)).user.uid===r?(u=!0,console.log("\u2705 Teacher re-authenticated successfully")):(console.warn("\u26a0\ufe0f Auth UID mismatch - retrying"),d++,await new Promise(e=>setTimeout(e,500)))}catch(s){console.error("Re-authentication attempt ".concat(d+1," failed:"),s),d++,d<h&&await new Promise(e=>setTimeout(e,500))}if(!u)throw new Error("Failed to keep teacher logged in after account creation");return{status:"NEW_ACCOUNT",authUID:c}}catch(i){if("auth/email-already-in-use"===i.code){console.log("\u26a0\ufe0f Email already exists in Firebase Auth: ".concat(e.emailAddress));return{status:"EXISTING_AUTH",authUID:(await Q(e.emailAddress)).uid||null,message:"Email already in Firebase: ".concat(e.emailAddress)}}throw console.error("Error creating account:",i),i}};return o?(0,Uv.jsxs)("div",{className:"flex items-center justify-center min-h-screen font-Outfit",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading class..."})]}):r?(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 font-Outfit animate-fadeIn",children:[m&&h&&(0,Uv.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:(0,Uv.jsxs)("p",{className:"text-blue-800 font-medium flex items-center gap-2",children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),m]})}),(0,Uv.jsx)("div",{className:"mb-6 bg-white border-2 border-gray-200 rounded-xl p-4",children:(0,Uv.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[(0,Uv.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:null===r||void 0===r?void 0:r.name}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-sm text-gray-600 font-semibold uppercase tracking-wider",children:"Class Number"}),(0,Uv.jsxs)("p",{className:"text-xl font-bold text-gray-800 mt-1",children:["#",(null===r||void 0===r?void 0:r.classNo)||"N/A"]})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-sm text-gray-600 font-semibold uppercase tracking-wider",children:"Code"}),(0,Uv.jsx)("p",{className:"text-xl font-bold text-gray-800 mt-1",children:(null===r||void 0===r?void 0:r.code)||"N/A"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-sm text-gray-600 font-semibold uppercase tracking-wider",children:"Total Students"}),(0,Uv.jsx)("p",{className:"text-xl font-bold text-gray-800 mt-1",children:s.length})]})]})]})}),(0,Uv.jsxs)("div",{className:"mb-6 bg-white border-2 border-gray-200 rounded-xl p-2 flex gap-2 animate-slideIn",children:[(0,Uv.jsxs)("button",{onClick:()=>O("students"),className:"flex-1 px-6 py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ".concat("students"===A?"bg-blue-600 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-gray-100"),children:[(0,Uv.jsx)(fx,{className:"w-5 h-5"}),"Students List",s.length>0&&(0,Uv.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold ".concat("students"===A?"bg-blue-700 text-white":"bg-gray-200 text-gray-700"),children:s.length})]}),(0,Uv.jsxs)("button",{onClick:()=>O("quizzes"),className:"flex-1 px-6 py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ".concat("quizzes"===A?"bg-blue-600 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-gray-100"),children:[(0,Uv.jsx)(Lx,{className:"w-5 h-5"}),"Assigned Quizzes",b.length+E.length>0&&(0,Uv.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat("quizzes"===A?"bg-blue-700 text-white":"bg-gray-200 text-gray-700"),children:b.length+E.length})]})]}),"students"===A?(0,Uv.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden animate-slideIn",children:[(0,Uv.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-blue-50",children:(0,Uv.jsx)("div",{className:"flex items-center justify-between gap-3",children:(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("span",{className:"text-xl font-bold text-title",children:"Students List"}),(0,Uv.jsxs)("span",{className:"text-base font-normal text-subtext ml-2",children:["(",s.length," total)"]})]})})}),u?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-8 animate-slideIn",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading students..."})]}):0===s.length?(0,Uv.jsx)("div",{className:"text-center py-8 text-subtext",children:(0,Uv.jsx)("p",{children:"No students found in this class"})}):(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Student No."}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Program"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Account"})]})}),(0,Uv.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map((e,t)=>(0,Uv.jsxs)("tr",{className:"hover:bg-gray-50 transition ".concat(t%2===0?"bg-white":"bg-gray-50/50"),children:[(0,Uv.jsx)("td",{className:"px-6 py-4 text-sm text-gray-800 font-medium",children:e.studentNo}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-sm text-gray-800 font-medium",children:e.name}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.emailAddress||"N/A"}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.program||"N/A"}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:e.hasAccount?(0,Uv.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:[(0,Uv.jsx)(h3,{className:"w-3 h-3 fill-current"}),"Active"]}):(0,Uv.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-semibold",children:[(0,Uv.jsx)(h3,{className:"w-3 h-3"}),"No Account"]})})]},e.id))})]})}),(0,Uv.jsxs)("div",{className:"flex justify-between flex-wrap gap-3 mb-6 mx-8 my-4",children:[(0,Uv.jsx)("button",{onClick:async()=>{const e=s.filter(e=>!e.hasAccount);0!==e.length?v(!0):alert("All students already have accounts!")},disabled:h||0===s.filter(e=>!e.hasAccount).length,className:"px-6 py-3 bg-button text-white font-semibold rounded-xl hover:bg-buttonHover transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-5 h-5 animate-spin"}),"Creating Accounts..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:["Create Accounts for All (",s.filter(e=>!e.hasAccount).length,")"]})}),(0,Uv.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to archive this class? Students will be removed from this class but their records will remain."))try{const t=Xg(lg(jv,"users"),Jg("role","==","student"),Jg("classIds","array-contains",e)),r=await hv(t),a=[],s=[];r.forEach(t=>{const n=t.data(),r={id:t.id,name:n.name,email:n.emailAddress,studentNo:n.studentNo,program:n.program,enrolledDate:n.enrollmentDate||new Date};a.push(r);const i=n.classIds.filter(t=>t!==e);s.push(mv(cg(jv,"users",t.id),{classIds:i}))}),await Promise.all(s),console.log("Removed class ".concat(e," from ").concat(a.length," students"));const i=await uv(cg(jv,"classes",e));if(i.exists()){const t=c(c({},i.data()),{},{originalClassId:e,archivedAt:new Date,archivedBy:kv.currentUser.uid,status:"archived",studentSnapshot:{count:a.length,students:a,snapshotDate:new Date}});await fv(cg(jv,"archivedClasses",e),t),console.log("Class moved to archivedClasses with ".concat(a.length," students"))}await pv(cg(jv,"classes",e)),console.log("Deleted class ".concat(e," from active classes")),alert("\u2705 Class archived successfully with student records preserved!"),console.log("\ud83d\udce2 Dispatching events for realtime sidebar update..."),window.dispatchEvent(new Event("classArchived")),window.dispatchEvent(new Event("classesUpdated")),n("/teacher/classes/add")}catch(t){console.error("Error archiving class:",t),alert("\u274c Failed to archive class: "+t.message)}},className:"px-6 py-3 bg-red-500 text-white font-semibold rounded-xl hover:bg-red-600 transition flex items-center gap-2",children:[(0,Uv.jsx)(f3,{className:"w-5 h-5"}),"Archive Class"]})]})]}):(0,Uv.jsxs)("div",{className:"space-y-8",children:[(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-400 p-6 rounded-2xl shadow-md animate-slideIn",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 text-white",children:[(0,Uv.jsx)(Ry,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-xl font-bold",children:"Assign a Quiz"}),(0,Uv.jsx)("p",{className:"text-sm text-green-100 mt-1",children:"Select from your published quizzes to assign to this class"})]})]}),(0,Uv.jsxs)("button",{onClick:()=>{P(!0),F(null),(async()=>{L(!0);try{const e=kv.currentUser;if(!e)return;const t=Xg(lg(jv,"quizzes"),Jg("teacherId","==",e.uid)),n=(await hv(t)).docs.map(e=>{var t;const n=e.data();return{id:e.id,title:n.title,questionCount:(null===(t=n.questions)||void 0===t?void 0:t.length)||0,totalPoints:n.totalPoints||0}});R(n)}catch(G5){console.error(G5),alert("Error loading quizzes.")}finally{L(!1)}})()},className:"flex items-center gap-2 bg-white text-blue-700 px-6 py-3 rounded-xl font-semibold active:scale-95 hover:scale-105 duration-200 hover:bg-blue-50 transition shadow-lg",children:[(0,Uv.jsx)(_I,{className:"w-5 h-5"}),"Assign Quiz"]})]})}),(0,Uv.jsxs)("div",{className:"bg-white border-2 border-yellow-200 rounded-2xl shadow-sm overflow-hidden animate-slideIn",children:[(0,Uv.jsx)("div",{className:"p-6 border-b bg-gradient-to-r from-yellow-50 to-amber-50",children:(0,Uv.jsxs)("h3",{className:"text-xl text-title font-bold flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-6 h-6 text-yellow-600"})," Synchronous Quizzes",E.length>0&&(0,Uv.jsx)("span",{className:"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold ml-2",children:E.length})]})}),j?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-yellow-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading\u2026"})]}):0===E.length?(0,Uv.jsxs)("div",{className:"text-center py-12 bg-yellow-50",children:[(0,Uv.jsx)(My,{className:"w-16 h-16 mx-auto mb-4 text-yellow-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No synchronous quizzes assigned to this class yet"})]}):(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{className:"bg-yellow-50 border-b-2 border-yellow-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Quiz Title"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Subject"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Students"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Assigned Date"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,Uv.jsx)("tbody",{className:"divide-y divide-gray-200",children:E.map((e,t)=>(0,Uv.jsxs)("tr",{className:"hover:bg-yellow-50 transition ".concat(t%2===0?"bg-white":"bg-gray-50"),children:[(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-4 h-4 text-yellow-600 flex-shrink-0"}),(0,Uv.jsx)("span",{className:"font-bold text-gray-800",children:e.title})]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.subject||"\u2014"}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:[(0,Uv.jsx)(fx,{className:"w-4 h-4"}),e.studentCount]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsx)("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold ".concat("active"===e.sessionStatus?"bg-green-100 text-green-800":"ended"===e.sessionStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"active"===e.sessionStatus?"\ud83d\udfe2 Active":"ended"===e.sessionStatus?"\ud83d\udd34 Ended":"\u26aa Not Started"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:e.assignedAt?new Date(1e3*e.assignedAt.seconds).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}):"\u2014"}),(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Uv.jsxs)("button",{onClick:()=>n("/teacher/quiz-control/".concat(e.quizId,"/").concat(e.classId)),className:"px-3 py-1.5 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition text-sm font-semibold flex items-center gap-1",children:[(0,Uv.jsx)(My,{className:"w-4 h-4"})," Control"]}),(0,Uv.jsx)("button",{onClick:()=>n("/teacher/assign-quiz-to-class/".concat(e.quizId,"/").concat(e.classId)),className:"px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition text-sm font-semibold flex items-center gap-1",children:(0,Uv.jsx)(AI,{className:"w-4 h-4"})}),(0,Uv.jsx)("button",{onClick:()=>W(e,!0),disabled:_==="".concat(e.quizId,"-").concat(e.classId),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition text-sm font-semibold flex items-center gap-1 disabled:bg-gray-400",children:_==="".concat(e.quizId,"-").concat(e.classId)?(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}):(0,Uv.jsx)(CI,{className:"w-4 h-4"})})]})})]},"".concat(e.quizId,"-").concat(e.classId)))})]})})]}),(0,Uv.jsxs)("div",{className:"bg-white border-2 border-purple-200 rounded-2xl shadow-sm overflow-hidden animate-slideIn",children:[(0,Uv.jsx)("div",{className:"p-6 border-b bg-gradient-to-r from-purple-50 to-violet-50",children:(0,Uv.jsxs)("h3",{className:"text-xl text-title font-bold flex items-center gap-2",children:[(0,Uv.jsx)(fx,{className:"w-6 h-6 text-purple-600"})," Asynchronous Quizzes",b.length>0&&(0,Uv.jsx)("span",{className:"bg-purple-400 text-purple-900 px-3 py-1 rounded-full text-sm font-bold ml-2",children:b.length})]})}),N?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-purple-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading\u2026"})]}):0===b.length?(0,Uv.jsxs)("div",{className:"text-center py-12 bg-purple-50",children:[(0,Uv.jsx)(fx,{className:"w-16 h-16 mx-auto mb-4 text-purple-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No asynchronous quizzes assigned to this class yet"})]}):(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{className:"bg-purple-50 border-b-2 border-purple-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Quiz Title"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Subject"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Students"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Due Date"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Assigned Date"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,Uv.jsx)("tbody",{className:"divide-y divide-gray-200",children:b.map((e,t)=>(0,Uv.jsxs)("tr",{className:"hover:bg-purple-50 transition ".concat(t%2===0?"bg-white":"bg-gray-50"),children:[(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(fx,{className:"w-4 h-4 text-purple-600 flex-shrink-0"}),(0,Uv.jsx)("span",{className:"font-bold text-gray-800",children:e.title})]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.subject||"\u2014"}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:[(0,Uv.jsx)(fx,{className:"w-4 h-4"}),e.studentCount]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:e.dueDate?new Date(e.dueDate).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}):"\u2014"}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:e.assignedAt?new Date(1e3*e.assignedAt.seconds).toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}):"\u2014"}),(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Uv.jsxs)("button",{onClick:()=>n("/teacher/quiz-results/".concat(e.quizId,"/").concat(e.classId)),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-semibold flex items-center gap-1",children:[(0,Uv.jsx)(II,{className:"w-4 h-4"})," Results"]}),(0,Uv.jsx)("button",{onClick:()=>n("/teacher/assign-quiz-to-class/".concat(e.quizId,"/").concat(e.classId)),className:"px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition text-sm font-semibold flex items-center gap-1",children:(0,Uv.jsx)(AI,{className:"w-4 h-4"})}),(0,Uv.jsx)("button",{onClick:()=>W(e,!1),disabled:_==="".concat(e.quizId,"-").concat(e.classId),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition text-sm font-semibold flex items-center gap-1 disabled:bg-gray-400",children:_==="".concat(e.quizId,"-").concat(e.classId)?(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}):(0,Uv.jsx)(CI,{className:"w-4 h-4"})})]})})]},"".concat(e.quizId,"-").concat(e.classId)))})]})})]})]}),y&&(0,ix.createPortal)((0,Uv.jsx)(g3,{isOpen:g,studentCount:s.filter(e=>!e.hasAccount).length,onConfirm:async e=>{v(!1);const t=kv.currentUser;if(t&&t.email){console.log("\ud83d\udd12 Setting account creation flags..."),B5(!0);try{p("Validating credentials...");if(!(await G(t.email,e)).valid)return alert("\u274c Invalid password! Account creation cancelled.\n\nPlease try again with the correct password."),p(""),void B5(!1);const r=t.email,a=t.uid;f(!0),p("Initializing account creation...");const i=s.filter(e=>!e.hasAccount);let o=0,l=0,c=0;const u=[],d=[];for(let t=0;t<i.length;t++)try{const n=i[t];p("Creating accounts: ".concat(t+1,"/").concat(i.length," - ").concat(n.name)),console.log("\ud83d\udcdd Processing: ".concat(n.name," (").concat(t+1,"/").concat(i.length,")"));const s=await K(n,r,e,a);"NEW_ACCOUNT"===s.status?(await mv(cg(jv,"users",n.id),{hasAccount:!0,authUID:s.authUID}),o++,console.log("\u2705 New account: ".concat(n.name))):"EXISTING_ACCOUNT"!==s.status&&"EXISTING_AUTH"!==s.status||(n.hasAccount||await mv(cg(jv,"users",n.id),{hasAccount:!0,authUID:s.authUID||n.authUID}),l++,d.push(n.name),console.log("\u26a0\ufe0f Already exists: ".concat(n.name)))}catch(n){console.error("\u274c Error creating account:",n),c++,u.push("".concat(i[t].name,": ").concat(n.message))}p("Finalizing..."),console.log("\ud83d\udd0d Final teacher verification...");const h=kv.currentUser;if(!h||h.uid!==a){console.warn("\u26a0\ufe0f Final re-authentication needed...");for(let t=0;t<3;t++)try{if((await Gs(kv,r,e)).user.uid===a){console.log("\u2705 Final verification successful");break}}catch(n){console.error("Final auth attempt ".concat(t+1," failed:"),n),t<2&&await new Promise(e=>setTimeout(e,1e3))}}await new Promise(e=>setTimeout(e,1e3));let m="\u2705 Account Creation Complete!\n\n";m+="\u2705 New accounts: ".concat(o,"\n"),m+="\u26a0\ufe0f Already had accounts: ".concat(l,"\n"),o>0&&(m+="\n\ud83d\udce7 Email: From Classlist",m+="\n\ud83d\udd11 Password: LASTNAME + STUDENT NUMBER",m+="\n   Example: DELACRUZ2225 (for student 221-2225)"),l>0&&(m+="\n\n\u26a0\ufe0f Already existing:\n".concat(d.slice(0,5).join("\n")),d.length>5&&(m+="\n... and ".concat(d.length-5," more"))),c>0&&(m+="\n\n\u274c Failed: ".concat(c," student(s)"),u.length>0&&(m+="\n".concat(u.slice(0,3).join("\n")),u.length>3&&(m+="\n... and ".concat(u.length-3," more")))),alert(m),await q()}catch(n){console.error("\u274c Error creating accounts:",n),alert("\u274c Failed to create accounts: "+n.message)}finally{f(!1),p(""),console.log("\ud83d\udd13 Clearing account creation flags..."),B5(!1),await new Promise(e=>setTimeout(e,500))}}else alert("\u274c Please log in first!")},onCancel:()=>v(!1)}),document.body),y&&I&&r&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-sm animate-fadeIn font-Outfit",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[80vh] flex flex-col animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex justify-between items-center p-6 border-b bg-gradient-to-r from-blue-600 to-blue-400 text-white rounded-t-2xl",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(Ry,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("h3",{className:"text-2xl font-bold",children:["Assign Quiz to ",null===r||void 0===r?void 0:r.name]}),(0,Uv.jsx)("p",{className:"text-sm text-green-100 mt-1",children:"Select a quiz from your published quizzes"})]})]}),(0,Uv.jsx)("button",{onClick:H,className:"text-white hover:bg-blue-600 rounded-lg p-2 transition",children:(0,Uv.jsx)(Mv,{className:"w-6 h-6"})})]}),(0,Uv.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:M?(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-blue-500"}),(0,Uv.jsx)("span",{className:"ml-3 text-subtext",children:"Loading quizzes..."})]}):0===D.length?(0,Uv.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[(0,Uv.jsx)(Ry,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-gray-500 text-lg",children:"No published quizzes found"}),(0,Uv.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Create a quiz first in the Manage Quizzes page"})]}):(0,Uv.jsxs)("div",{className:"space-y-3",children:[(0,Uv.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Select a quiz to assign to this class:"}),D.map(e=>(0,Uv.jsxs)("label",{className:"flex items-center gap-4 p-4 rounded-xl border-2 cursor-pointer transition ".concat(z===e.id?"border-blue-500 bg-green-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"),children:[(0,Uv.jsx)("input",{type:"radio",name:"quizSelection",value:e.id,checked:z===e.id,onChange:()=>F(e.id),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("h4",{className:"font-bold text-gray-800 text-lg",children:e.title}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[(0,Uv.jsxs)("span",{children:["\ud83d\udcdd ",e.questionCount," questions"]}),(0,Uv.jsx)("span",{children:"\u2022"}),(0,Uv.jsxs)("span",{children:["\ud83c\udfaf ",e.totalPoints," points"]})]})]}),z===e.id&&(0,Uv.jsx)("div",{className:"flex-shrink-0",children:(0,Uv.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Uv.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Uv.jsx)("path",{d:"M5 13l4 4L19 7"})})})})]},e.id))]})}),(0,Uv.jsxs)("div",{className:"border-t p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[(0,Uv.jsx)("button",{onClick:H,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition",children:"Cancel"}),(0,Uv.jsxs)("button",{onClick:()=>{z?n("/teacher/assign-quiz-to-class/".concat(z,"/").concat(e)):alert("Please select a quiz to assign")},disabled:!z,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition flex items-center justify-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,Uv.jsx)(_I,{className:"w-5 h-5"}),"Continue to Assignment Settings"]})]})]})}),document.body)]}):(0,Uv.jsx)("div",{className:"flex items-center justify-center min-h-screen font-Outfit",children:(0,Uv.jsx)("p",{className:"text-subtext",children:"Class not found"})})}const y3=Dv("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x3=Dv("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),b3=Dv("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);function w3(){var e;const{quizId:n,classId:r}=ye(),a=ge(),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(!0),[g,v]=(0,t.useState)(!1),[y,x]=(0,t.useState)(null),[b,w]=(0,t.useState)(null),[N,S]=(0,t.useState)({dueDate:"",instructions:"",mode:"asynchronous",timeLimit:null,deadline:null,shuffleQuestions:!1,shuffleChoices:!1,showResults:!0,allowReview:!0,showCorrectAnswers:!0,passingScore:60,maxAttempts:1});(0,t.useEffect)(()=>{E()},[n,r]);const E=async()=>{try{const e=kv.currentUser;if(!e)return alert("Please login first"),void a("/login");const t=cg(jv,"quizzes",n),s=await uv(t);if(!s.exists())return alert("Quiz not found!"),void a("/teacher/quizzes");const o=c({id:s.id},s.data());if(o.teacherId!==e.uid)return alert("You don't have permission to assign this quiz!"),void a("/teacher/quizzes");o.title=o.title||"Untitled Quiz",o.code=o.code||"QZ".concat(n.slice(-6).toUpperCase()),i(o),o.settings&&S(e=>c(c({},e),{},{mode:o.settings.mode||"asynchronous",timeLimit:o.settings.timeLimit||null,deadline:o.settings.deadline||null,passingScore:o.settings.passingScore||60,maxAttempts:o.settings.maxAttempts||1,shuffleQuestions:o.settings.shuffleQuestions||!1,shuffleChoices:o.settings.shuffleChoices||!1,showResults:!1!==o.settings.showResults,allowReview:!1!==o.settings.allowReview,showCorrectAnswers:!1!==o.settings.showCorrectAnswers}));const u=cg(jv,"classes",r),h=await uv(u);if(!h.exists())return alert("Class not found!"),void a("/teacher/classes/add");const m=c({id:h.id},h.data());l(m);const p=await k(r);p.exists&&(x(p),S(e=>c(c({},e),{},{mode:p.mode,dueDate:p.dueDate||"",instructions:p.instructions||"",timeLimit:p.settings.timeLimit||null,deadline:p.settings.deadline||null,shuffleQuestions:p.settings.shuffleQuestions||!1,shuffleChoices:p.settings.shuffleChoices||!1,showResults:!1!==p.settings.showResults,allowReview:!1!==p.settings.allowReview,showCorrectAnswers:!1!==p.settings.showCorrectAnswers,passingScore:p.settings.passingScore||60,maxAttempts:p.settings.maxAttempts||1})));const g=Xg(lg(jv,"users"),Jg("role","==","student"),Jg("classIds","array-contains",r)),v=await hv(g),y=[];v.forEach(e=>{const t=e.data();y.push({id:e.id,authUID:t.authUID||null,name:t.name||"Unknown",email:t.emailAddress||"",studentNo:t.studentNo||"N/A",program:t.program||"",year:t.year||"",hasAccount:t.hasAccount||!1})}),y.sort((e,t)=>e.name.localeCompare(t.name)),d(y),f(y.map(e=>e.id))}catch(e){console.error("Error fetching data:",e),alert("Error loading data")}finally{p(!1)}},k=async e=>{try{const t=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",n),Jg("classId","==",e)),r=await hv(t);if(r.size>0){const e=r.docs[0].data();return{exists:!0,mode:e.quizMode||"asynchronous",dueDate:e.dueDate||"",instructions:e.instructions||"",settings:e.settings||{},assignmentDocs:r.docs}}return{exists:!1}}catch(t){return console.error("Error checking existing assignment:",t),{exists:!1}}},j=()=>{a("/teacher/class/".concat(r))},T=async()=>{var e,t,i;const l=kv.currentUser;if(!l)return void alert("Please log in first!");const d="synchronous"===N.mode,f=l.displayName||(null===(e=l.email)||void 0===e?void 0:e.split("@")[0])||"Teacher",m=d?N.deadline:N.dueDate,p=d?"not_started":"pending",g=d?b:null,v={quizId:n,quizTitle:s.title||"Untitled Quiz",quizCode:g,classId:o.id,className:o.name,subject:o.subject||"",dueDate:m,quizMode:N.mode,instructions:N.instructions||"",assignedAt:Nv(),assignedBy:l.uid,teacherName:f,teacherEmail:l.email,sessionStatus:d?"not_started":null,sessionStartedAt:null,sessionEndedAt:null,settings:{mode:N.mode,timeLimit:null!==(t=N.timeLimit)&&void 0!==t?t:null,deadline:null!==(i=N.deadline)&&void 0!==i?i:null,shuffleQuestions:!!N.shuffleQuestions,shuffleChoices:!!N.shuffleChoices,showResults:!!N.showResults,allowReview:!!N.allowReview,showCorrectAnswers:!!N.showCorrectAnswers,passingScore:Number(N.passingScore)||60,maxAttempts:Number(N.maxAttempts)||1}},x=h.map(e=>{const t=u.find(t=>t.id===e);if(!t)return console.error("\u26a0\ufe0f Student not found: ".concat(e)),null;if(!t.authUID)return console.error("\u26a0\ufe0f No authUID for student: ".concat(t.name," (").concat(e,")")),console.log("   Please create an account for this student first!"),null;const n=c(c({},v),{},{studentId:t.authUID,studentDocId:e,studentName:t.name,studentNo:t.studentNo,status:p,completed:!1,score:null,attempts:0,startedAt:null,submittedAt:null});return gv(lg(jv,"assignedQuizzes"),n)}),w=x.filter(e=>null!==e);if(0!==w.length){if(w.length<h.length){const e=h.length-w.length;if(!window.confirm("\u26a0\ufe0f ".concat(e," student(s) don't have accounts yet and will be skipped.\n\nContinue assigning to ").concat(w.length," student(s)?")))return}await Promise.all(w),alert("Quiz ".concat(null!==y&&void 0!==y&&y.exists?"reassigned":"assigned"," to ").concat(w.length," student(s) in ").concat(o.name," successfully!")),a("/teacher/class/".concat(r))}else alert("\u274c No students with accounts selected! Please create accounts first.")},_="synchronous"===N.mode;return m?(0,Uv.jsx)("div",{className:"p-8 items-center justify-center",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"animate-spin h-8 w-8 text-blue-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading..."})]})}):s&&o?(0,Uv.jsxs)("div",{className:"p-8 font-Outfit",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("button",{onClick:j,className:"flex items-center gap-2 text-subtext hover:text-subsubtext",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"}),"Back to ",o.name]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full bg-blue-500 text-white",children:"\u2713 Class Selected"}),(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full bg-blue-400 text-white",children:"Configure & Assign"})]})]}),(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-xl mb-6",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(Lx,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("h2",{className:"text-2xl font-bold",children:["Assign Quiz to ",o.name]}),(0,Uv.jsx)("p",{className:"text-white text-sm mt-1",children:s.title}),(0,Uv.jsx)("div",{className:"flex items-center gap-4 mt-2",children:(0,Uv.jsxs)("p",{className:"text-white text-xs",children:["Code: ",s.code," \u2022 ",(null===(e=s.questions)||void 0===e?void 0:e.length)||0," questions"]})})]})]})}),(0,Uv.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[(0,Uv.jsx)("p",{className:"text-sm text-title",children:"Selected Class:"}),(0,Uv.jsx)("p",{className:"font-bold text-blue-800 text-lg",children:o.name}),o.subject&&(0,Uv.jsxs)("p",{className:"text-sm text-gray-600",children:["Subject: ",o.subject]})]}),(null===y||void 0===y?void 0:y.exists)&&(0,Uv.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-xl",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uv.jsx)(Py,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("h4",{className:"font-bold text-yellow-900 mb-2",children:"Quiz Already Assigned"}),(0,Uv.jsxs)("p",{className:"text-sm text-yellow-800 mb-2",children:["This quiz is already assigned to this class in"," ",(0,Uv.jsx)("span",{className:"font-bold",children:"synchronous"===y.mode?"SYNCHRONOUS (Live)":"ASYNCHRONOUS (Self-Paced)"})," ","mode."]}),(0,Uv.jsx)("p",{className:"text-sm text-yellow-800",children:'You can modify the settings below (including the mode) and click "Reassign Quiz" to replace the existing assignment.'})]})]})}),(0,Uv.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,Uv.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Uv.jsxs)("div",{className:"border-2 border-blue-200 rounded-xl p-6 bg-blue-50",children:[(0,Uv.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(y3,{className:"w-5 h-5 text-blue-600"}),"Quiz Settings"]}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Quiz Mode *"}),(0,Uv.jsxs)("select",{value:N.mode,onChange:e=>{S(c(c({},N),{},{mode:e.target.value})),w(null)},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Uv.jsx)("option",{value:"asynchronous",children:"Asynchronous (Self-Paced)"}),(0,Uv.jsx)("option",{value:"synchronous",children:"Synchronous (Live/Controlled)"})]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:_?"You control when students can access the quiz":"Students can take quiz anytime before due date"}),(null===y||void 0===y?void 0:y.exists)&&y.mode!==N.mode&&(0,Uv.jsxs)("p",{className:"text-xs text-orange-700 font-semibold mt-2 bg-orange-100 p-2 rounded",children:["\u26a0\ufe0f Mode will change from ","synchronous"===y.mode?"LIVE":"SELF-PACED"," to ","synchronous"===N.mode?"LIVE":"SELF-PACED"]})]}),_&&(0,Uv.jsxs)("div",{className:"p-4 bg-purple-100 border border-purple-300 rounded-lg",children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-3 text-purple-900",children:"Generate Unique Quiz Code"}),(0,Uv.jsxs)("div",{className:"flex gap-2",children:[b?(0,Uv.jsx)("div",{className:"flex-1 px-4 py-2 bg-white border-2 border-purple-500 rounded-lg font-bold text-lg text-purple-700 text-center",children:b}):(0,Uv.jsx)("div",{className:"flex-1 px-4 py-2 bg-white border-2 border-dashed border-purple-300 rounded-lg text-gray-500 text-center",children:"Code will appear here"}),(0,Uv.jsx)("button",{onClick:()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(36*Math.random()));w(t)},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition",children:b?"Regenerate":"Generate"})]}),(0,Uv.jsx)("p",{className:"text-xs text-purple-800 mt-2",children:"Share this code with students to access the live quiz session"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[(0,Uv.jsx)(x3,{className:"w-4 h-4 text-blue-600"}),"Time Limit (minutes)"]}),(0,Uv.jsx)("input",{type:"number",min:"0",value:N.timeLimit||"",onChange:e=>S(c(c({},N),{},{timeLimit:e.target.value?parseInt(e.target.value):null})),placeholder:"No Time Limit",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:null===N.timeLimit||0===N.timeLimit?"No time limit":"".concat(N.timeLimit," minute").concat(N.timeLimit>1?"s":""," limit")})]}),(0,Uv.jsxs)("div",{className:"space-y-3",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,Uv.jsx)(b3,{className:"w-4 h-4 text-blue-600"}),"Shuffle Options"]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:N.shuffleQuestions,onChange:e=>S(c(c({},N),{},{shuffleQuestions:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Shuffle Questions"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:N.shuffleChoices,onChange:e=>S(c(c({},N),{},{shuffleChoices:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Shuffle Answer Choices"})]})]}),(0,Uv.jsxs)("div",{className:"space-y-3",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,Uv.jsx)(II,{className:"w-4 h-4 text-blue-600"}),"After Submission"]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:N.showResults,onChange:e=>S(c(c({},N),{},{showResults:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Show Results Immediately"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:N.showCorrectAnswers,onChange:e=>S(c(c({},N),{},{showCorrectAnswers:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Show Correct Answers"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:N.allowReview,onChange:e=>S(c(c({},N),{},{allowReview:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Allow Review of Answers"})]})]}),(0,Uv.jsxs)("div",{className:"space-y-3 pt-3 border-t",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,Uv.jsx)(Ky,{className:"w-4 h-4 text-blue-600"}),"Scoring & Attempts"]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-xs font-semibold mb-1",children:"Passing Score (%)"}),(0,Uv.jsx)("input",{type:"number",min:"0",max:"100",value:N.passingScore,onChange:e=>S(c(c({},N),{},{passingScore:parseInt(e.target.value)||60})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-xs font-semibold mb-1",children:"Maximum Attempts"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:N.maxAttempts,onChange:e=>S(c(c({},N),{},{maxAttempts:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(Uy,{className:"w-5 h-5 text-blue-600"}),"Assignment Details"]}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[_?(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Expiration Deadline *"}),(0,Uv.jsx)("input",{type:"datetime-local",value:N.deadline||"",onChange:e=>S(c(c({},N),{},{deadline:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().slice(0,16)}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Assignment expires if not started before this time"})]}):(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Due Date *"}),(0,Uv.jsx)("input",{type:"date",value:N.dueDate,onChange:e=>S(c(c({},N),{},{dueDate:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().split("T")[0]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Students can take this quiz anytime before 11:59 PM on this date"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Instructions (Optional)"}),(0,Uv.jsx)("textarea",{value:N.instructions,onChange:e=>S(c(c({},N),{},{instructions:e.target.value})),placeholder:"Add any special instructions for this class...",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"})]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 rounded-xl p-6 ".concat(_?"border-purple-200 bg-purple-50":"border-blue-200 bg-blue-50"),children:[(0,Uv.jsxs)("h3",{className:"text-lg font-bold mb-2 ".concat(_?"text-purple-800":"text-blue-800"),children:["Selected: ",h.length," student",1!==h.length?"s":""]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600",children:0===h.length?"No students selected":"Quiz will be ".concat(null!==y&&void 0!==y&&y.exists?"reassigned":"assigned"," to ").concat(h.length," out of ").concat(u.length," student").concat(1!==u.length?"s":"")}),_&&(0,Uv.jsx)("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:(0,Uv.jsx)("p",{className:"text-xs text-yellow-900 font-semibold",children:"After assignment, you'll return to the class page"})})]})]}),(0,Uv.jsxs)("div",{className:"lg:col-span-2 border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold",children:"Select Students"}),(0,Uv.jsx)("button",{onClick:()=>{h.length===u.length?f([]):f(u.map(e=>e.id))},className:"text-sm text-blue-600 hover:text-blue-700 font-semibold",children:h.length===u.length?"Deselect All":"Select All"})]}),0===u.length?(0,Uv.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Uv.jsx)(fx,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Uv.jsx)("p",{children:"No students found in this class"})]}):(0,Uv.jsx)("div",{className:"space-y-2 max-h-[1150px] overflow-y-auto",children:u.map(e=>(0,Uv.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition ".concat(h.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,Uv.jsx)("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>{return t=e.id,void f(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,Uv.jsxs)("div",{className:"text-xs text-gray-600",children:["Student #: ",e.studentNo]}),e.program&&(0,Uv.jsxs)("div",{className:"text-xs text-gray-500",children:[e.program," ",e.year&&"- Year ".concat(e.year)]})]}),h.includes(e.id)&&(0,Uv.jsx)(Iy,{className:"w-5 h-5 text-blue-600"})]},e.id))})]})]}),(0,Uv.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,Uv.jsxs)("button",{onClick:j,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100",children:["Back to ",o.name]}),(0,Uv.jsx)("button",{onClick:async()=>{if(0===h.length)return void alert("Please select at least one student");const e="synchronous"===N.mode;if(e||N.dueDate)if(!e||N.deadline)if(!e||b)if(null!==y&&void 0!==y&&y.exists)await(async()=>{if(!y||!y.exists)return;const e=y.mode,t=N.mode;let n="This quiz is already assigned to this class.\n\n";if(e!==t&&(n+="\u26a0\ufe0f MODE CHANGE DETECTED:\n",n+="From: ".concat("synchronous"===e?"SYNCHRONOUS (Live)":"ASYNCHRONOUS (Self-Paced)","\n"),n+="To: ".concat("synchronous"===t?"SYNCHRONOUS (Live)":"ASYNCHRONOUS (Self-Paced)","\n\n")),n+="Do you want to REPLACE the existing assignment with the new settings?",window.confirm(n)){v(!0);try{const e=y.assignmentDocs.map(e=>pv(e.ref));await Promise.all(e),await T()}catch(r){console.error("Error reassigning quiz:",r),alert("Error reassigning quiz. Please try again.")}finally{v(!1)}}})();else{v(!0);try{await T()}catch(t){console.error("Error assigning quiz:",t),alert("Error assigning quiz. Please try again.")}finally{v(!1)}}else alert("Please generate a quiz code for synchronous mode");else alert("Please set an expiration deadline for synchronous mode");else alert("Please set a due date for this assignment")},disabled:g||0===h.length||!_&&!N.dueDate||_&&!N.deadline||_&&!b,className:"px-6 py-3 font-semibold rounded-lg flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed ".concat(_?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":"bg-purple-600 hover:bg-purple-700 text-white"),children:g?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),null!==y&&void 0!==y&&y.exists?"Reassigning...":"Assigning..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[_?(0,Uv.jsx)(My,{className:"w-5 h-5"}):(0,Uv.jsx)(Nx,{className:"w-5 h-5"}),null!==y&&void 0!==y&&y.exists?"Reassign Quiz to ".concat(h.length," Student").concat(1!==h.length?"s":""):"Assign Quiz to ".concat(h.length," Student").concat(1!==h.length?"s":"")]})})]})]}):null}const N3=Dv("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function S3(e){let{user:n}=e;const[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{p(!0)}),(0,t.useEffect)(()=>{g()},[n]);const g=async()=>{if(n){i(!0);try{const e=Xg(lg(jv,"archivedClasses"),Jg("teacherId","==",n.uid)),t=await hv(e),r=[];t.forEach(e=>{r.push(c({id:e.id},e.data()))}),r.sort((e,t)=>{var n,r;const a=(null===(n=e.archivedAt)||void 0===n?void 0:n.toDate())||new Date(0);return((null===(r=t.archivedAt)||void 0===r?void 0:r.toDate())||new Date(0))-a}),a(r)}catch(e){console.error("Error fetching archived classes:",e)}finally{i(!1)}}};return s?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Uv.jsxs)("div",{className:"flex flex-row gap-3 justify-center items-center",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 text-blue-600 mx-auto animate-spin"}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Loading archived classes..."})]})}):(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Uv.jsxs)("div",{className:"mb-8",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(Rx,{className:"w-8 h-8 text-blue-600"}),(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Archived Classes"})]}),(0,Uv.jsx)("p",{className:"text-gray-600",children:"Manage your archived classes. You can restore or permanently delete them."})]}),0===r.length?(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-12 text-center animate-slideIn",children:[(0,Uv.jsx)(Rx,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Archived Classes"}),(0,Uv.jsx)("p",{className:"text-gray-500",children:"Classes you archive will appear here for safekeeping."})]}):(0,Uv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-slideIn",children:r.map(e=>{return(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-400 p-4",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Uv.jsx)(Ry,{className:"w-5 h-5 text-white"}),(0,Uv.jsx)("h3",{className:"text-lg font-bold text-white truncate flex-1",children:e.name})]}),(0,Uv.jsx)("p",{className:"text-white/90 text-sm",children:e.subject||"No subject"})]}),(0,Uv.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Uv.jsx)(fx,{className:"w-4 h-4"}),(0,Uv.jsxs)("span",{children:[e.studentCount||0," students"]})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Uv.jsx)(Uy,{className:"w-4 h-4"}),(0,Uv.jsxs)("span",{children:["Archived: ",(t=e.archivedAt,t?t.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")]})]}),(0,Uv.jsxs)("div",{className:"pt-3 border-t border-gray-100 flex gap-2",children:[(0,Uv.jsx)("button",{onClick:()=>(async e=>{l(e.id);try{var t,n,r;const a=e.originalClassId||e.id,s=c({},e);delete s.id,delete s.archivedAt,delete s.archivedBy,delete s.originalClassId,delete s.studentSnapshot,s.status="active";const i=cg(jv,"classes",a);if(await fv(i,s),console.log("\u2705 Class restored to active classes"),null!==(t=e.studentSnapshot)&&void 0!==t&&t.students&&e.studentSnapshot.students.length>0){const t=e.studentSnapshot.students.map(async e=>{try{const t=cg(jv,"users",e.id),n=await uv(t);if(n.exists()){const r=n.data(),s=r.classIds||[];s.includes(a)||s.push(a),await mv(t,{classIds:s}),console.log("\u2705 Restored ".concat(e.name," to class (Account: ").concat(r.hasAccount?"Active":"None",")"))}else console.warn("\u26a0\ufe0f Student ".concat(e.name," (").concat(e.id,") not found in database"))}catch(t){console.error("\u274c Error restoring student ".concat(e.name,":"),t)}});await Promise.all(t),console.log("\u2705 All ".concat(e.studentSnapshot.students.length," students re-enrolled"))}await pv(cg(jv,"archivedClasses",e.id)),console.log("\u2705 Removed from archived classes"),await g(),window.dispatchEvent(new Event("classesUpdated"));const o=(null===(n=e.studentSnapshot)||void 0===n||null===(r=n.students)||void 0===r?void 0:r.length)||0;alert('\u2705 Class "'.concat(e.name,'" restored successfully!\n\n').concat(o," students have been re-enrolled with their accounts intact."))}catch(a){console.error("\u274c Error restoring class:",a),alert("\u274c Failed to restore class: "+a.message)}finally{l(null)}})(e),disabled:o===e.id,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white px-4 py-2 rounded-xl transition-all font-medium",children:o===e.id?(0,Uv.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(N3,{className:"w-4 h-4"}),(0,Uv.jsx)("span",{children:"Restore"})]})}),(0,Uv.jsx)("button",{onClick:()=>f(e.id),disabled:u===e.id,className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-300 text-white px-4 py-2 rounded-xl transition-all font-medium",children:(0,Uv.jsx)(CI,{className:"w-4 h-4"})})]})]})]},e.id);var t})})]}),m&&h&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn font-Outfit",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-96 text-center animate-slideUp",children:[(0,Uv.jsx)(CI,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Permanently Delete Class?"}),(0,Uv.jsx)("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. All class data will be permanently deleted."}),(0,Uv.jsxs)("div",{className:"flex gap-3",children:[(0,Uv.jsx)("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 rounded-xl bg-gray-200 hover:bg-gray-300 active:scale-95 hover:scale-105 duration-200 text-gray-800 font-medium transition-all",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:()=>(async e=>{d(e);try{await pv(cg(jv,"archivedClasses",e)),g(),alert("Class permanently deleted!")}catch(t){console.error("Error deleting class:",t),alert("Failed to delete class. Please try again.")}finally{d(null),f(null)}})(h),disabled:u,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 hover:bg-red-700 active:scale-95 hover:scale-105 duration-200 disabled:bg-gray-300 text-white font-medium transition-all",children:u?"Deleting...":"Delete"})]})]})}),document.body)]})}function E3(e){var n;let{user:r}=e;const[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{g(!0)},[]),(0,t.useEffect)(()=>{v()},[r]);const v=async()=>{if(r){o(!0);try{const e=Xg(lg(jv,"archivedQuizzes"),Jg("teacherId","==",r.uid)),t=await hv(e),n=[];t.forEach(e=>{n.push(c({id:e.id},e.data()))}),n.sort((e,t)=>{var n,r;const a=null!==(n=e.archivedAt)&&void 0!==n&&n.toDate?e.archivedAt.toDate():new Date(0);return(null!==(r=t.archivedAt)&&void 0!==r&&r.toDate?t.archivedAt.toDate():new Date(0))-a}),s(n)}catch(e){console.error("Error fetching archived quizzes:",e),alert("Failed to load archived quizzes.")}finally{o(!1)}}},y=e=>{if(!e)return"N/A";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"N/A"}},x=e=>{switch(e){case"Published":default:return"bg-blue-100 text-blue-700";case"Draft":return"bg-gray-100 text-gray-700"}};return i?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Uv.jsxs)("div",{className:"flex flex-row items-center justify-center gap-3",children:[(0,Uv.jsx)(Ly,{className:"text-blue-600 animate-spin mx-auto "}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Loading archived quizzes..."})]})}):(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Uv.jsxs)("div",{className:"mb-8",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(Rx,{className:"w-8 h-8 text-blue-600"}),(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Archived Quizzes"})]}),(0,Uv.jsx)("p",{className:"text-gray-600",children:"Manage your archived quizzes. You can restore or permanently delete them."})]}),0===a.length?(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-12 text-center border border-gray-100 animate-slideIn",children:[(0,Uv.jsx)(Rx,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Uv.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Archived Quizzes"}),(0,Uv.jsx)("p",{className:"text-gray-500",children:"Quizzes you archive will appear here for safekeeping."})]}):(0,Uv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-slideIn",children:a.map(e=>{var t;return(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-300 p-4",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Uv.jsx)(Qy,{className:"w-5 h-5 text-white flex-shrink-0"}),(0,Uv.jsx)("h3",{className:"text-lg font-bold text-white truncate flex-1",children:e.title})]}),(0,Uv.jsx)("div",{className:"flex items-center gap-2",children:(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-lg text-xs font-semibold ".concat(x(e.mode)),children:e.mode||"Published"})})]}),(0,Uv.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Uv.jsx)(ox,{className:"w-4 h-4 flex-shrink-0"}),(0,Uv.jsxs)("span",{children:[e.totalPoints||0," points"]})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Uv.jsx)(Qy,{className:"w-4 h-4 flex-shrink-0"}),(0,Uv.jsxs)("span",{children:[(null===(t=e.questions)||void 0===t?void 0:t.length)||0," questions"]})]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Uv.jsx)(Uy,{className:"w-4 h-4 flex-shrink-0"}),(0,Uv.jsxs)("span",{children:["Archived: ",y(e.archivedAt)]})]}),e.classificationStats&&(0,Uv.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,Uv.jsx)("p",{className:"text-xs text-gray-500 font-semibold mb-2",children:"Classification:"}),(0,Uv.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Uv.jsxs)("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 rounded text-xs font-medium",children:["HOTS: ",e.classificationStats.hots_count||0]}),(0,Uv.jsxs)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs font-medium",children:["LOTS: ",e.classificationStats.lots_count||0]})]})]}),(0,Uv.jsxs)("div",{className:"pt-3 border-t border-gray-100 flex gap-2",children:[(0,Uv.jsx)("button",{onClick:()=>(async e=>{u(e.id);try{const t=e.originalQuizId||e.id,n=c({},e);delete n.id,delete n.archivedAt,delete n.archivedBy,delete n.originalQuizId,delete n.status,n.mode="Published",n.status="published",n.createdAt=new Date,n.updatedAt=new Date;const r=cg(jv,"quizzes",t);await fv(r,n),await pv(cg(jv,"archivedQuizzes",e.id)),await v(),alert("\u2705 Quiz restored successfully!")}catch(t){console.error("Error restoring quiz:",t),alert("\u274c Failed to restore quiz. Please try again.")}finally{u(null)}})(e),disabled:l===e.id,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-xl transition-all font-semibold",title:"Restore this quiz",children:l===e.id?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Restoring..."})]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(N3,{className:"w-4 h-4"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Restore"})]})}),(0,Uv.jsx)("button",{onClick:()=>m(e.id),disabled:d===e.id,className:"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-xl transition-all font-semibold",title:"Permanently delete this quiz",children:d===e.id?(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}):(0,Uv.jsx)(CI,{className:"w-4 h-4"})})]})]})]},e.id)})})]}),p&&f&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fadeIn font-Outfit",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md text-center animate-slideUp",children:[(0,Uv.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:(0,Uv.jsx)(CI,{className:"w-6 h-6 text-red-600"})}),(0,Uv.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Permanently Delete Quiz?"}),(0,Uv.jsx)("p",{className:"text-gray-600 mb-4",children:"This action cannot be undone. All quiz data will be permanently deleted from the system."}),a.find(e=>e.id===f)&&(0,Uv.jsxs)("p",{className:"text-sm text-gray-500 mb-6 p-2 bg-gray-100 rounded-lg",children:[(0,Uv.jsx)("strong",{children:"Quiz:"})," ",null===(n=a.find(e=>e.id===f))||void 0===n?void 0:n.title]}),(0,Uv.jsxs)("div",{className:"flex gap-3",children:[(0,Uv.jsx)("button",{onClick:()=>m(null),disabled:d,className:"flex-1 px-4 py-2 rounded-xl bg-gray-200 hover:bg-gray-300 active:scale-95 hover:scale-105 disabled:bg-gray-200 disabled:cursor-not-allowed text-gray-800 font-semibold transition-all",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:()=>(async e=>{h(e);try{await pv(cg(jv,"archivedQuizzes",e)),await v(),alert("\ud83d\uddd1\ufe0f Quiz permanently deleted!")}catch(t){console.error("Error deleting quiz:",t),alert("\u274c Failed to delete quiz. Please try again.")}finally{h(null),m(null)}})(f),disabled:d===f,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 hover:bg-red-700 active:scale-95 hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold transition-all flex items-center justify-center gap-2",children:d===f?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-4 h-4 animate-spin"}),"Deleting..."]}):"Delete Permanently"})]})]})}),document.body)]})}const k3=Dv("badge-question-mark",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),j3=Dv("circle-star",[["path",{d:"M11.051 7.616a1 1 0 0 1 1.909.024l.737 1.452a1 1 0 0 0 .737.535l1.634.256a1 1 0 0 1 .588 1.806l-1.172 1.168a1 1 0 0 0-.282.866l.259 1.613a1 1 0 0 1-1.541 1.134l-1.465-.75a1 1 0 0 0-.912 0l-1.465.75a1 1 0 0 1-1.539-1.133l.258-1.613a1 1 0 0 0-.282-.867l-1.156-1.152a1 1 0 0 1 .572-1.822l1.633-.256a1 1 0 0 0 .737-.535z",key:"285bvi"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function T3(){const{quizId:e}=ye(),n=ge(),[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)({}),[b,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)(null);(0,t.useEffect)(()=>{E()},[e]),(0,t.useEffect)(()=>{const e=e=>{k()&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[r,s,h,m]);const E=async()=>{try{const t=cg(jv,"quizzes",e),r=await uv(t);if(r.exists()){const e=c({id:r.id},r.data());a(e),i(JSON.parse(JSON.stringify(e)))}else alert("Quiz not found!"),n("/teacher/quizzes")}catch(t){console.error("Error fetching quiz:",t),alert("Error loading quiz")}finally{l(!1)}},k=()=>{if(!r||!s)return!1;return JSON.stringify(r)!==JSON.stringify(s)||h},j=e=>{k()?(S(e),w(!0)):n(e)};if(o)return(0,Uv.jsx)("div",{className:"p-8 font-Outfit",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Uv.jsx)(Ly,{className:"animate-spin rounded-full h-5 w-5 text-blue-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading quiz..."})]})});if(!r)return null;const T=(e=>{const t={multiple_choice:[],true_false:[],identification:[]};return e.forEach((e,n)=>{t[e.type].push(c(c({},e),{},{originalIndex:n}))}),t})(r.questions),_={multiple_choice:"Multiple Choice",true_false:"True/False",identification:"Identification"},C=k();return(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 font-Outfit",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("button",{onClick:()=>j("/teacher/quizzes"),className:"flex items-center gap-2 text-subtext hover:text-subsubtext",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"}),"Back to Manage Quizzes"]}),C&&(0,Uv.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-100 border border-yellow-400 rounded-lg",children:[(0,Uv.jsx)(MI,{className:"w-4 h-4 text-yellow-600"}),(0,Uv.jsx)("span",{className:"text-sm font-semibold text-yellow-700",children:"You have unsaved changes"})]})]}),(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-300 text-white p-6 rounded-3xl mb-6",children:h?(0,Uv.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-2",children:[(0,Uv.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),className:"text-2xl font-bold bg-white text-gray-800 px-3 py-2 mr-2 rounded-xl flex-1",autoFocus:!0}),(0,Uv.jsx)("button",{onClick:()=>{m.trim()&&(a(c(c({},r),{},{title:m})),f(!1))},className:"bg-blue-600 hover:bg-blue-600Hover px-4 py-2 rounded-xl transform-all active:scale-95 hover:scale-105 duration-200",children:"Save"}),(0,Uv.jsx)("button",{onClick:()=>f(!1),className:"bg-subtext hover:bg-subsubtext px-4 py-2 rounded-xl transform-all active:scale-95 hover:scale-105 duration-200",children:"Cancel"})]}):(0,Uv.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold cursor-default",children:r.title}),(0,Uv.jsxs)("div",{className:"flex items-center gap-6 text-sm text-white mt-2 cursor-default",children:[(0,Uv.jsxs)("span",{className:"flex flex-row gap-1 items-center",children:[(0,Uv.jsx)(k3,{className:"w-4 h-4"})," ",r.questions.length," questions"]}),(0,Uv.jsxs)("span",{className:"flex flex-row gap-1 items-center",children:[(0,Uv.jsx)(j3,{className:"w-4 h-4"})," ",r.questions.reduce((e,t)=>e+t.points,0)," points"]})]})]}),(0,Uv.jsxs)("button",{onClick:()=>{p(r.title),f(!0)},className:"bg-blue-600 hover:bg-blue-600Hover mt-4 md:mt-0 rounded-lg px-4 py-2 flex items-center gap-2 transform-all active:scale-95 hover:scale-105 duration-200",children:[(0,Uv.jsx)(LI,{className:"w-4 h-4"})," Edit Title"]})]})}),(0,Uv.jsx)("div",{className:"space-y-8",children:Object.entries(T).map(e=>{let[t,n]=e;return 0===n.length?null:(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start gap-3 md:gap-0 border-b-2 border-blue-600 pb-6",children:[(0,Uv.jsxs)("h3",{className:"text-xl font-bold text-title flex items-start gap-2",children:[_[t],(0,Uv.jsxs)("span",{className:"text-sm bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:[n.length," ",1===n.length?"question":"questions"]})]}),(0,Uv.jsxs)("button",{onClick:()=>(e=>{const t={type:e,question:"",points:1,correct_answer:"true_false"===e?"True":"",choices:"multiple_choice"===e?[{text:"",is_correct:!1},{text:"",is_correct:!1}]:null,bloom_classification:"LOTS"};a(c(c({},r),{},{questions:[...r.questions,t]})),v(r.questions.length),x({question:"",type:e,points:1,correct_answer:"true_false"===e?"True":"",choices:"multiple_choice"===e?[{text:"",is_correct:!1},{text:"",is_correct:!1}]:null,bloom_classification:"LOTS"})})(t),className:"flex items-center gap-1 bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-600Hover transition text-sm transform-all active:scale-95 hover:scale-105 duration-200",children:[(0,Uv.jsx)(_I,{className:"w-4 h-4"})," Add Question"]})]}),(0,Uv.jsx)("div",{className:"space-y-4",children:n.map(e=>{const t=g===e.originalIndex;return(0,Uv.jsx)("div",{className:"bg-gray-50 p-6 border-2 rounded-3xl border-gray-200",children:t?(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-md font-semibold mb-2",children:"Question"}),(0,Uv.jsx)("textarea",{value:y.question,onChange:e=>x(c(c({},y),{},{question:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",rows:"3"})]}),(0,Uv.jsxs)("div",{className:"flex gap-4",children:[(0,Uv.jsxs)("div",{className:"w-32",children:[(0,Uv.jsx)("label",{className:"block text-md font-semibold mb-2",children:"Points"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:y.points,onChange:e=>x(c(c({},y),{},{points:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("label",{className:"block text-md font-semibold mb-2",children:"Classification"}),(0,Uv.jsxs)("select",{value:y.bloom_classification,onChange:e=>x(c(c({},y),{},{bloom_classification:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Uv.jsx)("option",{value:"LOTS",children:"LOTS (Lower Order Thinking)"}),(0,Uv.jsx)("option",{value:"HOTS",children:"HOTS (Higher Order Thinking)"})]})]})]}),"multiple_choice"===y.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-md font-semibold mb-2",children:"Choices"}),(0,Uv.jsxs)("div",{className:"space-y-2",children:[y.choices.map((e,t)=>(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("input",{type:"radio",checked:e.is_correct,onChange:()=>{const e=y.choices.map((e,n)=>c(c({},e),{},{is_correct:n===t}));x(c(c({},y),{},{choices:e}))},className:"w-4 h-4"}),(0,Uv.jsx)("input",{type:"text",value:e.text,onChange:e=>{const n=[...y.choices];n[t].text=e.target.value,x(c(c({},y),{},{choices:n}))},placeholder:"Choice ".concat(String.fromCharCode(65+t)),className:"flex-1 px-3 py-2 border rounded-lg"}),y.choices.length>2&&(0,Uv.jsx)("button",{onClick:()=>{const e=y.choices.filter((e,n)=>n!==t);x(c(c({},y),{},{choices:e}))},className:"text-red-600 hover:text-red-700 transform-all active:scale-95 hover:scale-105 duration-200",children:(0,Uv.jsx)(Mv,{className:"w-5 h-5"})})]},t)),(0,Uv.jsxs)("button",{onClick:()=>{x(c(c({},y),{},{choices:[...y.choices,{text:"",is_correct:!1}]}))},className:"text-blue-600 text-md hover:underline flex items-center gap-1",children:[(0,Uv.jsx)(_I,{className:"w-4 h-4"})," Add Choice"]})]})]}),"true_false"===y.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Correct Answer"}),(0,Uv.jsxs)("select",{value:y.correct_answer,onChange:e=>x(c(c({},y),{},{correct_answer:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Uv.jsx)("option",{value:"True",children:"True"}),(0,Uv.jsx)("option",{value:"False",children:"False"})]})]}),"identification"===y.type&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Correct Answer"}),(0,Uv.jsx)("input",{type:"text",value:y.correct_answer,onChange:e=>x(c(c({},y),{},{correct_answer:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Enter the correct answer"})]}),(0,Uv.jsxs)("div",{className:"flex gap-2",children:[(0,Uv.jsxs)("button",{onClick:()=>(e=>{if(!y.question.trim())return void alert("Question text cannot be empty");if("multiple_choice"===y.type){if(!y.choices||y.choices.length<2)return void alert("Multiple choice must have at least 2 choices");if(!y.choices.some(e=>e.is_correct))return void alert("Please mark one choice as correct");if(y.choices.some(e=>!e.text.trim()))return void alert("All choices must have text")}else if(!y.correct_answer.trim())return void alert("Correct answer cannot be empty");const t=[...r.questions];t[e]=c(c({},t[e]),{},{question:y.question,points:y.points,correct_answer:y.correct_answer,choices:y.choices,bloom_classification:y.bloom_classification}),a(c(c({},r),{},{questions:t})),v(null)})(e.originalIndex),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-1 transform-all active:scale-95 hover:scale-105 duration-200",children:[(0,Uv.jsx)(Iy,{className:"w-4 h-4"})," Save"]}),(0,Uv.jsx)("button",{onClick:()=>v(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transform-all active:scale-95 hover:scale-105 duration-200",children:"Cancel"}),(0,Uv.jsxs)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this question?")){const t=r.questions.filter((t,n)=>n!==e);a(c(c({},r),{},{questions:t}))}})(e.originalIndex),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 ml-auto flex items-center gap-1 transform-all active:scale-95 hover:scale-105 duration-200",children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"})," Delete"]})]})]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,Uv.jsx)("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:e.originalIndex+1}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,Uv.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:e.type.replace("_"," ").toUpperCase()}),(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("HOTS"===e.bloom_classification?"bg-purple-100 text-purple-700":"bg-yellow-100 text-yellow-700"),children:e.bloom_classification}),(0,Uv.jsxs)("span",{className:"text-sm text-gray-600 rounded-full px-3 py-1 bg-gray-100",children:[e.points," ",1===e.points?"point":"points"]}),(0,Uv.jsxs)("button",{onClick:()=>{return t=e.originalIndex,n=e,v(t),void x({question:n.question,type:n.type,points:n.points,correct_answer:n.correct_answer||"",choices:n.choices?[...n.choices]:null,bloom_classification:n.bloom_classification||"LOTS"});var t,n},className:"ml-auto text-blue-600 hover:text-blue-700 flex items-center gap-1 text-sm",children:[(0,Uv.jsx)(LI,{className:"w-4 h-4"}),(0,Uv.jsx)("span",{className:"hidden md:block",children:"Edit"})]})]}),(0,Uv.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:e.question})]})]}),e.choices&&(0,Uv.jsx)("div",{className:"ml-11 space-y-2",children:e.choices.map((e,t)=>(0,Uv.jsx)("div",{className:"p-3 rounded-lg border-2 ".concat(e.is_correct?"bg-blue-50 border-blue-400":"bg-white border-gray-200"),children:(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsxs)("span",{className:"font-semibold text-gray-700",children:[String.fromCharCode(65+t),"."]}),(0,Uv.jsx)("span",{className:e.is_correct?"text-blue-700 font-semibold":"text-gray-700",children:e.text}),e.is_correct&&(0,Uv.jsx)(Iy,{className:"w-5 h-5 text-blue-600 ml-auto"})]})},t))}),!e.choices&&(0,Uv.jsx)("div",{className:"ml-11 mt-3",children:(0,Uv.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-400 rounded-lg p-3",children:[(0,Uv.jsx)("span",{className:"text-sm text-gray-600 font-semibold",children:"Correct Answer: "}),(0,Uv.jsx)("span",{className:"text-blue-700 font-bold",children:e.correct_answer})]})})]})},e.originalIndex)})})]},t)})}),(0,Uv.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,Uv.jsx)("button",{onClick:()=>j("/teacher/quizzes"),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transform-all active:scale-95 hover:scale-105 duration-200",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{if(r.title.trim())if(0!==r.questions.length){d(!0);try{const t=r.questions.reduce((e,t)=>e+t.points,0),a=r.questions.filter(e=>"HOTS"===e.bloom_classification).length,s=r.questions.filter(e=>"LOTS"===e.bloom_classification).length,o=cg(jv,"quizzes",e);await mv(o,{title:r.title,questions:r.questions,totalPoints:t,classificationStats:{hots_count:a,lots_count:s,hots_percentage:(a/r.questions.length*100).toFixed(1),lots_percentage:(s/r.questions.length*100).toFixed(1)},updatedAt:new Date}),i(JSON.parse(JSON.stringify(r))),alert("Quiz updated successfully!"),n("/teacher/quizzes")}catch(t){console.error("Error updating quiz:",t),alert("Error saving quiz. Please try again.")}finally{d(!1)}}else alert("Quiz must have at least one question");else alert("Quiz title cannot be empty")},disabled:u||!C,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed transform-all active:scale-95 hover:scale-105 duration-200",children:u?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(zI,{className:"w-5 h-5"}),"Save Changes"]})})]}),b&&(0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-lg",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Uv.jsx)(MI,{className:"w-8 h-8 text-yellow-600"}),(0,Uv.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Unsaved Changes"})]}),(0,Uv.jsx)("p",{className:"text-gray-600 mb-6",children:"You have unsaved changes. Are you sure you want to leave without saving?"}),(0,Uv.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,Uv.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100 transition transform-all active:scale-95 hover:scale-105 duration-200",children:"Stay and continue editing"}),(0,Uv.jsx)("button",{onClick:()=>{w(!1),N&&n(N)},className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition transform-all active:scale-95 hover:scale-105 duration-200",children:"Leave without saving"})]})]})})]})}function _3(){const{quizId:e}=ye(),n=ge(),r=fe().state,[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0),[l,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)({mode:"asynchronous",deadline:"",timeLimit:0,shuffleQuestions:!1,shuffleChoices:!1,showResults:!0,allowReview:!0,passingScore:60,maxAttempts:1,showCorrectAnswers:!0,isPublic:!1,status:"published"});(0,t.useEffect)(()=>{f()},[e]);const f=async()=>{try{const t=cg(jv,"quizzes",e),a=await uv(t);if(a.exists()){const e=a.data();s(c({id:a.id},e)),null!==r&&void 0!==r&&r.fromAssignment?h(t=>c(c({},t),{},{mode:r.mode||"asynchronous",deadline:r.dueDate||""},e.settings||{})):e.settings&&h(t=>c(c({},t),e.settings))}else alert("Quiz not found!"),n("/teacher/quizzes")}catch(t){console.error("Error fetching quiz:",t),alert("Error loading quiz."),n("/teacher/quizzes")}finally{o(!1)}};return i?(0,Uv.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-md",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading settings..."})]})}):a?(0,Uv.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-md max-w-4xl mx-auto",children:[(0,Uv.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Uv.jsxs)("button",{onClick:()=>n("/teacher/quizzes"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"}),"Back to Manage Quizzes"]})}),(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-gray-700 to-gray-900 text-white p-6 rounded-xl mb-8",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(y3,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold",children:"Quiz Settings"}),(0,Uv.jsx)("p",{className:"text-gray-300 text-sm mt-1",children:a.title}),(null===r||void 0===r?void 0:r.fromAssignment)&&(0,Uv.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-sm",children:[(0,Uv.jsx)("span",{className:"bg-yellow-500 text-gray-900 px-3 py-1 rounded-full font-semibold",children:"Editing Assignment"}),(0,Uv.jsxs)("span",{children:["Class: ",r.className]}),(0,Uv.jsxs)("span",{children:["Students: ",r.studentCount]})]})]})]})}),(0,Uv.jsxs)("div",{className:"space-y-6",children:[(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Uv.jsx)(My,{className:"w-5 h-5 text-purple-600"}),(0,Uv.jsx)("h3",{className:"text-lg font-bold",children:"Quiz Mode"})]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how students will take this quiz"}),(0,Uv.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Uv.jsxs)("label",{className:"flex flex-col p-4 border-2 rounded-lg cursor-pointer transition ".concat("asynchronous"===d.mode?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-300"),children:[(0,Uv.jsx)("input",{type:"radio",name:"mode",value:"asynchronous",checked:"asynchronous"===d.mode,onChange:e=>h(c(c({},d),{},{mode:e.target.value})),className:"sr-only"}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Uv.jsx)(Uy,{className:"w-5 h-5 text-blue-600"}),(0,Uv.jsx)("span",{className:"font-bold",children:"Asynchronous"})]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600",children:"Students can take the quiz anytime before the due date"})]}),(0,Uv.jsxs)("label",{className:"flex flex-col p-4 border-2 rounded-lg cursor-pointer transition ".concat("synchronous"===d.mode?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"),children:[(0,Uv.jsx)("input",{type:"radio",name:"mode",value:"synchronous",checked:"synchronous"===d.mode,onChange:e=>h(c(c({},d),{},{mode:e.target.value})),className:"sr-only"}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Uv.jsx)(My,{className:"w-5 h-5 text-purple-600"}),(0,Uv.jsx)("span",{className:"font-bold",children:"Synchronous (Live)"})]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600",children:"All students take it together at the same time with live monitoring"})]})]}),"asynchronous"===d.mode&&(0,Uv.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,Uv.jsx)(Uy,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("h4",{className:"font-bold text-blue-800 mb-1",children:"Assignment Deadline"}),(0,Uv.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Set when students must submit their responses"})]})]}),(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Due Date & Time"}),(0,Uv.jsx)("input",{type:"datetime-local",value:d.deadline,onChange:e=>h(c(c({},d),{},{deadline:e.target.value})),className:"w-full px-4 py-2 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().slice(0,16)}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\u2705 Students can submit anytime until this deadline"})]}),"synchronous"===d.mode&&(0,Uv.jsxs)("div",{className:"mt-4 p-4 bg-purple-50 border-2 border-purple-200 rounded-lg",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 text-purple-600 mt-0.5"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("h4",{className:"font-bold text-purple-800 mb-1",children:"Live Monitoring Required"}),(0,Uv.jsx)("p",{className:"text-sm text-purple-700 mb-2",children:"This mode requires you to START, monitor, and control the quiz session live from the Quiz Control Dashboard."}),(0,Uv.jsxs)("div",{className:"bg-white border border-purple-200 rounded-lg p-3",children:[(0,Uv.jsx)("p",{className:"text-xs font-semibold text-purple-900 mb-1",children:"\ud83d\udccc How it works:"}),(0,Uv.jsxs)("ul",{className:"text-xs text-gray-700 space-y-1 ml-4 list-disc",children:[(0,Uv.jsx)("li",{children:"Students CANNOT access the quiz until you click START"}),(0,Uv.jsx)("li",{children:"You control when to open, pause, and end the session"}),(0,Uv.jsx)("li",{children:"Real-time monitoring like Kahoot"})]})]})]})]}),(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Expiration Deadline (Optional)"}),(0,Uv.jsx)("input",{type:"datetime-local",value:d.deadline,onChange:e=>h(c(c({},d),{},{deadline:e.target.value})),className:"w-full px-4 py-2 border-2 border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",min:(new Date).toISOString().slice(0,16)}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u26a0\ufe0f Safety net only - Quiz assignment will expire after this date if not taken"})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Uv.jsx)(Dy,{className:"w-5 h-5 text-blue-600"}),(0,Uv.jsx)("h3",{className:"text-lg font-bold",children:"Time Settings"})]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"asynchronous"===d.mode?"Set a time limit for students to complete the quiz once they start":"Control how long students have during the live session"}),(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Time Limit (minutes)"}),(0,Uv.jsx)("input",{type:"number",min:"0",value:d.timeLimit,onChange:e=>h(c(c({},d),{},{timeLimit:parseInt(e.target.value)||0})),placeholder:"Enter time in minutes or leave as 0 for no limit",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:0===d.timeLimit?"\u23f1\ufe0f No time limit - Students can take as long as they need":"\u23f1\ufe0f Students have ".concat(d.timeLimit," minute").concat(d.timeLimit>1?"s":""," to complete the quiz")})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Randomization"}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:d.shuffleQuestions,onChange:e=>h(c(c({},d),{},{shuffleQuestions:e.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("div",{className:"font-semibold",children:"Shuffle Questions"}),(0,Uv.jsx)("div",{className:"text-sm text-gray-600",children:"Present questions in random order"})]})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:d.shuffleChoices,onChange:e=>h(c(c({},d),{},{shuffleChoices:e.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("div",{className:"font-semibold",children:"Shuffle Answer Choices"}),(0,Uv.jsx)("div",{className:"text-sm text-gray-600",children:"Randomize multiple choice options"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Scoring & Results"}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Passing Score (%)"}),(0,Uv.jsx)("input",{type:"number",min:"0",max:"100",value:d.passingScore,onChange:e=>h(c(c({},d),{},{passingScore:parseInt(e.target.value)||60})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Maximum Attempts"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:d.maxAttempts,onChange:e=>h(c(c({},d),{},{maxAttempts:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:d.showResults,onChange:e=>h(c(c({},d),{},{showResults:e.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("div",{className:"font-semibold",children:"Show Results After Submission"}),(0,Uv.jsx)("div",{className:"text-sm text-gray-600",children:"Display score immediately after quiz completion"})]})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:d.showCorrectAnswers,onChange:e=>h(c(c({},d),{},{showCorrectAnswers:e.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("div",{className:"font-semibold",children:"Show Correct Answers"}),(0,Uv.jsx)("div",{className:"text-sm text-gray-600",children:"Allow students to see correct answers after submission"})]})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:d.allowReview,onChange:e=>h(c(c({},d),{},{allowReview:e.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("div",{className:"font-semibold",children:"Allow Review"}),(0,Uv.jsx)("div",{className:"text-sm text-gray-600",children:"Students can review their answers before submitting"})]})]})]})]}),(null===r||void 0===r?void 0:r.fromAssignment)&&(0,Uv.jsx)("div",{className:"border-2 border-yellow-200 rounded-xl p-4 bg-yellow-50 mb-6",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("h4",{className:"font-bold text-yellow-900 mb-1",children:["Editing Assignment for ",r.className]}),(0,Uv.jsx)("p",{className:"text-sm text-yellow-800",children:"Changes here will only affect this specific assignment. The original quiz template remains unchanged."})]})]})}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Access Control"}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:d.isPublic,onChange:e=>h(c(c({},d),{},{isPublic:e.target.checked})),className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("div",{className:"font-semibold",children:"Public Quiz"}),(0,Uv.jsx)("div",{className:"text-sm text-gray-600",children:"Anyone with the code can take this quiz"})]})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Quiz Status"}),(0,Uv.jsxs)("select",{value:d.status,onChange:e=>h(c(c({},d),{},{status:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Uv.jsx)("option",{value:"published",children:"Published"}),(0,Uv.jsx)("option",{value:"draft",children:"Draft"}),(0,Uv.jsx)("option",{value:"archived",children:"Archived"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-red-200 rounded-xl p-6 bg-red-50",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Uv.jsx)(Py,{className:"w-5 h-5 text-red-600"}),(0,Uv.jsx)("h3",{className:"text-lg font-bold text-red-700",children:"Danger Zone"})]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"Once you delete a quiz, there is no going back. Please be certain."}),(0,Uv.jsxs)("button",{onClick:async()=>{if(window.confirm('Are you sure you want to delete "'.concat(a.title,'"? This action cannot be undone.')))try{const t=cg(jv,"quizzes",e);await pv(t),alert("\u2705 Quiz deleted successfully!"),n("/teacher/quizzes")}catch(t){console.error("Error deleting quiz:",t),alert("\u274c Error deleting quiz. Please try again.")}},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 flex items-center gap-2 font-semibold",children:[(0,Uv.jsx)(CI,{className:"w-4 h-4"}),"Delete Quiz"]})]})]}),(0,Uv.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,Uv.jsx)("button",{onClick:()=>n("/teacher/quizzes"),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{u(!0);try{if(null!==r&&void 0!==r&&r.fromAssignment){const t=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",e),Jg("classId","==",r.classId)),n=(await hv(t)).docs.map(e=>mv(cg(jv,"assignedQuizzes",e.id),{dueDate:d.deadline||d.dueDate,quizMode:d.mode,settings:d,updatedAt:new Date}));await Promise.all(n),alert("\u2705 Assignment settings updated for ".concat(r.className,"!"))}else{const t=cg(jv,"quizzes",e);await mv(t,{settings:d,updatedAt:new Date}),alert("\u2705 Settings saved successfully!")}n("/teacher/quizzes")}catch(t){console.error("Error saving settings:",t),alert("\u274c Error saving settings. Please try again.")}finally{u(!1)}},disabled:l,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:bg-gray-400",children:l?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(zI,{className:"w-5 h-5"}),"Save Settings"]})})]})]}):null}function C3(){var e;const{quizId:n}=ye(),r=ge(),[a]=jt(),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,v]=(0,t.useState)(!0),[y,x]=(0,t.useState)(!1),[b,w]=(0,t.useState)(null),[N,S]=(0,t.useState)(null),[E,k]=(0,t.useState)({dueDate:"",instructions:"",mode:"asynchronous",timeLimit:null,deadline:null,shuffleQuestions:!1,shuffleChoices:!1,showResults:!0,allowReview:!0,showCorrectAnswers:!0,passingScore:60,maxAttempts:1});(0,t.useEffect)(()=>{j()},[n]);const j=async()=>{try{const e=kv.currentUser;if(!e)return alert("Please login first"),void r("/login");const t=cg(jv,"quizzes",n),s=await uv(t);if(!s.exists())return alert("Quiz not found!"),void r("/teacher/quizzes");const o=c({id:s.id},s.data());if(o.teacherId!==e.uid)return alert("You don't have permission to assign this quiz!"),void r("/teacher/quizzes");o.title=o.title||"Untitled Quiz",o.code=o.code||"QZ".concat(n.slice(-6).toUpperCase()),i(o),o.settings&&k(e=>c(c({},e),{},{mode:o.settings.mode||"asynchronous",timeLimit:o.settings.timeLimit||null,deadline:o.settings.deadline||null,passingScore:o.settings.passingScore||60,maxAttempts:o.settings.maxAttempts||1,shuffleQuestions:o.settings.shuffleQuestions||!1,shuffleChoices:o.settings.shuffleChoices||!1,showResults:!1!==o.settings.showResults,allowReview:!1!==o.settings.allowReview,showCorrectAnswers:!1!==o.settings.showCorrectAnswers}));const u=Xg(lg(jv,"classes"),Jg("teacherId","==",e.uid)),d=await hv(u),h=[];d.forEach(e=>{h.push(c({id:e.id},e.data()))}),l(h);const f=a.get("classId");if(f){const e=h.find(e=>e.id===f);e&&await T(e)}}catch(e){console.error("Error fetching data:",e),alert("Error loading data")}finally{v(!1)}},T=async e=>{d(e),v(!0),S(null);try{const t=await(async e=>{try{const t=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",n),Jg("classId","==",e)),r=await hv(t);if(r.size>0){const e=r.docs[0].data();return{exists:!0,mode:e.quizMode||"asynchronous",dueDate:e.dueDate||"",instructions:e.instructions||"",settings:e.settings||{},assignmentDocs:r.docs}}return{exists:!1}}catch(t){return console.error("Error checking existing assignment:",t),{exists:!1}}})(e.id);t.exists?(w(t),k(e=>c(c({},e),{},{mode:t.mode,dueDate:t.dueDate||"",instructions:t.instructions||"",timeLimit:t.settings.timeLimit||null,deadline:t.settings.deadline||null,shuffleQuestions:t.settings.shuffleQuestions||!1,shuffleChoices:t.settings.shuffleChoices||!1,showResults:!1!==t.settings.showResults,allowReview:!1!==t.settings.allowReview,showCorrectAnswers:!1!==t.settings.showCorrectAnswers,passingScore:t.settings.passingScore||60,maxAttempts:t.settings.maxAttempts||1}))):w(null);const r=Xg(lg(jv,"users"),Jg("role","==","student"),Jg("classIds","array-contains",e.id)),a=await hv(r),s=[];a.forEach(e=>{const t=e.data();s.push({id:e.id,authUID:t.authUID||null,name:t.name||"Unknown",email:t.emailAddress||"",studentNo:t.studentNo||"N/A",program:t.program||"",year:t.year||"",hasAccount:t.hasAccount||!1})}),s.sort((e,t)=>e.name.localeCompare(t.name)),f(s),p(s.map(e=>e.id))}catch(t){console.error("Error fetching students:",t),alert("Error loading students")}finally{v(!1)}},_=()=>{u?(d(null),f([]),p([]),w(null),S(null)):r("/teacher/quizzes")},C=async()=>{var e,t,a;const i=kv.currentUser;if(!i)return void alert("Please log in first!");const o="synchronous"===E.mode,l=i.displayName||(null===(e=i.email)||void 0===e?void 0:e.split("@")[0])||"Teacher",d=o?E.deadline:E.dueDate,f=o?"not_started":"pending",p=o?N:null,g={quizId:n,quizTitle:s.title||"Untitled Quiz",quizCode:p,classId:u.id,className:u.name,subject:u.subject||"",dueDate:d,quizMode:E.mode,instructions:E.instructions||"",assignedAt:Nv(),assignedBy:i.uid,teacherName:l,teacherEmail:i.email,sessionStatus:o?"not_started":null,sessionStartedAt:null,sessionEndedAt:null,settings:{mode:E.mode,timeLimit:null!==(t=E.timeLimit)&&void 0!==t?t:null,deadline:null!==(a=E.deadline)&&void 0!==a?a:null,shuffleQuestions:!!E.shuffleQuestions,shuffleChoices:!!E.shuffleChoices,showResults:!!E.showResults,allowReview:!!E.allowReview,showCorrectAnswers:!!E.showCorrectAnswers,passingScore:Number(E.passingScore)||60,maxAttempts:Number(E.maxAttempts)||1}},v=m.map(e=>{const t=h.find(t=>t.id===e);if(!t)return console.error("\u26a0\ufe0f Student not found: ".concat(e)),null;if(!t.authUID)return console.error("\u26a0\ufe0f No authUID for student: ".concat(t.name," (").concat(e,")")),console.log("   Please create an account for this student first!"),null;const n=c(c({},g),{},{studentId:t.authUID,studentDocId:e,studentName:t.name,studentNo:t.studentNo,status:f,completed:!1,score:null,attempts:0,startedAt:null,submittedAt:null});return gv(lg(jv,"assignedQuizzes"),n)}),y=v.filter(e=>null!==e);if(0!==y.length){if(y.length<m.length){const e=m.length-y.length;if(!window.confirm("\u26a0\ufe0f ".concat(e," student(s) don't have accounts yet and will be skipped.\n\nContinue assigning to ").concat(y.length," student(s)?")))return}await Promise.all(y),alert("Quiz ".concat(null!==b&&void 0!==b&&b.exists?"reassigned":"assigned"," to ").concat(y.length," student(s) in ").concat(u.name," successfully!")),r(o?"/teacher/quiz-control/".concat(n,"/").concat(u.id):"/teacher/quizzes")}else alert("\u274c No students with accounts selected! Please create accounts first.")},A="synchronous"===E.mode;return g?(0,Uv.jsx)("div",{className:"p-8 items-center justify-center",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"animate-spin h-8 w-8 text-blue-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading..."})]})}):s?(0,Uv.jsxs)("div",{className:"p-8 font-Outfit",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("button",{onClick:_,className:"flex items-center gap-2 text-subtext hover:text-subsubtext",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"}),u?"Back to Classes":"Back to Manage Quizzes"]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,Uv.jsxs)("span",{className:"px-3 py-1 rounded-full ".concat(u?"bg-green-500 text-white":"bg-blue-400 text-white"),children:[u?"\u2713":"1."," Select Class"]}),(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full ".concat(u?"bg-blue-400 text-white":"bg-gray-200 text-gray-600"),children:"2. Configure & Assign"})]})]}),(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-xl mb-6",children:(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)(fx,{className:"w-8 h-8"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold",children:"Assign Quiz to Students"}),(0,Uv.jsx)("p",{className:"text-white text-sm mt-1",children:s.title}),(0,Uv.jsx)("div",{className:"flex items-center gap-4 mt-2",children:(0,Uv.jsxs)("p",{className:"text-white text-xs",children:["Code: ",s.code," \u2022 ",(null===(e=s.questions)||void 0===e?void 0:e.length)||0," questions"]})})]})]})}),!u&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("h3",{className:"text-xl text-title font-bold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(Fy,{className:"w-6 h-6 text-blue-600"}),"Select a Class"]}),0===o.length?(0,Uv.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Uv.jsx)(Fy,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-lg",children:"No classes found"}),(0,Uv.jsx)("p",{className:"text-sm mt-2",children:"Please upload a classlist first in Manage Classes."})]}):(0,Uv.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:o.map(e=>(0,Uv.jsx)("button",{onClick:()=>T(e),className:"p-6 border-2 border-blue-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition text-left group",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Uv.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg group-hover:bg-blue-100 transition",children:(0,Uv.jsx)(Fy,{className:"w-6 h-6 text-blue-600 group-hover:text-blue-400"})}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("h4",{className:"font-bold text-lg text-title",children:e.name}),e.subject&&(0,Uv.jsxs)("p",{className:"text-sm text-subtext mt-1",children:["Subject: ",e.subject]}),(0,Uv.jsxs)("p",{className:"text-sm text-blue-600 group-hover:text-blue-400 mt-2 font-semibold",children:[e.studentCount||0," students enrolled"]}),(0,Uv.jsxs)("p",{className:"text-xs text-subtext mt-1",children:["Teacher: ",e.teacherName]})]})]})},e.id))})]}),u&&(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[(0,Uv.jsx)("p",{className:"text-sm text-title",children:"Selected Class:"}),(0,Uv.jsx)("p",{className:"font-bold text-blue-800 text-lg",children:u.name}),u.subject&&(0,Uv.jsxs)("p",{className:"text-sm text-gray-600",children:["Subject: ",u.subject]})]}),(null===b||void 0===b?void 0:b.exists)&&(0,Uv.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-xl",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uv.jsx)(Py,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("h4",{className:"font-bold text-yellow-900 mb-2",children:"Quiz Already Assigned"}),(0,Uv.jsxs)("p",{className:"text-sm text-yellow-800 mb-2",children:["This quiz is already assigned to this class in"," ",(0,Uv.jsx)("span",{className:"font-bold",children:"synchronous"===b.mode?"SYNCHRONOUS (Live)":"ASYNCHRONOUS (Self-Paced)"})," ","mode."]}),(0,Uv.jsx)("p",{className:"text-sm text-yellow-800",children:'You can modify the settings below (including the mode) and click "Reassign Quiz" to replace the existing assignment.'})]})]})}),(0,Uv.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,Uv.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Uv.jsxs)("div",{className:"border-2 border-blue-200 rounded-xl p-6 bg-blue-50",children:[(0,Uv.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(y3,{className:"w-5 h-5 text-blue-600"}),"Quiz Settings"]}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Quiz Mode *"}),(0,Uv.jsxs)("select",{value:E.mode,onChange:e=>{k(c(c({},E),{},{mode:e.target.value})),S(null)},className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Uv.jsx)("option",{value:"asynchronous",children:"Asynchronous (Self-Paced)"}),(0,Uv.jsx)("option",{value:"synchronous",children:"Synchronous (Live/Controlled)"})]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:A?"You control when students can access the quiz":"Students can take quiz anytime before due date"}),(null===b||void 0===b?void 0:b.exists)&&b.mode!==E.mode&&(0,Uv.jsxs)("p",{className:"text-xs text-orange-700 font-semibold mt-2 bg-orange-100 p-2 rounded",children:["\u26a0\ufe0f Mode will change from ","synchronous"===b.mode?"LIVE":"SELF-PACED"," to ","synchronous"===E.mode?"LIVE":"SELF-PACED"]})]}),A&&(0,Uv.jsxs)("div",{className:"p-4 bg-blue-100 border border-blue-300 rounded-lg",children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-3 text-blue-900",children:"Generate Unique Quiz Code"}),(0,Uv.jsxs)("div",{className:"flex gap-2",children:[N?(0,Uv.jsx)("div",{className:"flex-1 px-4 py-2 bg-white border-2 border-blue-500 rounded-lg font-bold text-lg text-blue-700 text-center",children:N}):(0,Uv.jsx)("div",{className:"flex-1 px-4 py-2 bg-white border-2 border-dashed border-blue-300 rounded-lg text-gray-500 text-center",children:"Code will appear here"}),(0,Uv.jsx)("button",{onClick:()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(36*Math.random()));S(t)},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition",children:N?"Regenerate":"Generate"})]}),(0,Uv.jsx)("p",{className:"text-xs text-blue-800 mt-2",children:"Share this code with students to access the live quiz session"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold mb-2",children:[(0,Uv.jsx)(x3,{className:"w-4 h-4 text-blue-600"}),"Time Limit (minutes)"]}),(0,Uv.jsx)("input",{type:"number",min:"0",value:E.timeLimit||"",onChange:e=>k(c(c({},E),{},{timeLimit:e.target.value?parseInt(e.target.value):null})),placeholder:"No Time Limit",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,Uv.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:null===E.timeLimit||0===E.timeLimit?"No time limit":"".concat(E.timeLimit," minute").concat(E.timeLimit>1?"s":""," limit")})]}),(0,Uv.jsxs)("div",{className:"space-y-3",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,Uv.jsx)(b3,{className:"w-4 h-4 text-blue-600"}),"Shuffle Options"]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:E.shuffleQuestions,onChange:e=>k(c(c({},E),{},{shuffleQuestions:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Shuffle Questions"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:E.shuffleChoices,onChange:e=>k(c(c({},E),{},{shuffleChoices:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Shuffle Answer Choices"})]})]}),(0,Uv.jsxs)("div",{className:"space-y-3",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,Uv.jsx)(II,{className:"w-4 h-4 text-blue-600"}),"After Submission"]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:E.showResults,onChange:e=>k(c(c({},E),{},{showResults:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Show Results Immediately"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:E.showCorrectAnswers,onChange:e=>k(c(c({},E),{},{showCorrectAnswers:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Show Correct Answers"})]}),(0,Uv.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,Uv.jsx)("input",{type:"checkbox",checked:E.allowReview,onChange:e=>k(c(c({},E),{},{allowReview:e.target.checked})),className:"w-4 h-4 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-sm",children:"Allow Review of Answers"})]})]}),(0,Uv.jsxs)("div",{className:"space-y-3 pt-3 border-t",children:[(0,Uv.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[(0,Uv.jsx)(Ky,{className:"w-4 h-4 text-blue-600"}),"Scoring & Attempts"]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-xs font-semibold mb-1",children:"Passing Score (%)"}),(0,Uv.jsx)("input",{type:"number",min:"0",max:"100",value:E.passingScore,onChange:e=>k(c(c({},E),{},{passingScore:parseInt(e.target.value)||60})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-xs font-semibold mb-1",children:"Maximum Attempts"}),(0,Uv.jsx)("input",{type:"number",min:"1",value:E.maxAttempts,onChange:e=>k(c(c({},E),{},{maxAttempts:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,Uv.jsx)(Uy,{className:"w-5 h-5 text-blue-600"}),"Assignment Details"]}),(0,Uv.jsxs)("div",{className:"space-y-4",children:[A?(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Expiration Deadline *"}),(0,Uv.jsx)("input",{type:"datetime-local",value:E.deadline||"",onChange:e=>k(c(c({},E),{},{deadline:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().slice(0,16)}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Assignment expires if not started before this time"})]}):(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Due Date *"}),(0,Uv.jsx)("input",{type:"date",value:E.dueDate,onChange:e=>k(c(c({},E),{},{dueDate:e.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().split("T")[0]}),(0,Uv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Students can take this quiz anytime before 11:59 PM on this date"})]}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Instructions (Optional)"}),(0,Uv.jsx)("textarea",{value:E.instructions,onChange:e=>k(c(c({},E),{},{instructions:e.target.value})),placeholder:"Add any special instructions for this class...",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"})]})]})]}),(0,Uv.jsxs)("div",{className:"border-2 rounded-xl p-6 ".concat("border-blue-200 bg-blue-50"),children:[(0,Uv.jsxs)("h3",{className:"text-lg font-bold mb-2 ".concat("text-blue-800"),children:["Selected: ",m.length," student",1!==m.length?"s":""]}),(0,Uv.jsx)("p",{className:"text-sm text-gray-600",children:0===m.length?"No students selected":"Quiz will be ".concat(null!==b&&void 0!==b&&b.exists?"reassigned":"assigned"," to ").concat(m.length," out of ").concat(h.length," student").concat(1!==h.length?"s":"")}),A&&(0,Uv.jsx)("div",{className:"mt-3 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:(0,Uv.jsx)("p",{className:"text-xs text-yellow-900 font-semibold",children:"After assignment, you'll be redirected to Quiz Control Dashboard"})})]})]}),(0,Uv.jsxs)("div",{className:"lg:col-span-2 border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold",children:"Select Students"}),(0,Uv.jsx)("button",{onClick:()=>{m.length===h.length?p([]):p(h.map(e=>e.id))},className:"text-sm text-blue-600 hover:text-blue-700 font-semibold",children:m.length===h.length?"Deselect All":"Select All"})]}),0===h.length?(0,Uv.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Uv.jsx)(fx,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Uv.jsx)("p",{children:"No students found in this class"})]}):(0,Uv.jsx)("div",{className:"space-y-2 max-h-[1150px] overflow-y-auto",children:h.map(e=>(0,Uv.jsxs)("label",{className:"flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition ".concat(m.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[(0,Uv.jsx)("input",{type:"checkbox",checked:m.includes(e.id),onChange:()=>{return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"w-5 h-5 text-blue-600"}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("div",{className:"font-semibold text-gray-800",children:e.name}),(0,Uv.jsxs)("div",{className:"text-xs text-gray-600",children:["Student #: ",e.studentNo]}),e.program&&(0,Uv.jsxs)("div",{className:"text-xs text-gray-500",children:[e.program," ",e.year&&"- Year ".concat(e.year)]})]}),m.includes(e.id)&&(0,Uv.jsx)(Iy,{className:"w-5 h-5 text-blue-600"})]},e.id))})]})]}),(0,Uv.jsxs)("div",{className:"mt-8 flex justify-end gap-3",children:[(0,Uv.jsx)("button",{onClick:_,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-100",children:"Back"}),(0,Uv.jsx)("button",{onClick:async()=>{if(0===m.length)return void alert("Please select at least one student");const e="synchronous"===E.mode;if(e||E.dueDate)if(!e||E.deadline)if(!e||N)if(null!==b&&void 0!==b&&b.exists)await(async()=>{if(!b||!b.exists)return;const e=b.mode,t=E.mode;let n="This quiz is already assigned to this class.\n\n";if(e!==t&&(n+="\u26a0\ufe0f MODE CHANGE DETECTED:\n",n+="From: ".concat("synchronous"===e?"SYNCHRONOUS (Live)":"ASYNCHRONOUS (Self-Paced)","\n"),n+="To: ".concat("synchronous"===t?"SYNCHRONOUS (Live)":"ASYNCHRONOUS (Self-Paced)","\n\n")),n+="Do you want to REPLACE the existing assignment with the new settings?",window.confirm(n)){x(!0);try{const e=b.assignmentDocs.map(e=>pv(e.ref));await Promise.all(e),await C()}catch(r){console.error("Error reassigning quiz:",r),alert("Error reassigning quiz. Please try again.")}finally{x(!1)}}})();else{x(!0);try{await C()}catch(t){console.error("Error assigning quiz:",t),alert("Error assigning quiz. Please try again.")}finally{x(!1)}}else alert("Please generate a quiz code for synchronous mode");else alert("Please set an expiration deadline for synchronous mode");else alert("Please set a due date for this assignment")},disabled:y||0===m.length||!A&&!E.dueDate||A&&!E.deadline||A&&!N,className:"px-6 py-3 font-semibold rounded-lg flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed ".concat(A?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-700 text-white":"bg-blue-600 hover:bg-blue-400 text-white"),children:y?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),null!==b&&void 0!==b&&b.exists?"Reassigning...":"Assigning..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[A?(0,Uv.jsx)(My,{className:"w-5 h-5"}):(0,Uv.jsx)(Nx,{className:"w-5 h-5"}),null!==b&&void 0!==b&&b.exists?"Reassign Quiz to ".concat(m.length," Student").concat(1!==m.length?"s":""):A?"Assign & Go to Control Dashboard":"Assign Quiz to ".concat(m.length," Student").concat(1!==m.length?"s":"")]})})]})]})]}):null}const A3=Dv("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),O3=Dv("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),I3=Dv("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),P3=Dv("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);function D3(){var e,n;const{quizId:r,classId:a}=ye(),s=ge(),[i,o]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),[d,h]=(0,t.useState)([]),[f,m]=(0,t.useState)({status:"not_started",startedAt:null,endedAt:null,quizCode:null}),[p,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[w,N]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=[];return(async()=>{await S(),e=E()})(),()=>{e.forEach(e=>{"function"===typeof e&&e()})}},[r,a]);const S=async()=>{try{const e=kv.currentUser;if(!e)return alert("Please login first"),void s("/login");const t=cg(jv,"quizzes",r),n=await uv(t);if(!n.exists())return alert("Quiz not found!"),void s("/teacher/quizzes");const i=c({id:n.id},n.data());if(i.teacherId!==e.uid)return alert("\u274c You don't have permission to control this quiz!"),void s("/teacher/quizzes");o(i);const l=cg(jv,"classes",a),d=await uv(l);d.exists()&&u(c({id:d.id},d.data()));const f=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",r),Jg("classId","==",a)),p=await hv(f);if(p.size>0){const e=p.docs[0].data();m({status:e.sessionStatus||"not_started",startedAt:e.sessionStartedAt||null,endedAt:e.sessionEndedAt||null,quizCode:e.quizCode||null})}const g=lg(jv,"users"),v=await hv(g),y=new Map;v.forEach(e=>{const t=e.data();y.set(e.id,t)});const x=[];p.forEach(e=>{const t=e.data(),n=t.studentId,r=y.get(n);x.push({id:n,name:(null===r||void 0===r?void 0:r.name)||t.studentName||"Unknown",studentNo:(null===r||void 0===r?void 0:r.studentNo)||t.studentNo||"N/A",status:t.status||"pending",score:t.score||null,rawScore:t.rawScorePercentage||null,base50Score:t.base50ScorePercentage||null,completed:t.completed||!1,attempts:t.attempts||0,startedAt:t.startedAt||null,submittedAt:t.submittedAt||null})}),x.sort((e,t)=>e.name.localeCompare(t.name)),h(x)}catch(e){console.error("Error fetching quiz data:",e),alert("Error loading quiz data")}finally{g(!1)}},E=()=>{const e=[],t=vv(Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",r),Jg("classId","==",a)),async e=>{try{if(e.size>0){const t=e.docs[0].data();m({status:t.sessionStatus||"not_started",startedAt:t.sessionStartedAt||null,endedAt:t.sessionEndedAt||null,quizCode:t.quizCode||null})}const t=lg(jv,"users"),n=await hv(t),r=new Map;n.forEach(e=>{const t=e.data();r.set(e.id,t)});const a=[];e.forEach(e=>{const t=e.data(),n=t.studentId,s=r.get(n);a.push({id:n,name:(null===s||void 0===s?void 0:s.name)||t.studentName||"Unknown",studentNo:(null===s||void 0===s?void 0:s.studentNo)||t.studentNo||"N/A",status:t.status||"pending",score:t.score||null,rawScore:t.rawScorePercentage||null,base50Score:t.base50ScorePercentage||null,completed:t.completed||!1,attempts:t.attempts||0,startedAt:t.startedAt||null,submittedAt:t.submittedAt||null})}),a.sort((e,t)=>e.name.localeCompare(t.name)),h(a)}catch(t){console.error("Error processing assignments:",t)}},e=>{console.error("Error listening to assignments:",e)});return e.push(t),e};if(p)return(0,Uv.jsx)("div",{className:"p-8",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Uv.jsx)(Ly,{className:"animate-spin h-8 w-8 text-yellow-500"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading Control Panel..."})]})});if(!i||!l)return null;const k=d.filter(e=>"not_started"===e.status||"pending"===e.status).length,j=d.filter(e=>"in_progress"===e.status).length,T=d.filter(e=>e.completed).length,_=d.length,C=(null===(e=i.settings)||void 0===e?void 0:e.passingScore)||60,A=(null===(n=i.questions)||void 0===n?void 0:n.length)||0;return(0,Uv.jsxs)("div",{className:"p-8 font-Outfit",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("button",{onClick:()=>s("/teacher/quizzes"),className:"flex items-center gap-2 text-subtext hover:text-subsubtext",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"}),"Back to Manage Quizzes"]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)(My,{className:"w-5 h-5 text-yellow-500"}),(0,Uv.jsx)("span",{className:"font-semibold text-yellow-500",children:"Live Control Panel"})]})]}),(0,Uv.jsx)("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-400 text-white p-6 rounded-xl mb-6",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h2",{className:"text-2xl font-bold",children:i.title}),(0,Uv.jsxs)("p",{className:"text-white text-sm mt-1",children:["Class: ",l.name," \u2022 ",A," questions"]})]}),(0,Uv.jsx)("div",{className:"text-right",children:(0,Uv.jsx)("div",{className:"px-4 py-2 rounded-lg font-bold text-lg ".concat("active"===f.status?"bg-green-100 text-green-900":"ended"===f.status?"bg-red-100 text-red-900":"bg-gray-300 text-gray-700"),children:"active"===f.status?"\ud83d\udfe2 LIVE":"ended"===f.status?"\ud83d\uded1 ENDED":"\u26aa NOT STARTED"})})]})}),f.quizCode&&(0,Uv.jsx)("div",{className:"mb-6 bg-purple-50 border-2 border-purple-300 rounded-xl p-6",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Live Quiz Code"}),(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)("div",{className:"bg-white border-2 border-purple-500 rounded-lg px-6 py-3",children:(0,Uv.jsx)("span",{className:"text-3xl font-bold text-purple-700 tracking-wider",children:f.quizCode})}),(0,Uv.jsx)("button",{onClick:()=>{f.quizCode&&(navigator.clipboard.writeText(f.quizCode),b(!0),setTimeout(()=>b(!1),2e3))},className:"flex items-center gap-2 px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg transition",children:x?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(A3,{className:"w-5 h-5"}),"Copied!"]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(OI,{className:"w-5 h-5"}),"Copy Code"]})})]})]}),(0,Uv.jsxs)("div",{className:"text-right",children:[(0,Uv.jsx)("p",{className:"text-sm text-purple-700",children:"Share this code with students"}),(0,Uv.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"They'll need it to access the live quiz"})]})]})}),(0,Uv.jsxs)("div",{className:"mb-6 space-y-3",children:["not_started"===f.status&&(0,Uv.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to START this live quiz? Students will be able to access it.")){y(!0);try{const e=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",r),Jg("classId","==",a)),t=(await hv(e)).docs.map(e=>mv(cg(jv,"assignedQuizzes",e.id),{sessionStatus:"active",sessionStartedAt:new Date,sessionEndedAt:null}));await Promise.all(t),alert("\u2705 Quiz started! Students can now access the quiz.")}catch(e){console.error("Error starting quiz:",e),alert("\u274c Error starting quiz. Please try again.")}finally{y(!1)}}},disabled:v,className:"w-full bg-green-600 hover:bg-green-700 text-white p-4 rounded-xl font-extrabold text-xl shadow-lg flex items-center justify-center gap-3 disabled:bg-gray-400 transition transform hover:scale-[1.01]",children:v?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ex,{className:"w-6 h-6 animate-spin"}),"STARTING LIVE QUIZ..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(O3,{className:"w-6 h-6"}),"START LIVE QUIZ"]})}),"active"===f.status&&(0,Uv.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to END this quiz? This action cannot be undone. Students will no longer be able to submit.")){y(!0);try{const e=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",r),Jg("classId","==",a)),t=(await hv(e)).docs.map(e=>mv(cg(jv,"assignedQuizzes",e.id),{sessionStatus:"ended",sessionEndedAt:new Date}));await Promise.all(t),alert("\ud83d\uded1 Quiz ended. Students can no longer submit.")}catch(e){console.error("Error ending quiz:",e),alert("\u274c Error ending quiz. Please try again.")}finally{y(!1)}}},disabled:v,className:"w-full bg-red-600 hover:bg-red-700 text-white p-4 rounded-xl font-bold text-xl flex items-center justify-center gap-3 disabled:bg-gray-400 transition transform hover:scale-[1.01]",children:v?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ex,{className:"w-5 h-5 animate-spin"}),"Ending..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(I3,{className:"w-5 h-5"}),"END QUIZ"]})}),"ended"===f.status&&(0,Uv.jsxs)("div",{className:"space-y-3",children:[(0,Uv.jsxs)("div",{className:"w-full bg-gray-100 border-2 border-gray-300 text-gray-700 p-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3",children:[(0,Uv.jsx)(Py,{className:"w-6 h-6"}),"Quiz Session Has Ended"]}),(0,Uv.jsx)("button",{onClick:async()=>{if(window.confirm("\u26a0\ufe0f RESTART QUIZ SESSION?\n\nThis will:\n\u2022 Reset the session to 'Not Started' status\n\u2022 Clear all student scores and progress\n\u2022 Allow students to retake the quiz\n\nAre you sure you want to continue?")){y(!0);try{const e=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",r),Jg("classId","==",a)),t=(await hv(e)).docs.map(e=>mv(cg(jv,"assignedQuizzes",e.id),{sessionStatus:"not_started",sessionStartedAt:null,sessionEndedAt:null,status:"not_started",completed:!1,score:null,rawScorePercentage:null,base50ScorePercentage:null,attempts:0,startedAt:null,submittedAt:null,answers:null}));await Promise.all(t),alert("\u2705 Quiz session restarted successfully! Students can now retake the quiz.")}catch(e){console.error("Error restarting quiz:",e),alert("\u274c Error restarting quiz. Please try again.")}finally{y(!1)}}},disabled:v,className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-xl font-bold text-xl flex items-center justify-center gap-3 disabled:bg-gray-400 transition transform hover:scale-[1.01]",children:v?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ex,{className:"w-5 h-5 animate-spin"}),"Restarting..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(N3,{className:"w-5 h-5"}),"RESTART QUIZ SESSION"]})})]})]}),(0,Uv.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[(0,Uv.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 p-4 rounded-xl",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsx)(fx,{className:"w-8 h-8 text-blue-600"}),(0,Uv.jsxs)("div",{className:"text-right",children:[(0,Uv.jsx)("div",{className:"text-3xl font-bold text-blue-900",children:_}),(0,Uv.jsx)("div",{className:"text-sm text-blue-700 font-semibold",children:"Total Assigned"})]})]})}),(0,Uv.jsx)("div",{className:"bg-gray-50 border-2 border-gray-200 p-4 rounded-xl",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsx)(Dy,{className:"w-8 h-8 text-gray-600"}),(0,Uv.jsxs)("div",{className:"text-right",children:[(0,Uv.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:k}),(0,Uv.jsx)("div",{className:"text-sm text-gray-700 font-semibold",children:"Not Started"})]})]})}),(0,Uv.jsx)("div",{className:"bg-yellow-50 border-2 border-yellow-200 p-4 rounded-xl",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsx)(Ex,{className:"w-8 h-8 text-yellow-600"}),(0,Uv.jsxs)("div",{className:"text-right",children:[(0,Uv.jsx)("div",{className:"text-3xl font-bold text-yellow-900",children:j}),(0,Uv.jsx)("div",{className:"text-sm text-yellow-700 font-semibold",children:"In Progress"})]})]})}),(0,Uv.jsx)("div",{className:"bg-green-50 border-2 border-green-200 p-4 rounded-xl",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsx)(Iy,{className:"w-8 h-8 text-green-600"}),(0,Uv.jsxs)("div",{className:"text-right",children:[(0,Uv.jsx)("div",{className:"text-3xl font-bold text-green-900",children:T}),(0,Uv.jsx)("div",{className:"text-sm text-green-700 font-semibold",children:"Completed"})]})]})})]}),(0,Uv.jsxs)("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[(0,Uv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Uv.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2",children:[(0,Uv.jsx)(II,{className:"w-6 h-6 text-purple-600"}),"Live Student Monitoring"]}),(0,Uv.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Uv.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[(0,Uv.jsx)(y3,{className:"w-4 h-4"}),"Passing Score: ",C,"%"]}),(0,Uv.jsx)("button",{onClick:()=>{N(!0);try{var e,t,n,r;const a=(null===(e=i.questions)||void 0===e?void 0:e.length)||0,s=(null===(t=i.settings)||void 0===t?void 0:t.passingScore)||60,o=e=>{if(!e)return"";const t=Math.floor(e/60),n=e%60;return"".concat(t,"m ").concat(n,"s")},c=e=>e.completed?"Completed":"in_progress"===e.status?"In Progress":"not_started"===e.status||"pending"===e.status?"Not Started":"expired"===e.status?"Expired":e.status,u=d.filter(e=>null!==e.base50Score&&e.base50Score>=s).length,h=d.filter(e=>null!==e.base50Score&&e.base50Score<s).length,m=[["Quiz Title",i.title],["Class",l.name],["Total Questions",a],["Passing Score","".concat(s,"%")],["Quiz Code",f.quizCode||"N/A"],["Session Status","active"===f.status?"LIVE":"ended"===f.status?"ENDED":"NOT STARTED"],[""],["STATISTICS",""],["Total Students",d.length],["Not Started",d.filter(e=>"not_started"===e.status||"pending"===e.status).length],["In Progress",d.filter(e=>"in_progress"===e.status).length],["Completed",d.filter(e=>e.completed).length],["Passed",u],["Failed",h],[""],["Session Started",null!==(n=f.startedAt)&&void 0!==n&&n.seconds?new Date(1e3*f.startedAt.seconds).toLocaleString("en-PH",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A"],["Session Ended",null!==(r=f.endedAt)&&void 0!==r&&r.seconds?new Date(1e3*f.endedAt.seconds).toLocaleString("en-PH",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A"],["Exported On",(new Date).toLocaleString("en-PH",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]],p=d.map(e=>{var t,n,r;const i=null!==(t=e.submittedAt)&&void 0!==t&&t.seconds&&null!==(n=e.startedAt)&&void 0!==n&&n.seconds?e.submittedAt.seconds-e.startedAt.seconds:null,l=e.name.split(" "),u=l[0]||"";return[l.slice(1).join(" ")||"",u,e.studentNo,c(e),null!==e.score&&void 0!==e.score?"".concat(e.score,"/").concat(a):"",null!==e.rawScore?e.rawScore:"",null!==e.base50Score?e.base50Score:"",null!==e.base50Score?e.base50Score>=s?"PASSED":"FAILED":"",i?o(i):"",null!==(r=e.submittedAt)&&void 0!==r&&r.seconds?new Date(1e3*e.submittedAt.seconds).toLocaleString("en-PH",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):""]}),g=EI.book_new(),v=EI.aoa_to_sheet(m);v["!cols"]=[{wch:20},{wch:40}],EI.book_append_sheet(g,v,"Summary");const y=EI.aoa_to_sheet([["Last Name","First Name","Student Number","Status","Score","Raw Score (%)","Base-50 Grade (%)","Result","Time Taken","Submitted At"],...p]);y["!cols"]=[{wch:20},{wch:20},{wch:15},{wch:15},{wch:10},{wch:15},{wch:18},{wch:10},{wch:12},{wch:22}],EI.book_append_sheet(g,y,"Student Results");hI(g,"".concat(i.title,"_").concat(l.name,"_Results_").concat((new Date).toISOString().split("T")[0],".xlsx")),alert("\u2705 Excel file downloaded successfully!")}catch(a){console.error("Error exporting to Excel:",a),alert("\u274c Error exporting to Excel. Please try again.")}finally{N(!1)}},disabled:w||0===d.length,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:w?(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(Ly,{className:"w-5 h-5 animate-spin"}),"Exporting..."]}):(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)(P3,{className:"w-5 h-5"}),"Export to Excel"]})})]})]}),0===d.length?(0,Uv.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Uv.jsx)(fx,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Uv.jsx)("p",{className:"text-lg",children:"No students assigned to this quiz"})]}):(0,Uv.jsx)("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:(0,Uv.jsxs)("table",{className:"w-full min-w-[900px]",children:[(0,Uv.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-6 py-4 text-left font-bold",children:"Student Name"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left font-bold",children:"Student #"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Live Status"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Score"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Raw Score"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Base-50 Grade"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Time Taken"})]})}),(0,Uv.jsx)("tbody",{children:d.map((e,t)=>{var n,r;const{text:a,className:s,Icon:i}=(e=>{switch(e){case"in_progress":return{text:"In Progress",className:"bg-yellow-100 text-yellow-800",Icon:Ex};case"completed":return{text:"Completed",className:"bg-green-100 text-green-800",Icon:Iy};case"not_started":case"pending":return{text:"Not Started",className:"bg-gray-100 text-gray-800",Icon:Dy};case"expired":return{text:"Expired",className:"bg-red-100 text-red-800",Icon:bx};default:return{text:e,className:"bg-gray-100 text-gray-800",Icon:Dy}}})(e.completed?"completed":e.status),o=null!==(n=e.submittedAt)&&void 0!==n&&n.seconds&&null!==(r=e.startedAt)&&void 0!==r&&r.seconds?e.submittedAt.seconds-e.startedAt.seconds:null;return(0,Uv.jsxs)("tr",{className:"border-b transition ".concat(t%2===0?"bg-white":"bg-gray-50"," hover:bg-blue-50"),children:[(0,Uv.jsx)("td",{className:"px-6 py-4 font-semibold text-gray-800",children:e.name}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.studentNo}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:(0,Uv.jsxs)("span",{className:"px-3 py-1 ".concat(s," rounded-full text-xs font-bold inline-flex items-center gap-1"),children:[(0,Uv.jsx)(i,{className:"w-4 h-4"}),a]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:null!==e.score&&void 0!==e.score?(0,Uv.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Uv.jsx)(ox,{className:"w-4 h-4 text-purple-600"}),(0,Uv.jsxs)("span",{className:"font-bold text-lg text-gray-800",children:[e.score,"/",A]})]}):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:null!==e.rawScore?(0,Uv.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:[e.rawScore,"%"]}):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:null!==e.base50Score?(0,Uv.jsxs)("span",{className:"font-bold text-lg ".concat(e.base50Score>=C?"text-green-600":"text-red-600"),children:[e.base50Score,"%"]}):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:null!==o?(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,"m ").concat(n,"s")})(o):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})})]},e.id)})})]})})]}),"not_started"!==f.status&&(0,Uv.jsxs)("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[f.startedAt&&(0,Uv.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4",children:[(0,Uv.jsx)("p",{className:"text-sm font-semibold text-green-700 mb-1",children:"Session Started"}),(0,Uv.jsx)("p",{className:"text-lg font-bold text-green-900",children:new Date(1e3*f.startedAt.seconds).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"})})]}),f.endedAt&&(0,Uv.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:[(0,Uv.jsx)("p",{className:"text-sm font-semibold text-red-700 mb-1",children:"Session Ended"}),(0,Uv.jsx)("p",{className:"text-lg font-bold text-red-900",children:new Date(1e3*f.endedAt.seconds).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"})})]})]}),"not_started"===f.status&&(0,Uv.jsx)("div",{className:"mt-6 bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uv.jsx)(Py,{className:"w-6 h-6 text-blue-600 mt-0.5"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h4",{className:"font-bold text-blue-900 mb-2",children:"Live Quiz Instructions:"}),(0,Uv.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 ml-4 list-disc",children:[(0,Uv.jsx)("li",{children:'Click the "START LIVE QUIZ" button to begin the quiz session'}),(0,Uv.jsx)("li",{children:"Students can only access the quiz when status is LIVE"}),(0,Uv.jsx)("li",{children:"Share the Quiz Code with students so they can join"}),(0,Uv.jsx)("li",{children:'Click "END QUIZ" to finish the session and prevent further submissions'}),(0,Uv.jsx)("li",{children:"Monitor student progress in real-time from this dashboard"}),(0,Uv.jsx)("li",{children:"Scores shown are: Score (correct/total), Raw Score (actual %), and Base-50 Grade (transmuted)"}),(0,Uv.jsx)("li",{children:'Use "RESTART QUIZ SESSION" after ending to allow students to retake'}),(0,Uv.jsx)("li",{children:"Export results to Excel for detailed analysis and record-keeping"})]})]})]})}),"ended"===f.status&&(0,Uv.jsx)("div",{className:"mt-6 bg-orange-50 border-2 border-orange-200 rounded-xl p-6",children:(0,Uv.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Uv.jsx)(N3,{className:"w-6 h-6 text-orange-600 mt-0.5"}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h4",{className:"font-bold text-orange-900 mb-2",children:"Restart Quiz Information:"}),(0,Uv.jsxs)("ul",{className:"text-sm text-orange-800 space-y-1 ml-4 list-disc",children:[(0,Uv.jsx)("li",{children:"Restarting will clear all student scores and progress"}),(0,Uv.jsx)("li",{children:'The session will return to "Not Started" status'}),(0,Uv.jsx)("li",{children:"Students will be able to retake the quiz from scratch"}),(0,Uv.jsx)("li",{children:"The same Quiz Code will be used for the new session"}),(0,Uv.jsx)("li",{children:"Previous attempts and scores will be permanently deleted"}),(0,Uv.jsx)("li",{children:"Make sure to export results to Excel before restarting if you need to keep records"})]})]})]})})]})}function R3(){var e,n,r;const a=ge(),{quizId:s,classId:i}=ye(),[o,l]=(0,t.useState)(null),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[y,x]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[N,S]=(0,t.useState)(null);(0,t.useEffect)(()=>{E()},[s,i]);const E=async()=>{p(!0),S(null);try{console.log("\ud83d\udd0d Fetching data..."),console.log("  - quizId:",s),console.log("  - classId:",i);const e=await uv(cg(jv,"quizzes",s));if(!e.exists())return console.error("\u274c Quiz not found"),void S("Quiz not found");const t=c({id:e.id},e.data());l(t),console.log("\u2705 Quiz loaded:",t.title);const n=Xg(lg(jv,"users"),Jg("classIds","array-contains",i),Jg("role","==","student")),r=await hv(n),a=[];r.forEach(e=>{var t,n;const r=e.data();a.push({id:r.authUID||e.id,docId:e.id,firstName:(null===(t=r.name)||void 0===t?void 0:t.split(" ")[0])||"",lastName:(null===(n=r.name)||void 0===n?void 0:n.split(" ").slice(1).join(" "))||"",email:r.emailAddress||"",name:r.name||"Unknown"})}),console.log("\u2705 Found ".concat(a.length," students in class")),console.log("\ud83d\udccb All student IDs:",a.map(e=>"".concat(e.name," = ").concat(e.id))),d(a);const o=Xg(lg(jv,"assignedQuizzes"),Jg("quizId","==",s),Jg("classId","==",i),Jg("quizMode","==","asynchronous")),u=await hv(o);console.log("\ud83d\udccb Found ".concat(u.size," async assignments for this quiz+class"));const h=[],m=new Map;if(u.forEach(e=>{const t=e.data();h.push(e.id),m.set(t.studentId,e.id)}),0===h.length)return console.log("\u26a0\ufe0f No async assignments found for this quiz-class combination"),void f([]);const p=[],g=10;for(let s=0;s<h.length;s+=g){const e=h.slice(s,s+g),n=Xg(lg(jv,"quizSubmissions"),Jg("assignmentId","in",e),Jg("quizMode","==","asynchronous")),r=await hv(n);console.log("\ud83d\udcca Found ".concat(r.size," submissions for assignment batch ").concat(s/g+1)),r.forEach(e=>{const n=e.data(),r=a.find(e=>e.id===n.studentId);console.log("  \u2705 Submission from: ".concat(n.studentName," (").concat(n.studentId,")")),console.log("     \ud83d\udd0d Student found in class list?",r?"YES - ".concat(r.name):"\u274c NO MATCH!"),console.log("     Assignment: ".concat(n.assignmentId)),console.log("     Score: ".concat(n.correctPoints,"/").concat(n.totalPoints)),console.log("     Base-50: ".concat(n.base50ScorePercentage,"%")),p.push({id:e.id,studentId:n.studentId,studentName:n.studentName||(null===r||void 0===r?void 0:r.name)||"Unknown",correctPoints:n.correctPoints||0,totalPoints:n.totalPoints||t.totalPoints||0,rawScorePercentage:n.rawScorePercentage||0,base50ScorePercentage:n.base50ScorePercentage||0,submittedAt:n.submittedAt,answers:n.answers||{}})})}console.log("\u2705 Total: ".concat(p.length," asynchronous submissions for this quiz-class combination")),f(p)}catch(G5){console.error("\u274c Error fetching data:",G5),S("Error loading results. Please try again.")}finally{p(!1)}},k=e=>h.find(t=>t.studentId===e);if(m)return(0,Uv.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,Uv.jsx)(Ly,{className:"w-8 h-8 animate-spin text-blue-600"}),(0,Uv.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading results..."})]});if(N)return(0,Uv.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Uv.jsxs)("div",{className:"text-center",children:[(0,Uv.jsx)(Py,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,Uv.jsx)("p",{className:"text-gray-600",children:N}),(0,Uv.jsx)("button",{onClick:()=>a(-1),className:"mt-4 text-blue-600 hover:text-blue-800 font-semibold",children:"Go Back"})]})});const j=0===h.length?{completed:0,notStarted:0}:{completed:h.length,notStarted:u.length-h.length};return(0,Uv.jsxs)("div",{className:"p-8 font-Outfit max-w-7xl mx-auto",children:[(0,Uv.jsxs)("div",{className:"mb-8",children:[(0,Uv.jsxs)("button",{onClick:()=>a(-1),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 mb-4 font-semibold",children:[(0,Uv.jsx)(wx,{className:"w-5 h-5"})," Back"]}),(0,Uv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quiz Results (Asynchronous)"}),(0,Uv.jsxs)("p",{className:"text-gray-600",children:[null===o||void 0===o?void 0:o.title," \u2022 ",(null===o||void 0===o?void 0:o.totalPoints)||0," points"]})]}),(0,Uv.jsxs)("button",{onClick:()=>{const e=u.map(e=>{const t=k(e.id);return{"Last Name":e.lastName||"","First Name":e.firstName||"",Email:e.email||"",Status:t?"Completed":"Pending",Score:t?"".concat(t.correctPoints,"/").concat(t.totalPoints):"\u2014","Raw Score (%)":t?t.rawScorePercentage.toFixed(2):"\u2014","Base-50 Grade (%)":t?t.base50ScorePercentage.toFixed(2):"\u2014","Submitted At":null!==t&&void 0!==t&&t.submittedAt?new Date(1e3*t.submittedAt.seconds).toLocaleString():"\u2014"}}),t=EI.json_to_sheet(e);t["!cols"]=[{wch:15},{wch:15},{wch:25},{wch:12},{wch:10},{wch:15},{wch:18},{wch:20}];const n=EI.book_new();EI.book_append_sheet(n,t,"Quiz Results");const r=(null===o||void 0===o?void 0:o.title)||"Quiz",a=(new Date).toISOString().split("T")[0];hI(n,"".concat(r,"_Results_").concat(a,".xlsx"))},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition shadow-md hover:shadow-lg",children:[(0,Uv.jsx)(P3,{className:"w-5 h-5"}),"Download Excel"]})]})]}),(0,Uv.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,Uv.jsxs)("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(fx,{className:"w-6 h-6 text-blue-600"}),(0,Uv.jsx)("span",{className:"text-gray-600 text-sm font-semibold",children:"Total Assigned"})]}),(0,Uv.jsx)("p",{className:"text-3xl font-bold text-blue-700",children:u.length})]}),(0,Uv.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(Dy,{className:"w-6 h-6 text-gray-600"}),(0,Uv.jsx)("span",{className:"text-gray-600 text-sm font-semibold",children:"Not Started"})]}),(0,Uv.jsx)("p",{className:"text-3xl font-bold text-gray-700",children:j.notStarted})]}),(0,Uv.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-6 border border-yellow-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(Py,{className:"w-6 h-6 text-yellow-600"}),(0,Uv.jsx)("span",{className:"text-gray-600 text-sm font-semibold",children:"In Progress"})]}),(0,Uv.jsx)("p",{className:"text-3xl font-bold text-yellow-700",children:"0"})]}),(0,Uv.jsxs)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Uv.jsx)(Iy,{className:"w-6 h-6 text-green-600"}),(0,Uv.jsx)("span",{className:"text-gray-600 text-sm font-semibold",children:"Completed"})]}),(0,Uv.jsx)("p",{className:"text-3xl font-bold text-green-700",children:j.completed})]})]}),(0,Uv.jsx)("div",{className:"bg-white rounded-xl border-2 border-gray-200 overflow-hidden",children:(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"px-6 py-4 text-left font-bold",children:"Student"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-left font-bold",children:"Email"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Score"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Raw Score"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Base-50 Grade"}),(0,Uv.jsx)("th",{className:"px-6 py-4 text-center font-bold",children:"Status"})]})}),(0,Uv.jsx)("tbody",{children:0===u.length?(0,Uv.jsx)("tr",{children:(0,Uv.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"No students in this class"})}):u.map((e,t)=>{const n=k(e.id),r=!!n;return(0,Uv.jsxs)("tr",{className:"border-b transition ".concat(r?"cursor-pointer":""," ").concat(t%2===0?"bg-white":"bg-gray-50"," ").concat(r?"hover:bg-blue-50":""),onClick:()=>r&&(e=>{const t=k(e);t?(x(t),v(e),w(!0)):alert("No submission found for this student")})(e.id),children:[(0,Uv.jsx)("td",{className:"px-6 py-4",children:(0,Uv.jsxs)("p",{className:"font-semibold text-gray-800",children:[e.firstName," ",e.lastName]})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-gray-600",children:e.email}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:r?(0,Uv.jsxs)("span",{className:"font-bold text-lg text-gray-800",children:[n.correctPoints,"/",n.totalPoints]}):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:r?(0,Uv.jsxs)("span",{className:"font-bold text-lg text-blue-600",children:[n.rawScorePercentage.toFixed(0),"%"]}):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:r?(0,Uv.jsxs)("span",{className:"font-bold text-lg text-green-600",children:[n.base50ScorePercentage.toFixed(0),"%"]}):(0,Uv.jsx)("span",{className:"text-gray-400",children:"\u2014"})}),(0,Uv.jsx)("td",{className:"px-6 py-4 text-center",children:r?(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800",children:"Completed"}):(0,Uv.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-yellow-100 text-yellow-800",children:"Pending"})})]},e.id)})})]})})}),b&&y&&(0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Uv.jsx)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-700 text-white p-6 border-b",children:(0,Uv.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold",children:(null===(e=u.find(e=>e.id===g))||void 0===e?void 0:e.name)||"Student"}),(0,Uv.jsxs)("p",{className:"text-blue-100 mt-1",children:["Score: ",y.correctPoints,"/",y.totalPoints]}),(0,Uv.jsxs)("p",{className:"text-blue-100",children:["Raw Score: ",null===(n=y.rawScorePercentage)||void 0===n?void 0:n.toFixed(0),"%"]}),(0,Uv.jsxs)("p",{className:"text-blue-100",children:["Base-50 Grade: ",null===(r=y.base50ScorePercentage)||void 0===r?void 0:r.toFixed(0),"%"]})]}),(0,Uv.jsx)("button",{onClick:()=>w(!1),className:"text-white hover:bg-blue-800 rounded-lg p-2 transition",children:"\u2715"})]})}),(0,Uv.jsx)("div",{className:"p-6",children:y.answers&&Object.keys(y.answers).length>0?(0,Uv.jsx)("div",{className:"space-y-4",children:Object.entries(y.answers).map(e=>{var t;let[n,r]=e;const a=null===o||void 0===o||null===(t=o.questions)||void 0===t?void 0:t[parseInt(n)];if(!a)return console.warn("Question not found at index ".concat(n)),null;let s=!1,i="";if("multiple_choice"===a.type){var l;const e=null===(l=a.choices)||void 0===l?void 0:l.find(e=>e.is_correct);i=(null===e||void 0===e?void 0:e.text)||"",s=r===i}else if("true_false"===a.type){var c;i=a.correct_answer,s=(null===r||void 0===r?void 0:r.toLowerCase())===(null===(c=i)||void 0===c?void 0:c.toLowerCase())}else if("identification"===a.type){var u;i=a.correct_answer,s=(null===r||void 0===r?void 0:r.toLowerCase().trim())===(null===(u=i)||void 0===u?void 0:u.toLowerCase().trim())}return(0,Uv.jsxs)("div",{className:"border-2 rounded-lg p-4 ".concat(s?"bg-green-50 border-green-300":"bg-red-50 border-red-300"),children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-3 mb-2",children:[(0,Uv.jsxs)("span",{className:"font-bold text-lg text-gray-700",children:[parseInt(n)+1,"."]}),(0,Uv.jsxs)("div",{className:"flex-1",children:[(0,Uv.jsx)("p",{className:"font-semibold text-gray-800",children:a.question}),(0,Uv.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Points: ",a.points||1]})]}),s?(0,Uv.jsx)(Iy,{className:"w-6 h-6 text-green-600 flex-shrink-0"}):(0,Uv.jsx)(Py,{className:"w-6 h-6 text-red-600 flex-shrink-0"})]}),(0,Uv.jsxs)("div",{className:"ml-10 mt-3 space-y-2",children:[(0,Uv.jsxs)("p",{className:"text-sm",children:[(0,Uv.jsxs)("span",{className:"font-semibold text-gray-700",children:["Student's Answer:"," "]}),(0,Uv.jsx)("span",{className:"".concat(s?"text-green-700 font-bold":"text-red-700 font-bold"),children:r||"No answer"})]}),!s&&(0,Uv.jsxs)("p",{className:"text-sm",children:[(0,Uv.jsxs)("span",{className:"font-semibold text-gray-700",children:["Correct Answer:"," "]}),(0,Uv.jsx)("span",{className:"text-green-700 font-bold",children:i})]})]})]},n)})}):(0,Uv.jsx)("p",{className:"text-center text-gray-500",children:"No answers recorded"})})]})})]})}const M3=Dv("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),L3=Dv("notebook-tabs",[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M15 2v20",key:"dcj49h"}],["path",{d:"M15 7h5",key:"1xj5lc"}],["path",{d:"M15 12h5",key:"w5shd9"}],["path",{d:"M15 17h5",key:"1qaofu"}]]);function z3(e){let{user:n,userDoc:r}=e;const[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(()=>"true"===localStorage.getItem("studentSidebarCollapsed")),[l,c]=(0,t.useState)(!1),u=ge(),d=fe();(0,t.useEffect)(()=>{localStorage.setItem("studentSidebarCollapsed",i.toString()),document.documentElement.style.setProperty("--sidebar-width",i?"80px":"288px")},[i]);const h=[{to:"/admin/dashboard",icon:Gy,label:"Dashboard"},{to:"/admin/teachers",icon:M3,label:"Manage Teachers"},{to:"/admin/students",icon:L3,label:"Manage Students"},{to:"/admin/analytics",icon:Vy,label:"Analytics"}],f=e=>"/admin/dashboard"===e?"/admin/dashboard"===d.pathname:d.pathname.includes(e);return(0,Uv.jsxs)(Uv.Fragment,{children:[(0,Uv.jsx)("button",{onClick:()=>s(!a),className:"fixed top-6 right-6 z-50 bg-components text-black p-3 rounded-full shadow-md hover:bg-gray-50 transition-all lg:hidden border border-gray-100 hover:scale-105","aria-label":"Toggle menu",children:a?(0,Uv.jsx)(Mv,{size:22}):(0,Uv.jsx)(Rv,{size:22})}),(0,Uv.jsxs)("div",{className:"fixed top-0 left-0 h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 shadow-2xl transition-all duration-300 ease-in-out z-40\n        ".concat(a?"translate-x-0":"-translate-x-full"," \n        lg:translate-x-0\n        ").concat(i?"lg:w-20":"lg:w-72","\n        w-72"),children:[(0,Uv.jsxs)("div",{className:"relative bg-gradient-to-r from-blue-400/50 to-blue-800/50 backdrop-blur-sm font-Outfit cursor-default",children:[(0,Uv.jsx)("div",{className:"flex items-center ".concat(i?"justify-center py-6 ml-4":"px-10 py-6 gap-3"," transition-all duration-300"),children:(0,Uv.jsxs)("div",{className:"flex items-center gap-4 transform hover:scale-105 transition-transform duration-300",children:[(0,Uv.jsx)("img",{src:Lv,alt:"Logo",className:"transition-all duration-300 ".concat(i?"w-10 h-10":"w-12 h-12")}),(0,Uv.jsxs)("div",{className:"flex flex-col text-white overflow-hidden transition-all duration-300 ".concat(i?"opacity-0 max-w-0":"opacity-100 max-w-xs"),children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold leading-tight",children:"iQuizU"}),(0,Uv.jsx)("p",{className:"text-sm -mt-1",children:"Admin"})]})]})}),(0,Uv.jsx)("button",{onClick:()=>o(!i),className:"hidden lg:flex absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full items-center justify-center shadow-md hover:bg-blue-50 transition-all hover:scale-110 border-2 border-blue-600","aria-label":"Toggle sidebar",children:i?(0,Uv.jsx)(cx,{size:14,className:"text-blue-600"}):(0,Uv.jsx)(Cy,{size:14,className:"text-blue-600"})})]}),(0,Uv.jsxs)("nav",{className:"flex flex-col px-4 py-6 space-y-3 overflow-y-auto h-[calc(100vh-200px)] transition-all duration-300 ".concat(i?"px-2":"px-6"),children:[(0,Uv.jsx)("div",{className:"flex flex-col space-y-3",children:h.map(e=>(0,Uv.jsxs)(wt,{to:e.to,onClick:()=>{s(!1),f(e.to)&&window.dispatchEvent(new Event("refreshPage"))},title:i?e.label:"",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group\n                    ".concat(i?"justify-center py-3 hover:bg-white/10":"gap-4 px-3 py-3 hover:bg-white/10","\n                    ").concat(f(e.to)?"bg-white/20 shadow-lg":""),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 to-white/10 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300 ".concat(f(e.to)?"scale-110":""),children:(0,Uv.jsx)(e.icon,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(i?"opacity-0 max-w-0 overflow-hidden":"opacity-100 max-w-xs"),children:e.label})]},e.to))}),(0,Uv.jsx)("div",{className:"pt-4 pb-2",children:(0,Uv.jsx)("div",{className:"border-t border-white/20 rounded-full"})}),(0,Uv.jsxs)("button",{onClick:()=>{s(!1),c(!0)},title:i?"Logout":"",className:"flex items-center relative overflow-hidden rounded-xl text-white transition-all duration-300 group w-full\n              ".concat(i?"justify-center py-3 hover:bg-red-500/30":"gap-4 px-3 py-3.5 hover:bg-red-500/30"),children:[(0,Uv.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/0 to-red-500/20 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-300"}),(0,Uv.jsx)("div",{className:"relative flex items-center justify-center w-10 h-10 group-hover:scale-110 transition-transform duration-300",children:(0,Uv.jsx)(Yy,{size:22,className:"text-white"})}),(0,Uv.jsx)("span",{className:"relative font-Outfit font-medium text-base transition-all duration-300 whitespace-nowrap ".concat(i?"opacity-0 max-w-0 overflow-hidden":"opacity-100 max-w-xs"),children:"Logout"})]})]})]}),a&&(0,Uv.jsx)("div",{onClick:()=>s(!1),className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-30 lg:hidden transition-opacity"}),l&&(0,Uv.jsx)("div",{className:"font-Outfit fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 transform animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Uv.jsx)("div",{className:"bg-red-100 p-4 rounded-full items-center justify-center flex",children:(0,Uv.jsx)(Yy,{className:"text-red-500",size:24})}),(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold text-title",children:"Confirm Logout"}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Are you sure you want to log out?"})]})]}),(0,Uv.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,Uv.jsx)("button",{onClick:()=>c(!1),className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 active:scale-95 hover:scale-105 duration-200 transition font-semibold",children:"Cancel"}),(0,Uv.jsx)("button",{onClick:async()=>{try{await Qs(kv),u("/")}catch(e){console.error("Error logging out:",e),alert("Failed to logout. Please try again.")}},className:"flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 active:scale-95 hover:scale-105 duration-200 transition font-semibold",children:"Log Out"})]})]})})]})}function F3(){const[e,n]=(0,t.useState)("288px"),r=fe();(0,t.useEffect)(()=>{const e=new MutationObserver(()=>{const e=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();e&&n(e)});e.observe(document.documentElement,{attributes:!0,attributeFilter:["style"]});const t=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();return t&&n(t),()=>e.disconnect()},[]);const a="/admin/dashboard"===r.pathname;return(0,Uv.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,Uv.jsx)(z3,{}),(0,Uv.jsx)("div",{className:"flex-1 overflow-y-auto transition-all duration-300",style:{marginLeft:window.innerWidth>=1024?e:"0"},children:(0,Uv.jsx)("div",{className:"py-6 px-2 md:p-8 font-Outfit",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit animate-fadeIn",children:a?(0,Uv.jsxs)("div",{className:"px-2 py-6 md:p-8 animate-fadeIn",children:[(0,Uv.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-title",children:"Welcome, Admin!"}),(0,Uv.jsx)("p",{className:"text-md md:text-xl text-subtext",children:"Manage teachers, students, and view reports in analytics."}),(0,Uv.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg mt-6 animate-slideIn",children:[(0,Uv.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[(0,Uv.jsx)(Py,{className:"text-yellow-500"}),(0,Uv.jsx)("h2",{className:"text-2xl font-semibold text-title",children:"Admin Notes"})]}),(0,Uv.jsx)("p",{className:"text-gray-600",children:"This is your admin control panel. From here, you can create and manage teacher accounts, manage student accounts, and monitor system's analytics."})]})]}):(0,Uv.jsx)(Me,{})})})})]})}const U3=Dv("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),q3=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[g,v]=(0,t.useState)(""),[y,x]=(0,t.useState)(""),[b,w]=(0,t.useState)(!1),N=async()=>{try{const e=Xg(lg(jv,"users"),Jg("role","==","teacher")),t=(await hv(e)).docs.map(e=>c({id:e.id},e.data()));n(t),a(!1)}catch(e){console.error("Error fetching teachers:",e),a(!1)}};(0,t.useEffect)(()=>{N()},[]),(0,t.useEffect)(()=>{l(!0)});const S=e.filter(e=>{var t;return null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase())});return(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[o&&b&&(0,ix.createPortal)((0,Uv.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn font-Outfit",children:(0,Uv.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 transform animate-slideUp",children:[(0,Uv.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,Uv.jsx)(Iy,{className:"text-blue-600",size:32})}),(0,Uv.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Success!"})]}),(0,Uv.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 transition",children:(0,Uv.jsx)(Mv,{size:24})})]}),(0,Uv.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:g}),(0,Uv.jsx)("div",{className:"flex gap-3",children:(0,Uv.jsx)("button",{onClick:()=>w(!1),className:"flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold",children:"Got it!"})})]})}),document.body),(0,Uv.jsx)("h1",{className:"text-3xl font-bold text-title",children:"Manage Teachers"}),(0,Uv.jsx)("p",{className:"text-md md:text-xl text-subtext",children:"Add, edit, or remove teacher records with ease."}),(0,Uv.jsxs)("div",{className:"bg-white p-8 rounded-3xl shadow-lg mb-8 mt-6 animate-slideIn",children:[(0,Uv.jsxs)("h3",{className:"text-2xl font-bold mb-4 text-title flex items-center gap-2",children:[(0,Uv.jsx)(U3,{size:22})," Create Teacher Account"]}),(0,Uv.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0),x(""),v(""),B5(!0);try{const e=kv.currentUser,t=(await Ws(kv,u,h)).user;await fv(cg(jv,"users",t.uid),{email:u,uid:t.uid,authUID:t.uid,role:"teacher",status:"Active",createdAt:(new Date).toISOString()}),await function(e,t){return on(e).updateCurrentUser(t)}(kv,e),v("Teacher account created successfully: ".concat(u)),w(!0),d(""),f(""),N(),setTimeout(()=>{w(!1),v("")},3e3)}catch(t){console.error("Error creating teacher:",t),"auth/email-already-in-use"===t.code?x("That email is already in use."):"auth/invalid-email"===t.code?x("Invalid email format."):"auth/weak-password"===t.code?x("Password should be at least 6 characters."):x("Failed to create teacher account. Please try again."),setTimeout(()=>x(""),5e3)}finally{p(!1),setTimeout(()=>{B5(!1)},1e3)}},className:"flex flex-col gap-4 max-w-md",children:[(0,Uv.jsx)("input",{type:"email",placeholder:"Teacher Email",className:"border rounded-lg p-3 focus:ring-2 focus:ring-primary outline-none",value:u,onChange:e=>d(e.target.value),required:!0}),(0,Uv.jsx)("input",{type:"password",placeholder:"Temporary Password (min. 6 characters)",className:"border rounded-lg p-3 focus:ring-2 focus:ring-primary outline-none",value:h,onChange:e=>f(e.target.value),required:!0,minLength:6}),(0,Uv.jsx)("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:m?"Creating Account...":"Create Teacher Account"})]}),y&&(0,Uv.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Uv.jsx)("p",{className:"text-red-700 font-medium",children:y})})]}),(0,Uv.jsxs)("div",{className:"bg-white p-8 rounded-3xl shadow-lg animate-slideIn",children:[(0,Uv.jsx)("h3",{className:"text-2xl font-bold mb-4 text-title",children:"Teacher List"}),(0,Uv.jsx)("input",{type:"text",placeholder:"Search teacher by email...",className:"border p-3 w-full max-w-sm rounded-lg mb-4 focus:ring-2 focus:ring-primary outline-none",value:s,onChange:e=>i(e.target.value)}),r?(0,Uv.jsxs)("div",{className:"flex flex-row items-center justify-center gap-3 mt-10",children:[(0,Uv.jsx)(Ly,{className:"text-blue-500 animate-spin"}),(0,Uv.jsx)("p",{className:"text-subtext ",children:"Loading teachers..."})]}):(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full border-collapse items-start text-left rounded-lg overflow-hidden shadow-lg animate-slideIn",children:[(0,Uv.jsx)("thead",{className:"bg-gray-100",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"p-3 border text-left font-semibold",children:"Email"}),(0,Uv.jsx)("th",{className:"p-3 border text-left font-semibold",children:"Status"}),(0,Uv.jsx)("th",{className:"p-3 border text-left font-semibold",children:"Actions"})]})}),(0,Uv.jsx)("tbody",{children:S.length>0?S.map(e=>(0,Uv.jsxs)("tr",{className:"border hover:bg-gray-50",children:[(0,Uv.jsx)("td",{className:"p-3 border",children:e.email}),(0,Uv.jsx)("td",{className:"p-3 border font-bold ".concat("Active"===e.status?"text-green-600":"text-red-600"),children:e.status||"Active"}),(0,Uv.jsxs)("td",{className:"p-3 border space-x-2",children:[(0,Uv.jsx)("button",{className:"bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition text-sm",onClick:()=>(async e=>{try{await Hs(kv,e),alert("Password reset link sent to: "+e)}catch(t){console.error(t),alert("Failed to send reset email.")}})(e.email),children:"Reset Password"}),"Active"!==e.status&&e.status?(0,Uv.jsx)("button",{className:"bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition text-sm",onClick:()=>(async e=>{try{await mv(cg(jv,"users",e),{status:"Active"}),N()}catch(t){console.error(t)}})(e.id),children:"Activate"}):(0,Uv.jsx)("button",{className:"bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition text-sm",onClick:()=>(async e=>{try{await mv(cg(jv,"users",e),{status:"Inactive"}),N()}catch(t){console.error(t)}})(e.id),children:"Deactivate"}),(0,Uv.jsx)("button",{className:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 transition text-sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this teacher?"))try{await pv(cg(jv,"users",e)),N()}catch(t){console.error(t)}})(e.id),children:"Delete"})]})]},e.id)):(0,Uv.jsx)("tr",{children:(0,Uv.jsx)("td",{className:"p-3 text-center border text-gray-600",colSpan:3,children:"No teachers found."})})})]})})]})]})},B3=()=>{const[e,n]=(0,t.useState)([]),[r,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(""),o=async()=>{try{const e=Xg(lg(jv,"users"),Jg("role","==","student")),t=(await hv(e)).docs.map(e=>c({id:e.id},e.data()));n(t),a(!1)}catch(e){console.error("Error fetching students:",e),a(!1)}};(0,t.useEffect)(()=>{o()},[]);const l=e.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase())});return(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsx)("h1",{className:"text-2xl text-title font-bold",children:"Manage Students"}),(0,Uv.jsx)("p",{className:"text-md md:text-xl text-subtext",children:"All your student details, accessible and easy to manage."}),(0,Uv.jsx)("input",{type:"text",placeholder:"Search student by name...",className:"border p-2 w-full max-w-sm rounded mb-4 mt-4",value:s,onChange:e=>i(e.target.value)}),r?(0,Uv.jsxs)("div",{className:"flex flex-row items-center justify-center gap-3 mt-10",children:[(0,Uv.jsx)(Ly,{className:"text-blue-500 animate-spin"}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Loading students..."})]}):(0,Uv.jsxs)("table",{className:"w-full border items-start text-left rounded-lg overflow-hidden shadow-lg animate-slideIn",children:[(0,Uv.jsx)("thead",{className:"bg-gray-200",children:(0,Uv.jsxs)("tr",{children:[(0,Uv.jsx)("th",{className:"p-3 border",children:"Name"}),(0,Uv.jsx)("th",{className:"p-3 border",children:"Email"}),(0,Uv.jsx)("th",{className:"p-3 border",children:"Status"}),(0,Uv.jsx)("th",{className:"p-3 border",children:"Actions"})]})}),(0,Uv.jsx)("tbody",{children:l.length>0?l.map(e=>(0,Uv.jsxs)("tr",{className:"border",children:[(0,Uv.jsx)("td",{className:"p-3 border",children:e.name}),(0,Uv.jsx)("td",{className:"p-3 border",children:e.emailAddress}),(0,Uv.jsx)("td",{className:"p-3 border font-bold ".concat("Active"!==e.status&&e.status?"text-red-600":"text-green-600"),children:e.status||"Active"}),(0,Uv.jsxs)("td",{className:"p-3 border space-x-2",children:[(0,Uv.jsx)("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>(async e=>{try{await Hs(kv,e),alert("Password reset link sent to: "+e)}catch(t){console.error(t),alert("Failed to send reset email.")}})(e.emailAddress),children:"Reset Password"}),"Active"!==e.status&&e.status?(0,Uv.jsx)("button",{className:"bg-green-500 text-white px-3 py-1 rounded",onClick:()=>(async e=>{try{await mv(cg(jv,"users",e),{status:"Active"}),o()}catch(t){console.error(t)}})(e.id),children:"Activate"}):(0,Uv.jsx)("button",{className:"bg-yellow-500 text-white px-3 py-1 rounded",onClick:()=>(async e=>{try{await mv(cg(jv,"users",e),{status:"Inactive"}),o()}catch(t){console.error(t)}})(e.id),children:"Deactivate"}),(0,Uv.jsx)("button",{className:"bg-red-600 text-white px-3 py-1 rounded",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this student?"))try{await pv(cg(jv,"users",e)),o()}catch(t){console.error(t)}})(e.id),children:"Delete"})]})]},e.id)):(0,Uv.jsx)("tr",{children:(0,Uv.jsx)("td",{className:"p-3 text-center border",colSpan:4,children:"No students found."})})})]})]})},V3=Dv("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var H3=["axis"],W3=(0,t.forwardRef)((e,n)=>t.createElement(VX,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:H3,tooltipPayloadSearcher:SR,categoricalChartProps:e,ref:n}));function G3(){return G3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G3.apply(null,arguments)}var Q3=e=>{var{cx:n,cy:r,r:a,className:s}=e,i=UI("recharts-dot",s);return n===+n&&r===+r&&a===+a?t.createElement("circle",G3({},KY(e),eJ(e),{className:i,cx:n,cy:r,r:a})):null};function K3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Y3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K3(Object(n),!0).forEach(function(t){X3(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X3(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $3(e){var{points:n,mainColor:r,activeDot:a,itemDataKey:s}=e,i=mL(XQ),o=mL(aK);if(null==n||null==o)return null;var l=n.find(e=>o.includes(e.payload));return rP(l)?null:(e=>{var{point:n,childIndex:r,mainColor:a,activeDot:s,dataKey:i}=e;if(!1===s||null==n.x||null==n.y)return null;var o,l=Y3(Y3({index:r,dataKey:i,cx:n.x,cy:n.y,r:4,fill:null!==a&&void 0!==a?a:"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},YY(s)),eJ(s));return o=(0,t.isValidElement)(s)?(0,t.cloneElement)(s,l):"function"===typeof s?s(l):t.createElement(Q3,l),t.createElement(m$,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:a})}var J3=(e,t,n,r)=>WG(e,"xAxis",t,r),Z3=(e,t,n,r)=>HG(e,"xAxis",t,r),e6=(e,t,n,r)=>WG(e,"yAxis",n,r),t6=(e,t,n,r)=>HG(e,"yAxis",n,r),n6=sL([Ez,J3,e6,Z3,t6],(e,t,n,r,a)=>UL(e,"xAxis")?JL(t,r,!1):JL(n,a,!1)),r6=sL([fW,(e,t,n,r,a)=>a],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),a6=sL([Ez,J3,e6,Z3,t6,(e,t,n,r,a)=>{var s,i=r6(e,t,n,r,a);if(null!=i){var o,l=Ez(e);if(null!=(o=UL(l,"xAxis")?IW(e,"yAxis",n,r):IW(e,"xAxis",t,r))){var{stackId:c}=i,u=BH(i);if(null!=c&&null!=u){var d=null===(s=o[c])||void 0===s?void 0:s.stackedData;return null===d||void 0===d?void 0:d.find(e=>e.key===u)}}}},UV,n6,r6],(e,t,n,r,a,s,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=i;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=n&&null!=r&&null!=a&&0!==r.length&&0!==a.length&&null!=o){var h,{data:f}=l;if(null!=(h=f&&f.length>0?f:null===c||void 0===c?void 0:c.slice(u,d+1))){return function(e){var t,{areaSettings:{connectNulls:n,baseValue:r,dataKey:a},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=e,p=s&&s.length,g=j6(i,o,r,l,c),v="horizontal"===i,y=!1,x=u.map((e,t)=>{var r;p?r=s[d+t]:(r=FL(e,a),Array.isArray(r)?y=!0:r=[g,r]);var i=null==r[1]||p&&!n&&null==FL(e,a);return v?{x:QL({axis:l,ticks:h,bandSize:m,entry:e,index:t}),y:i?null:c.scale(r[1]),value:r,payload:e}:{x:i?null:l.scale(r[1]),y:QL({axis:c,ticks:f,bandSize:m,entry:e,index:t}),value:r,payload:e}});t=p||y?x.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return v?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):v?c.scale(g):l.scale(g);return{points:x,baseLine:t,isRange:y}}({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:s,displayedData:h,chartBaseValue:undefined,bandSize:o})}}});var s6=["id"],i6=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function o6(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(t){u6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d6(){return d6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d6.apply(null,arguments)}function h6(e,t){return e&&"none"!==e?e:t}var f6=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:h6(r,a),value:ez(n,t),payload:e}]};function m6(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:ez(i,t),hide:o,type:e.tooltipType,color:h6(r,s),unit:l}}}function p6(e){var{clipPathId:n,points:r,props:a}=e,{needClip:s,dot:i,dataKey:o}=a;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,i))return null;var l,c=s2(i),u=KY(a),d=null==(l=i)?null:(0,t.isValidElement)(l)?XY(l.props):"object"!==typeof l||Array.isArray(l)?null:XY(l),h=r.map((e,n)=>{var a=c6(c6(c6({key:"dot-".concat(n),r:3},u),d),{},{index:n,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:r});return((e,n)=>{var r;if(t.isValidElement(e))r=t.cloneElement(e,n);else if("function"===typeof e)r=e(n);else{var a=UI("recharts-area-dot","boolean"!==typeof e?e.className:"");r=t.createElement(Q3,d6({},n,{className:a}))}return r})(i,a)}),f={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(n,")"):void 0};return t.createElement(m$,d6({className:"recharts-area-dots"},f),h)}function g6(e){var{showLabels:n,children:r,points:a}=e,s=a.map(e=>{var t={x:e.x,y:e.y,width:0,height:0};return c6(c6({},t),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:t,fill:void 0})});return t.createElement(K1,{value:n?s:null},r)}function v6(e){var{points:n,baseLine:r,needClip:a,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:h}=i,f=o6(i,s6),m=KY(f);return t.createElement(t.Fragment,null,(null===n||void 0===n?void 0:n.length)>1&&t.createElement(m$,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},t.createElement(E0,d6({},m,{id:h,points:n,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),"none"!==c&&t.createElement(E0,d6({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n})),"none"!==c&&d&&t.createElement(E0,d6({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),t.createElement(p6,{points:n,props:f,clipPathId:s}))}function y6(e){var{alpha:n,baseLine:r,points:a,strokeWidth:s}=e,i=a[0].y,o=a[a.length-1].y;if(!dP(i)||!dP(o))return null;var l=n*Math.abs(i-o),c=Math.max(...a.map(e=>e.x||0));return YI(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.x||0),c)),YI(c)?t.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function x6(e){var{alpha:n,baseLine:r,points:a,strokeWidth:s}=e,i=a[0].x,o=a[a.length-1].x;if(!dP(i)||!dP(o))return null;var l=n*Math.abs(i-o),c=Math.max(...a.map(e=>e.y||0));return YI(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(e=>e.y||0),c)),YI(c)?t.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function b6(e){var{alpha:n,layout:r,points:a,baseLine:s,strokeWidth:i}=e;return"vertical"===r?t.createElement(y6,{alpha:n,points:a,baseLine:s,strokeWidth:i}):t.createElement(x6,{alpha:n,points:a,baseLine:s,strokeWidth:i})}function w6(e){var{needClip:n,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=a,p=a1(a,"recharts-area-"),[g,v]=(0,t.useState)(!1),y=!g,x=(0,t.useCallback)(()=>{"function"===typeof m&&m(),v(!1)},[m]),b=(0,t.useCallback)(()=>{"function"===typeof f&&f(),v(!0)},[f]),w=s.current,N=i.current;return t.createElement(g6,{showLabels:y,points:o},a.children,t.createElement(r1,{animationId:p,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:x,onAnimationStart:b,key:p},e=>{if(w){var u,d=w.length/o.length,h=1===e?o:o.map((t,n)=>{var r=Math.floor(n*d);if(w[r]){var a=w[r];return c6(c6({},t),{},{x:tP(a.x,t.x,e),y:tP(a.y,t.y,e)})}return t});return u=YI(l)?tP(N,l,e):rP(l)||QI(l)?tP(N,0,e):l.map((t,n)=>{var r=Math.floor(n*d);if(Array.isArray(N)&&N[r]){var a=N[r];return c6(c6({},t),{},{x:tP(a.x,t.x,e),y:tP(a.y,t.y,e)})}return t}),e>0&&(s.current=h,i.current=u),t.createElement(v6,{points:h,baseLine:u,needClip:n,clipPathId:r,props:a})}return e>0&&(s.current=o,i.current=l),t.createElement(m$,null,c&&t.createElement("defs",null,t.createElement("clipPath",{id:"animationClipPath-".concat(r)},t.createElement(b6,{alpha:e,points:o,baseLine:l,layout:a.layout,strokeWidth:a.strokeWidth}))),t.createElement(m$,{clipPath:"url(#animationClipPath-".concat(r,")")},t.createElement(v6,{points:o,baseLine:l,needClip:n,clipPathId:r,props:a})))}),t.createElement(J1,{label:a.label}))}function N6(e){var{needClip:n,clipPathId:r,props:a}=e,s=(0,t.useRef)(null),i=(0,t.useRef)();return t.createElement(w6,{needClip:n,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:i})}class S6 extends t.PureComponent{render(){var{hide:e,dot:n,points:r,className:a,top:s,left:i,needClip:o,xAxisId:l,yAxisId:c,width:u,height:d,id:h,baseLine:f}=this.props;if(e)return null;var m=UI("recharts-area",a),p=h,{r:g,strokeWidth:v}=function(e){var t=YY(e);if(null!=t){var{r:n,strokeWidth:r}=t,a=Number(n),s=Number(r);return(Number.isNaN(a)||a<0)&&(a=3),(Number.isNaN(s)||s<0)&&(s=2),{r:a,strokeWidth:s}}return{r:3,strokeWidth:2}}(n),y=s2(n),x=2*g+v;return t.createElement(t.Fragment,null,t.createElement(m$,{className:m},o&&t.createElement("defs",null,t.createElement(g4,{clipPathId:p,xAxisId:l,yAxisId:c}),!y&&t.createElement("clipPath",{id:"clipPath-dots-".concat(p)},t.createElement("rect",{x:i-x/2,y:s-x/2,width:u+x,height:d+x}))),t.createElement(N6,{needClip:o,clipPathId:p,props:this.props})),t.createElement($3,{points:r,mainColor:h6(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(f)&&t.createElement($3,{points:f,mainColor:h6(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var E6={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!MY,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function k6(e){var n,r=UX(e,E6),{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:p,xAxisId:g,yAxisId:v}=r,y=o6(r,i6),x=kz(),b=sK(),{needClip:w}=p4(g,v),N=gz(),{points:S,isRange:E,baseLine:k}=null!==(n=mL(t=>a6(t,g,v,N,e.id)))&&void 0!==n?n:{},j=PX();if("horizontal"!==x&&"vertical"!==x||null==j)return null;if("AreaChart"!==b&&"ComposedChart"!==b)return null;var{height:T,width:_,x:C,y:A}=j;return S&&S.length?t.createElement(S6,d6({},y,{activeDot:a,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:k,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:T,hide:h,layout:x,isAnimationActive:f,isRange:E,legendType:m,needClip:w,points:S,stroke:p,width:_,left:C,top:A,xAxisId:g,yAxisId:v})):null}var j6=(e,t,n,r,a)=>{var s=null!==n&&void 0!==n?n:t;if(YI(s))return s;var i="horizontal"===e?a:r,o=i.scale.domain();if("number"===i.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===s?c:"dataMax"===s||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===s?o[0]:"dataMax"===s?o[1]:o[0]};function T6(e){var n=UX(e,E6),r=gz();return t.createElement(M4,{id:n.id,type:"area"},e=>t.createElement(t.Fragment,null,t.createElement(I4,{legendPayload:f6(n)}),t.createElement(u4,{fn:m6,args:n}),t.createElement(L4,{type:"area",id:e,data:n.data,dataKey:n.dataKey,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,stackId:GL(n.stackId),hide:n.hide,barSize:void 0,baseValue:n.baseValue,isPanorama:r,connectNulls:n.connectNulls}),t.createElement(k6,d6({},n,{id:e}))))}var _6=t.memo(T6);function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C6.apply(null,arguments)}function A6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_6.displayName="Area";var I6=32;class P6 extends t.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,a=16,s=I6/6,i=I6/3,o=e.inactive?r:e.color,l=null!==n&&void 0!==n?n:e.type;if("none"===l)return null;if("plainline"===l)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:I6,y2:a,className:"recharts-legend-icon"});if("line"===l)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,"\n            H").concat(I6,"M").concat(2*i,",").concat(a,"\n            A").concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if("rect"===l)return t.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(I6,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A6(Object(n),!0).forEach(function(t){O6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete c.legendIcon,t.cloneElement(e.legendIcon,c)}return t.createElement(W2,{fill:o,cx:a,cy:a,size:I6,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:s,iconType:i}=this.props,o={x:0,y:0,width:I6,height:I6},l={display:"horizontal"===r?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var u=e.formatter||a,d=UI({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?s:e.color,f=u?u(e.value,e,r):e.value;return t.createElement("li",C6({className:d,style:l,key:"legend-item-".concat(r)},tJ(this.props,e,r)),t.createElement(ZY,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,i)),t.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},f))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}O6(P6,"displayName","Legend"),O6(P6,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var D6=["contextPayload"];function R6(){return R6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R6.apply(null,arguments)}function M6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M6(Object(n),!0).forEach(function(t){z6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F6(e){return e.value}function U6(e){var{contextPayload:n}=e,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,D6),a=NZ(n,e.payloadUniqBy,F6),s=L6(L6({},r),{},{payload:a});return t.isValidElement(e.content)?t.cloneElement(e.content,s):"function"===typeof e.content?t.createElement(e.content,s):t.createElement(P6,s)}function q6(e){var n=uL();return(0,t.useEffect)(()=>{n(aY(e))},[n,e]),null}function B6(e){var n=uL();return(0,t.useEffect)(()=>(n(rY(e)),()=>{n(rY({width:0,height:0}))}),[n,e]),null}function V6(e){var n=mL(yL),r=(0,t.useContext)(xX),a=mL(e=>e.layout.margin),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,u]=LZ([n]),d=Nz(),h=Sz();if(null==d||null==h)return null;var f=d-(a.left||0)-(a.right||0),m=H6.getWidthOrHeight(e.layout,i,s,f),p=l?o:L6(L6({position:"absolute",width:(null===m||void 0===m?void 0:m.width)||s||"auto",height:(null===m||void 0===m?void 0:m.height)||i||"auto"},function(e,t,n,r,a,s){var i,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===l?{left:((r||0)-s.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((a||0)-s.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),L6(L6({},i),o)}(o,e,a,d,h,c)),o),g=null!==l&&void 0!==l?l:r;if(null==g)return null;var v=t.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},t.createElement(q6,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),t.createElement(B6,{width:c.width,height:c.height}),t.createElement(U6,R6({},e,m,{margin:a,chartWidth:d,chartHeight:h,contextPayload:n})));return(0,ix.createPortal)(v,g)}class H6 extends t.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&YI(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return t.createElement(V6,this.props)}}function W6(e){var n=uL();return(0,t.useEffect)(()=>{n(xY(e))},[n,e]),null}z6(H6,"displayName","Legend"),z6(H6,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var G6=["layout"];function Q6(){return Q6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q6.apply(null,arguments)}var K6={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Y6=(0,t.forwardRef)(function(e,n){var r,a=UX(e.categoricalChartProps,K6),{layout:s}=a,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(a,G6),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(zY,{preloadedState:{options:d},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:o},t.createElement(FY,{chartData:a.data}),t.createElement(UY,{layout:s,margin:a.margin}),t.createElement(qY,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),t.createElement(W6,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),t.createElement(LX,Q6({},i,{ref:n})))}),X6=["item"],$6={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},J6=(0,t.forwardRef)((e,n)=>{var r=UX(e,$6);return t.createElement(Y6,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:X6,tooltipPayloadSearcher:SR,categoricalChartProps:r,ref:n})}),Z6=e=>e.graphicalItems.polarItems,e5=sL([UH,qH],hW),t5=sL([Z6,cW,e5],pW),n5=sL([t5],bW),r5=sL([n5,FV],NW),a5=sL([r5,cW,t5],EW),s5=(sL([r5,cW,t5],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:FL(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:FL(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),i5=sL([r5,cW,t5,FW,UH],qW),o5=sL([cW,MW,LW,s5,i5,s5,Ez,UH],aG),l5=sL([cW,Ez,r5,a5,hH,UH,o5],oG),c5=sL([l5,cW,uG],hG);sL([cW,l5,c5,UH],mG);function u5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u5(Object(n),!0).forEach(function(t){h5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f5=sL([Z6,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),m5=[],p5=(e,t,n)=>0===(null===n||void 0===n?void 0:n.length)?m5:n,g5=sL([FV,f5,p5],(e,t,n)=>{var r,{chartData:a}=e;if(null!=t&&((r=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:a)&&r.length||null==n||(r=n.map(e=>d5(d5({},t.presentationProps),e.props))),null!=r))return r}),v5=sL([g5,f5,p5],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var a,s,i=FL(e,t.nameKey,t.name);return s=null!==n&&void 0!==n&&null!==(a=n[r])&&void 0!==a&&null!==(a=a.props)&&void 0!==a&&a.fill?n[r].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:ez(i,t.dataKey),color:s,payload:e,type:t.legendType}})}),y5=sL([g5,f5,p5,hz],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:a,displayedData:s,cells:i,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=a,m=Math.abs(a.minAngle),p=O5(c,u),g=Math.abs(p),v=s.length<=1?0:null!==(t=a.paddingAngle)&&void 0!==t?t:0,y=s.filter(e=>0!==FL(e,d,0)).length,x=g-y*m-(g>=360?y:y-1)*v,b=s.reduce((e,t)=>{var n=FL(t,d,0);return e+(YI(n)?n:0)},0);b>0&&(n=s.map((e,t)=>{var n,s=FL(e,d,0),u=FL(e,h,t),g=A5(a,o,e),y=(YI(s)?s:0)/b,w=E5(E5({},e),i&&i[t]&&i[t].props),N=(n=t?r.endAngle+GI(p)*v*(0!==s?1:0):c)+GI(p)*((0!==s?m:0)+y*x),S=(n+N)/2,E=(g.innerRadius+g.outerRadius)/2,k=[{name:u,value:s,payload:w,dataKey:d,type:f}],j=AL(g.cx,g.cy,E,S);return r=E5(E5(E5(E5({},a.presentationProps),{},{percent:y,cornerRadius:l,name:u,tooltipPayload:k,midAngle:S,middleRadius:E,tooltipPosition:j},w),g),{},{value:s,startAngle:n,endAngle:N,payload:w,paddingAngle:GI(p)*v})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),x5=["onMouseEnter","onClick","onMouseLeave"],b5=["id"],w5=["id"];function N5(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(t){k5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j5.apply(null,arguments)}function T5(e){var n=(0,t.useMemo)(()=>a2(e.children,F1),[e.children]),r=mL(t=>v5(t,e.id,n));return null==r?null:t.createElement(P4,{legendPayload:r})}function _5(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:n,name:ez(o,t),hide:l,type:c,color:i,unit:""}}}var C5=(e,t)=>e>t?"start":e<t?"end":"middle",A5=(e,t,n)=>{var{top:r,left:a,width:s,height:i}=t,o=OL(s,i),l=a+ZI(e.cx,s,s/2),c=r+ZI(e.cy,i,i/2),u=ZI(e.innerRadius,o,0),d=((e,t,n)=>ZI("function"===typeof t?t(e):t,n,.8*n))(n,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(s*s+i*i)/2}},O5=(e,t)=>GI(t-e)*Math.min(Math.abs(t-e),360);function I5(e){var{sectors:n,props:r,showLabels:a}=e,{label:s,labelLine:i,dataKey:o}=r;if(!a||!s||!n)return null;var l=KY(r),c=YY(s),u=YY(i),d="object"===typeof s&&"offsetRadius"in s&&"number"===typeof s.offsetRadius&&s.offsetRadius||20,h=n.map((e,n)=>{var r=(e.startAngle+e.endAngle)/2,a=AL(e.cx,e.cy,e.outerRadius+d,r),h=E5(E5(E5(E5({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:C5(a.x,e.cx)},a),f=E5(E5(E5(E5({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[AL(e.cx,e.cy,e.outerRadius,r),a],key:"line"});return t.createElement(m$,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},i&&((e,n)=>{if(t.isValidElement(e))return t.cloneElement(e,n);if("function"===typeof e)return e(n);var r=UI("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return t.createElement(E0,j5({},n,{type:"linear",className:r}))})(i,f),((e,n,r)=>{if(t.isValidElement(e))return t.cloneElement(e,n);var a=r;if("function"===typeof e&&(a=e(n),t.isValidElement(a)))return a;var s,i=UI("recharts-pie-label-text",(s=e)&&"object"===typeof s&&"className"in s&&"string"===typeof s.className?s.className:"");return t.createElement(M$,j5({},n,{alignmentBaseline:"middle",className:i}),a)})(s,h,FL(e,o)))});return t.createElement(m$,{className:"recharts-pie-labels"},h)}function P5(e){var{sectors:n,props:r,showLabels:a}=e,{label:s}=r;return"object"===typeof s&&null!=s&&"position"in s?t.createElement(J1,{label:s}):t.createElement(I5,{sectors:n,props:r,showLabels:a})}function D5(e){var{sectors:n,activeShape:r,inactiveShape:a,allOtherPieProps:s}=e,i=mL(XQ),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,u=N5(s,x5),d=o4(o,s.dataKey),h=l4(c),f=c4(l,s.dataKey);return null==n||0===n.length?null:t.createElement(t.Fragment,null,n.map((e,o)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==n.length)return null;var l=r&&String(o)===i,c=l?r:i?a:null,m=E5(E5({},e),{},{stroke:e.stroke,tabIndex:-1,[oz]:o,[lz]:s.dataKey});return t.createElement(m$,j5({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o),tabIndex:-1,className:"recharts-pie-sector"},tJ(u,e,o),{onMouseEnter:d(e,o),onMouseLeave:h(e,o),onClick:f(e,o)}),t.createElement(J2,j5({option:c,isActive:l,shapeType:"sector"},m)))}))}function R5(e){var{showLabels:n,sectors:r,children:a}=e,s=(0,t.useMemo)(()=>n&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,n]);return t.createElement(X1,{value:n?s:void 0},a)}function M5(e){var{props:n,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=n,f=a1(n,"recharts-pie-"),m=r.current,[p,g]=(0,t.useState)(!1),v=(0,t.useCallback)(()=>{"function"===typeof h&&h(),g(!1)},[h]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),g(!0)},[d]);return t.createElement(R5,{showLabels:!p,sectors:a},t.createElement(r1,{animationId:f,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:y,onAnimationEnd:v,key:f},e=>{var s=[],i=a&&a[0],o=null===i||void 0===i?void 0:i.startAngle;return null===a||void 0===a||a.forEach((t,n)=>{var r=m&&m[n],a=n>0?WI()(t,"paddingAngle",0):0;if(r){var i=tP(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=E5(E5({},t),{},{startAngle:o+a,endAngle:o+i+a});s.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=tP(0,c-u,e),h=E5(E5({},t),{},{startAngle:o+a,endAngle:o+d+a});s.push(h),o=h.endAngle}}),r.current=s,t.createElement(m$,null,t.createElement(D5,{sectors:s,activeShape:c,inactiveShape:u,allOtherPieProps:n}))}),t.createElement(P5,{showLabels:!p,sectors:a,props:n}),n.children)}var L5={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!MY,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function z5(e){var{id:n}=e,r=N5(e,b5),{hide:a,className:s,rootTabIndex:i}=e,o=(0,t.useMemo)(()=>a2(e.children,F1),[e.children]),l=mL(e=>y5(e,n,o)),c=(0,t.useRef)(null),u=UI("recharts-pie",s);return a||null==l?(c.current=null,t.createElement(m$,{tabIndex:i,className:u})):t.createElement(t.Fragment,null,t.createElement(u4,{fn:_5,args:E5(E5({},e),{},{sectors:l})}),t.createElement(m$,{tabIndex:i,className:u},t.createElement(M5,{props:E5(E5({},r),{},{sectors:l}),previousSectorsRef:c})))}function F5(e){var n=UX(e,L5),{id:r}=n,a=N5(n,w5),s=KY(a);return t.createElement(M4,{id:r,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(z4,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:n.maxRadius}),t.createElement(T5,j5({},a,{id:e})),t.createElement(z5,j5({},a,{id:e}))))}function U5(){ge();const[e,n]=(0,t.useState)("month"),[r,a]=(0,t.useState)(!0),[s,i]=(0,t.useState)(0),[o,l]=(0,t.useState)(0),[c,u]=(0,t.useState)(0),[d,h]=(0,t.useState)(0),[f,m]=(0,t.useState)(0),[p,g]=(0,t.useState)(0),[v,y]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[w,N]=(0,t.useState)([]),[S,E]=(0,t.useState)([]),[k,j]=(0,t.useState)([]),[T,_]=(0,t.useState)([]);(0,t.useEffect)(()=>{C()},[e]);const C=async()=>{a(!0);try{await Promise.all([A(),O(),I(),P(),D(),R(),M(),L(),z(),F(),U()])}catch(e){console.error("Error fetching analytics:",e)}a(!1)},A=async()=>{const e=await hv(lg(jv,"users"));let t=0,n=0;e.forEach(e=>{const r=e.data().role;"student"===r&&t++,"teacher"===r&&n++}),i(t),l(n)},O=async()=>{const e=await hv(lg(jv,"quizzes"));let t=0;e.forEach(e=>{const n=e.data().status;"published"!==n&&"active"!==n||t++}),u(t)},I=async()=>{const e=await hv(lg(jv,"classes"));let t=0;e.forEach(e=>{"active"===e.data().status&&t++}),h(t)},P=async()=>{const e=await hv(lg(jv,"quizSubmissions"));let t=0,n=0;e.forEach(e=>{const r=e.data();void 0!==r.score&&null!==r.score&&(t+=r.score,n++)});const r=n>0?(t/n).toFixed(1):0;m(r)},D=async()=>{const e=await hv(lg(jv,"assignedQuizzes"));let t=0,n=e.size;e.forEach(e=>{"completed"===e.data().status&&t++});const r=n>0?(t/n*100).toFixed(1):0;g(r)},R=async()=>{const e=await hv(lg(jv,"quizSubmissions")),t={},n=[],r=new Date;for(let s=5;s>=0;s--){const e=new Date(r.getFullYear(),r.getMonth()-s,1).toLocaleString("en",{month:"short"});n.push(e),t[e]={totalScore:0,count:0,quizzesTaken:0}}e.forEach(e=>{const n=e.data();if(n.submittedAt){const e=(n.submittedAt.toDate?n.submittedAt.toDate():new Date(n.submittedAt)).toLocaleString("en",{month:"short"});if(t[e]){t[e].quizzesTaken++;const r=void 0!==n.rawScorePercentage?n.rawScorePercentage:n.base50ScorePercentage;void 0!==r&&(t[e].totalScore+=r,t[e].count++)}}});const a=n.map(e=>({month:e,avgScore:t[e].count>0?Math.round(t[e].totalScore/t[e].count):0,quizzesTaken:t[e].quizzesTaken,completion:t[e].quizzesTaken>0?85:0}));y(a)},M=async()=>{const e=await hv(lg(jv,"quizSubmissions")),t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n={};t.forEach(e=>{n[e]=new Set});const r=new Date;r.setDate(r.getDate()-7),e.forEach(e=>{const t=e.data();if(t.submittedAt){const e=t.submittedAt.toDate();if(e>=r){const r=e.toLocaleString("en",{weekday:"short"});n[r]&&n[r].add(t.studentId||t.userId)}}});const a=t.map(e=>({day:e,active:n[e].size,inactive:Math.max(0,s-n[e].size)}));b(a)},L=async()=>{const e=await hv(Xg(lg(jv,"users"),Jg("role","==","student"))),t={};e.forEach(e=>{const n=e.data().program||"Others";t[n]=(t[n]||0)+1});const n=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4"],r=Object.entries(t).map((e,t)=>{let[r,a]=e;return{subject:r,value:a,color:n[t%n.length]}});N(r)},z=async()=>{const e=await hv(lg(jv,"classes")),t={};e.forEach(e=>{const n=e.data().subject||"Others";t[n]=(t[n]||0)+1});const n=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],r=Object.entries(t).map((e,t)=>{let[r,a]=e;return{subject:r,value:a,color:n[t%n.length]}});E(r)},F=async()=>{const e=await hv(lg(jv,"quizSubmissions")),t={};e.forEach(e=>{const n=e.data(),r=n.teacherEmail,a=n.teacherName;if(r&&!t[r]&&(t[r]={email:r,name:a,scores:[],quizzes:new Set,students:new Set}),r){const e=void 0!==n.rawScorePercentage?n.rawScorePercentage:n.base50ScorePercentage;void 0!==e&&null!==e&&t[r].scores.push(e),n.quizId&&t[r].quizzes.add(n.quizId),n.studentId&&t[r].students.add(n.studentId)}});const n=Object.values(t).map(e=>{const t=e.scores.length>0?Math.round(e.scores.reduce((e,t)=>e+t,0)/e.scores.length):0;return{email:e.email,quizzes:e.quizzes.size,avgScore:t,students:e.students.size}});j(n)},U=async()=>{const e=await hv(lg(jv,"quizSubmissions")),t=[];for(let n=5;n>=0;n--){const r=new Date;r.setDate(r.getDate()-7*n);const a=new Date(r);a.setDate(a.getDate()-7);let i=0;const o=new Set;e.forEach(e=>{const t=e.data();if(t.submittedAt){const e=t.submittedAt.toDate?t.submittedAt.toDate():new Date(t.submittedAt);e>=a&&e<r&&(i++,o.add(t.studentId||t.userId))}});const l=s>0?Math.round(o.size/s*100):0,c=s>0?Math.round(i/s*100):0;t.push({week:"Week ".concat(6-n),engagement:l,participation:Math.min(c,100)})}_(t)},q=e=>{let{icon:t,title:n,value:r,change:a,color:s}=e;return(0,Uv.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-all",children:(0,Uv.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("p",{className:"text-gray-500 text-sm font-medium mb-1",children:n}),(0,Uv.jsx)("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:r}),void 0!==a&&(0,Uv.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Uv.jsx)(Hy,{className:"".concat(a>=0?"text-green-500":"text-red-500"),size:16}),(0,Uv.jsxs)("span",{className:"text-sm font-semibold ".concat(a>=0?"text-green-600":"text-red-600"),children:[a>=0?"+":"",a,"%"]}),(0,Uv.jsx)("span",{className:"text-gray-400 text-xs ml-1",children:"vs last period"})]})]}),(0,Uv.jsx)("div",{className:"p-3 rounded-xl ".concat(s),children:(0,Uv.jsx)(t,{size:24,className:"text-white"})})]})})};return r?(0,Uv.jsx)("div",{className:"min-h-screen flex items-center justify-center font-Outfit",children:(0,Uv.jsxs)("div",{className:"text-center flex-row flex gap-3 items-center",children:[(0,Uv.jsx)(Ly,{className:"animate-spin mx-auto text-blue-600",size:36}),(0,Uv.jsx)("p",{className:"text-subtext",children:"Loading analytics data..."})]})}):(0,Uv.jsxs)("div",{className:"py-6 px-2 md:p-8 font-Outfit animate-fadeIn",children:[(0,Uv.jsx)("div",{className:" z-10",children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,Uv.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,Uv.jsx)("div",{className:"flex items-center gap-4",children:(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h1",{className:"text-2xl font-bold text-title",children:"Analytics Dashboard"}),(0,Uv.jsx)("p",{className:"text-sm text-subtext",children:"Comprehensive system insights and metrics"})]})}),(0,Uv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Uv.jsxs)("select",{value:e,onChange:e=>n(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,Uv.jsx)("option",{value:"week",children:"Last Week"}),(0,Uv.jsx)("option",{value:"month",children:"Last Month"}),(0,Uv.jsx)("option",{value:"quarter",children:"Last Quarter"}),(0,Uv.jsx)("option",{value:"year",children:"Last Year"})]}),(0,Uv.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:[(0,Uv.jsx)(P3,{size:18}),"Export Report"]})]})]})})}),(0,Uv.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Uv.jsx)(q,{icon:fx,title:"Total Students",value:s.toLocaleString(),change:12.5,color:"bg-blue-500"}),(0,Uv.jsx)(q,{icon:fx,title:"Total Teachers",value:o,change:5.2,color:"bg-purple-500"}),(0,Uv.jsx)(q,{icon:Ry,title:"Active Quizzes",value:c,change:8.3,color:"bg-green-500"}),(0,Uv.jsx)(q,{icon:kx,title:"Active Classes",value:d,change:6.7,color:"bg-orange-500"})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Uv.jsx)(q,{icon:ox,title:"Average Score",value:"".concat(f,"%"),change:5.7,color:"bg-indigo-500"}),(0,Uv.jsx)(q,{icon:V3,title:"Completion Rate",value:"".concat(p,"%"),change:3.2,color:"bg-pink-500"})]}),(0,Uv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,Uv.jsxs)("div",{className:"bg-gradient-to-br from-white to-blue-50 p-6 rounded-2xl shadow-lg border border-blue-100 relative overflow-hidden",children:[(0,Uv.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 bg-blue-100 rounded-full blur-3xl opacity-30"}),(0,Uv.jsxs)("div",{className:"relative z-10",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Quiz Performance Trend"}),(0,Uv.jsx)("p",{className:"text-sm text-gray-500",children:"Average scores over time"})]}),(0,Uv.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg",children:(0,Uv.jsx)(Vy,{className:"text-white",size:24})})]}),v.length>0?(0,Uv.jsx)(wP,{width:"100%",height:280,children:(0,Uv.jsxs)(W3,{data:v,children:[(0,Uv.jsxs)("defs",{children:[(0,Uv.jsxs)("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Uv.jsx)("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.4}),(0,Uv.jsx)("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),(0,Uv.jsx)("filter",{id:"shadow",children:(0,Uv.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodOpacity:"0.3"})})]}),(0,Uv.jsx)(RJ,{strokeDasharray:"3 3",stroke:"#e0e7ff",vertical:!1}),(0,Uv.jsx)(QJ,{dataKey:"month",stroke:"#6B7280",fontSize:12,axisLine:{stroke:"#e5e7eb",strokeWidth:2},tickLine:!1}),(0,Uv.jsx)(sZ,{stroke:"#6B7280",fontSize:12,axisLine:{stroke:"#e5e7eb",strokeWidth:2},tickLine:!1}),(0,Uv.jsx)(z1,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #3B82F6",borderRadius:"12px",fontSize:"12px",boxShadow:"0 10px 25px rgba(59, 130, 246, 0.2)"}}),(0,Uv.jsx)(_6,{type:"monotone",dataKey:"avgScore",stroke:"#3B82F6",strokeWidth:3,fill:"url(#colorScore)",filter:"url(#shadow)"})]})}):(0,Uv.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No data available"})]})]}),(0,Uv.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Student Activity"}),(0,Uv.jsx)("p",{className:"text-sm text-gray-500",children:"Active vs inactive students by day"})]}),(0,Uv.jsx)(fx,{className:"text-green-500",size:24})]}),x.length>0?(0,Uv.jsx)(wP,{width:"100%",height:280,children:(0,Uv.jsxs)(WX,{data:x,children:[(0,Uv.jsx)(RJ,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,Uv.jsx)(QJ,{dataKey:"day",stroke:"#6B7280",fontSize:12}),(0,Uv.jsx)(sZ,{stroke:"#6B7280",fontSize:12}),(0,Uv.jsx)(z1,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),(0,Uv.jsx)(H6,{wrapperStyle:{fontSize:"12px"}}),(0,Uv.jsx)(c3,{dataKey:"active",fill:"#10B981",radius:[8,8,0,0]}),(0,Uv.jsx)(c3,{dataKey:"inactive",fill:"#EF4444",radius:[8,8,0,0]})]})}):(0,Uv.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No data available"})]})]}),(0,Uv.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:w.length>0&&(0,Uv.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Program Distribution"}),(0,Uv.jsx)("p",{className:"text-sm text-gray-500",children:"Students by program"})]}),(0,Uv.jsx)(kx,{className:"text-purple-500",size:24})]}),(0,Uv.jsx)(wP,{width:"100%",height:250,children:(0,Uv.jsxs)(J6,{children:[(0,Uv.jsx)(F5,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:w.map((e,t)=>(0,Uv.jsx)(F1,{fill:e.color},"cell-".concat(t)))}),(0,Uv.jsx)(z1,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}})]})}),(0,Uv.jsx)("div",{className:"mt-4 space-y-2",children:w.map((e,t)=>(0,Uv.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Uv.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Uv.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Uv.jsx)("span",{className:"text-gray-600",children:e.subject})]}),(0,Uv.jsx)("span",{className:"font-semibold text-gray-800",children:e.value})]},t))})]})}),k.length>0&&(0,Uv.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[(0,Uv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Uv.jsxs)("div",{children:[(0,Uv.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Teacher Performance"}),(0,Uv.jsx)("p",{className:"text-sm text-gray-500",children:"Overview of teacher contributions"})]}),(0,Uv.jsx)(ox,{className:"text-blue-500",size:24})]}),(0,Uv.jsx)("div",{className:"overflow-x-auto",children:(0,Uv.jsxs)("table",{className:"w-full",children:[(0,Uv.jsx)("thead",{children:(0,Uv.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Uv.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Teacher Email"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 text-sm",children:"Quizzes Created"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 text-sm",children:"Avg. Student Score"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 text-sm",children:"Total Students"}),(0,Uv.jsx)("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 text-sm",children:"Performance"})]})}),(0,Uv.jsx)("tbody",{children:k.map((e,t)=>(0,Uv.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition",children:[(0,Uv.jsx)("td",{className:"py-4 px-4",children:(0,Uv.jsx)("span",{className:"font-medium text-gray-800",children:e.email})}),(0,Uv.jsx)("td",{className:"text-center py-4 px-4 text-gray-700",children:e.quizzes}),(0,Uv.jsx)("td",{className:"text-center py-4 px-4",children:(0,Uv.jsxs)("span",{className:"font-semibold text-gray-800",children:[e.avgScore,"%"]})}),(0,Uv.jsx)("td",{className:"text-center py-4 px-4 text-gray-700",children:e.students}),(0,Uv.jsx)("td",{className:"text-center py-4 px-4",children:(0,Uv.jsx)("div",{className:"flex items-center justify-center",children:(0,Uv.jsx)("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,Uv.jsx)("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all",style:{width:"".concat(e.avgScore,"%")}})})})})]},t))})]})})]})]})]})}F5.displayName="Pie";let q5=!1;function B5(e){q5=e,console.log("\ud83d\udd27 Account creation flag set to: ".concat(e))}function V5(e){let{user:n,userDoc:r,children:a}=e;const[s,i]=(0,t.useState)("288px");return(0,t.useEffect)(()=>{const e=new MutationObserver(()=>{const e=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();e&&i(e)});e.observe(document.documentElement,{attributes:!0,attributeFilter:["style"]});const t=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-width").trim();return t&&i(t),()=>e.disconnect()},[]),(0,Uv.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,Uv.jsx)(Xy,{user:n,userDoc:r}),(0,Uv.jsx)("div",{className:"flex-1 overflow-y-auto transition-all duration-300",style:{marginLeft:window.innerWidth>=1024?s:"0"},children:a})]})}const H5=function(){const[e,n]=(0,t.useState)(null),[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),u=(0,t.useRef)(null),d=(0,t.useRef)(0);return(0,t.useEffect)(()=>{console.log("\ud83d\udd0d Setting up auth state listener...");const e=function(e,t,n,r){return on(e).onAuthStateChanged(t,n,r)}(kv,async e=>{d.current+=1;const t=d.current;if(console.log("\n\ud83d\udd04 Auth State Change #".concat(t)),console.log("   User: ".concat((null===e||void 0===e?void 0:e.email)||"None")),console.log("   UID: ".concat((null===e||void 0===e?void 0:e.uid)||"None")),console.log("   Account Creation Flag: ".concat(q5)),q5)console.log("\u26d4 BLOCKED: Account creation in progress, ignoring change #".concat(t));else{if(e){console.log("\u2705 Processing user login: ".concat(e.email)),n(e),u.current=e;try{const t=lg(jv,"users");let n=Xg(t,Jg("email","==",e.email)),r=await hv(n);if(r.empty&&(n=Xg(t,Jg("emailAddress","==",e.email)),r=await hv(n)),r.empty&&(console.log("\ud83d\udd0d Trying to find by authUID: ".concat(e.uid)),n=Xg(t,Jg("authUID","==",e.uid)),r=await hv(n)),r.empty)console.log("\u26a0\ufe0f No user document found for: ".concat(e.email)),console.log("   Tried: email, emailAddress, and authUID fields"),a(null),i(null);else{const t=r.docs[0],n=c({id:t.id},t.data());console.log("\u2705 User document found!"),console.log("   Document ID: ".concat(t.id)),console.log("   Auth UID: ".concat(e.uid)),console.log("   Role: ".concat(n.role)),console.log("   Name: ".concat(n.name||n.displayName)),a(n),i(n.role||null)}}catch(r){console.error("\u274c Error fetching user role:",r),a(null),i(null)}}else u.current?(console.log("\u26a0\ufe0f User logged out (was: ".concat(u.current.email,")")),n(null),a(null),i(null),u.current=null):console.log("\u2139\ufe0f No user logged in");l(!1)}});return()=>{console.log("\ud83d\udd1a Cleaning up auth state listener"),e()}},[]),o?(0,Uv.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",margin:0,padding:0},children:[(0,Uv.jsx)("div",{style:{width:"50px",height:"50px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"4px solid black",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"30px"}}),(0,Uv.jsx)("h1",{style:{color:"black",fontSize:"20px",fontFamily:"Outfit",fontWeight:"600",margin:"0 0 6px 0",letterSpacing:"0.5px"},children:"Loading ..."}),(0,Uv.jsx)("p",{style:{color:"black",fontSize:"14px",fontFamily:"Outfit",margin:"0",letterSpacing:"1px"},children:"Please check your internet connection. uwu"}),(0,Uv.jsx)("style",{children:"\n          @keyframes spin {\n            to {\n              transform: rotate(360deg);\n            }\n          }\n        "})]}):(0,Uv.jsx)(xt,{children:(0,Uv.jsxs)(Fe,{children:[(0,Uv.jsx)(Le,{path:"/",element:(0,Uv.jsx)(jy,{})}),(0,Uv.jsx)(Le,{path:"/features",element:(0,Uv.jsx)(Ty,{})}),(0,Uv.jsx)(Le,{path:"/about",element:(0,Uv.jsx)(_y,{})}),(0,Uv.jsx)(Le,{path:"/login",element:e&&s?"teacher"===s?(0,Uv.jsx)(Re,{to:"/teacher",replace:!0}):"student"===s?(0,Uv.jsx)(Re,{to:"/student",replace:!0}):"admin"===s?(0,Uv.jsx)(Re,{to:"/admin/dashboard",replace:!0}):(0,Uv.jsx)(Ay,{}):(0,Uv.jsx)(Ay,{})}),(0,Uv.jsx)(Le,{path:"/signup",element:(0,Uv.jsx)(Oy,{})}),(0,Uv.jsx)(Le,{path:"/student",element:e&&"student"===s?(0,Uv.jsx)($y,{user:e,userDoc:r}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/profile",element:e&&"student"===s?(0,Uv.jsx)(V5,{user:e,userDoc:r,children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit",children:(0,Uv.jsx)(nx,{user:e,userDoc:r})})})}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/quizzes",element:e&&"student"===s?(0,Uv.jsx)(V5,{user:e,userDoc:r,children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit",children:(0,Uv.jsx)(sx,{user:e,userDoc:r})})})}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/performance",element:e&&"student"===s?(0,Uv.jsx)(V5,{user:e,userDoc:r,children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit",children:(0,Uv.jsx)(ux,{user:e,userDoc:r})})})}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/leaderboards",element:e&&"student"===s?(0,Uv.jsx)(V5,{user:e,userDoc:r,children:(0,Uv.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,Uv.jsx)("div",{className:"bg-background rounded-3xl shadow-md border border-gray-100 p-8 min-h-[400px] font-Outfit",children:(0,Uv.jsx)(xx,{user:e,userDoc:r})})})}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/take-quiz/:quizCode",element:e&&"student"===s?(0,Uv.jsx)(_x,{user:e,userDoc:r}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/take-assigned-quiz/:assignmentId",element:e&&"student"===s?(0,Uv.jsx)(_x,{user:e,userDoc:r}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsx)(Le,{path:"/student/take-sync-quiz/:assignmentId",element:e&&"student"===s?(0,Uv.jsx)(Ix,{user:e,userDoc:r}):(0,Uv.jsx)(Re,{to:"/login",replace:!0})}),(0,Uv.jsxs)(Le,{path:"/teacher",element:e&&"teacher"===s?(0,Uv.jsx)(Fx,{user:e,userDoc:r}):(0,Uv.jsx)(Re,{to:"/login",replace:!0}),children:[(0,Uv.jsx)(Le,{path:"classes/add",element:(0,Uv.jsx)(jI,{})}),(0,Uv.jsx)(Le,{path:"class/:classId",element:(0,Uv.jsx)(v3,{})}),(0,Uv.jsx)(Le,{path:"quizzes",element:(0,Uv.jsx)(DI,{})}),(0,Uv.jsx)(Le,{path:"reports",element:(0,Uv.jsx)(u3,{})}),(0,Uv.jsx)(Le,{path:"archives/classes",element:(0,Uv.jsx)(S3,{user:e})}),(0,Uv.jsx)(Le,{path:"archives/quizzes",element:(0,Uv.jsx)(E3,{user:e})}),(0,Uv.jsx)(Le,{path:"edit-quiz/:quizId",element:(0,Uv.jsx)(T3,{})}),(0,Uv.jsx)(Le,{path:"quiz-settings/:quizId",element:(0,Uv.jsx)(_3,{})}),(0,Uv.jsx)(Le,{path:"assign-quiz/:quizId",element:(0,Uv.jsx)(C3,{})}),(0,Uv.jsx)(Le,{path:"assign-quiz-to-class/:quizId/:classId",element:(0,Uv.jsx)(w3,{})}),(0,Uv.jsx)(Le,{path:"quiz-control/:quizId/:classId",element:(0,Uv.jsx)(D3,{})}),(0,Uv.jsx)(Le,{path:"quiz-results/:quizId/:classId",element:(0,Uv.jsx)(R3,{})}),(0,Uv.jsx)(Le,{path:"profile",element:(0,Uv.jsx)(d3,{})})]}),(0,Uv.jsxs)(Le,{path:"/admin",element:e&&"admin"===s?(0,Uv.jsx)(F3,{}):(0,Uv.jsx)(Re,{to:"/login",replace:!0}),children:[(0,Uv.jsx)(Le,{path:"dashboard",element:(0,Uv.jsx)(F3,{})}),(0,Uv.jsx)(Le,{path:"teachers",element:(0,Uv.jsx)(q3,{})}),(0,Uv.jsx)(Le,{path:"students",element:(0,Uv.jsx)(B3,{})}),(0,Uv.jsx)(Le,{path:"analytics",element:(0,Uv.jsx)(U5,{})})]}),(0,Uv.jsx)(Le,{path:"*",element:(0,Uv.jsx)(Re,{to:"/",replace:!0})})]})})},W5=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,8206)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),r(e),a(e),s(e),i(e)})};a.createRoot(document.getElementById("root")).render((0,Uv.jsx)(t.StrictMode,{children:(0,Uv.jsx)(H5,{})})),W5()})()})();